console.log("%cService NSW - Compiled at: Fri Jun 17 2016 10:01:13 GMT+0000 (UTC)","color: #2DB5FA; background: #363636; padding: 0 3px;"),function(){"use strict";String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var a=this.toString();(void 0===t||t>a.length)&&(t=a.length),t-=e.length;var r=a.indexOf(e,t);return-1!==r&&r===t}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),Array.prototype.find||(Array.prototype.find=function(e){if(!this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,a=Object(this),r=a.length>>>0,o=arguments[1],i=0;r>i;i++)if(t=a[i],e.call(o,t,i,a))return t}),Array.prototype.concatAll||(Array.prototype.concatAll=function(){var e=[];return this.forEach(function(t){e.push.apply(e,t)}),e}),String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,a){return"undefined"!=typeof e[a]?e[a]:t})}),Array.prototype.includes||(Array.prototype.includes=function(e){var t=Object(this),a=parseInt(t.length)||0;if(0===a)return!1;var r,o=parseInt(arguments[1])||0;o>=0?r=o:(r=a+o,0>r&&(r=0));for(var i;a>r;){if(i=t[r],e===i||e!==e&&i!==i)return!0;r++}return!1}),Array.prototype.fill||(Array.prototype.fill=function(e){if(null==this)throw new TypeError("this is null or not defined");for(var t=Object(this),a=t.length>>>0,r=arguments[1],o=r>>0,i=0>o?Math.max(a+o,0):Math.min(o,a),s=arguments[2],n=void 0===s?a:s>>0,l=0>n?Math.max(a+n,0):Math.min(n,a);l>i;)t[i]=e,i++;return t}),String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),t+e.length>this.length?!1:-1!==this.indexOf(e,t)}),String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){var a=this;return a.replace(new RegExp(e,"g"),t)})}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d,p,m,g){function f(t,a,r,o,i,s){if(e.isLoading=!1,s&&s.state){var n={};t.preventDefault(),s.returnState||(s.returnState=a.name),s.state&&(n.location="replace");var c=s.returnState;l.go(s.state,c,s,n)}}function b(t,r,o,c,p){i.debug("$stateChangeStart core.Routes.js fromState: "+c.name+" toState: "+r.name),e.isLoading=!0,g.reset();var m=/^rms\./.test(r.name),f=/^etb\./.test(r.name),b=/^sbet\./.test(r.name),h=/^oeh\./.test(r.name);if(e.fromStateRecorded=c,r&&r.name&&!r.name.match(/^linkRMS.*/)&&(e.stateDirection={toState:r,toStateParams:o,fromState:c,fromStateParams:p}),!(m||f||b||h)){var v=r.isPublic,y=r.publicOnly,S=s.isAuthenticated;if(S||v){if(!v)try{n.isAuthenticated().then(function(e){e||l.logIn(r)})["catch"](function(){l.logIn(r)})}catch(C){i.debug("err ",C),l.logIn(r)}}else t.preventDefault(),l.logIn(r);if(S&&y&&(e.isLoading=!1,t.preventDefault(),a.go("dashboard")),!window.envStaticIndex&&"updatedTermsConditions"!==r.name)try{u.check().then(u.showModal)["catch"](function(t){d(function(){e.$emit("firstServerError",t)},1e3)})}catch(C){}}}function h(a,o,i,s,n){"localhost"!==document.location.hostname&&t.ga("send","pageview",{page:r.url()}),e.isLoading=!1,e.$fromState=s,e.$fromParams=n,d(function(){m("transactionProgress")})}"localhost"!==document.location.hostname&&t.ga("create",p,{cookieDomain:"none"}),e.$fromState=null,e.$back=function(t){return null!==e.$fromState?window.history.back():void a.go(t)},e.$on("$stateChangeStart",b),e.$on("$stateChangeError",f),e.$on("$stateChangeSuccess",h),i.log.bind&&e.$on("$stateChangeError",i.log.bind(i,"State Error: "))}e.$inject=["$rootScope","$window","$state","$location","$stateParams","$log","user","userService","redirectService","cookie","updatedTermsConditions","$timeout","analyticsTrackingId","focus","snswLoading"],moment.locale("en-au"),angular.module("ma",["rms","oeh","sip","link","snippets","ui.router","formly","maConfig","easyToDoBusiness","ngMessages","ui-patterns","ui.bootstrap","global-services","templates","ngAria"]),angular.module("ma").run(e)}(),function(){"use strict";angular.module("easyToDoBusiness",["ui-patterns","formly","templates","ngFileUpload","global-services"])}(),function(){"use strict";angular.module("global-services",["maConfig","snippets","ui.router","templates","ngAria"])}(),function(){"use strict";angular.module("link",["link.police","templates"])}(),function(){"use strict";angular.module("mocks",["templates"])}(),function(){"use strict";function e(e,t,a,r,o,i){a.strictMode(!1)}e.$inject=["$stateProvider","$urlRouterProvider","$urlMatcherFactoryProvider","SNIPPETS","user","snswSiteUrl"],angular.module("oeh",["maConfig","ui.router","global-services","ui-patterns","ng.deviceDetector","templates"]),angular.module("oeh").config(e)}(),function(){"use strict";function e(e,t,a,r,o,i){a.strictMode(!1),e.state("rmsPdfFile",{url:"/rms/pdfFile/:fileName/:transactionToken/:fileData",isPublic:!0,views:{main:{controller:"pdfFileController"}}}),e.state("rmsHome",{url:"/rms/trans",views:{main:{templateUrl:"rms/rmsHome/rmsHome.html",controller:"rmsHomeController"}},resolve:{isAuthenticated:["userService",function(e){return e.isAuthenticated()}],isLinkedToRms:["rmsTransactionService","isAuthenticated",function(e,t){return t?e.isCustomerLinkedToMA():void 0}],ipAddress:["ipAddressService",function(e){return e.get()}]}}).state("file",{externalUrl:i,parent:"rmsHome",isPublic:!0}).state("error",{isPublic:!0,parent:"rmsHome",url:"/error/:transactionToken",params:{transErrorInfo:null},views:{"base@rmsHome":{templateUrl:"rms/error/views/error.html",controller:"errorController"}}}).state("quit",{externalUrl:i,parent:"renewRegistration",isPublic:!0})}e.$inject=["$stateProvider","$urlRouterProvider","$urlMatcherFactoryProvider","SNIPPETS","user","snswSiteUrl"],angular.module("rms",["rms.transfer-rego","rms.replace-reg-cert","rms.renew-rego","rms.renew-licence","rms.services","rms.vehicle-history","rms.replace-licence","rms.free-rego-check","maConfig","ui.router","global-services","ui-patterns","templates","rms.filters"]),angular.module("rms").config(e)}(),function(){"use strict";angular.module("sip",["ui-patterns","link.dvs","formly","templates"])}(),function(){"use strict";angular.module("ui-patterns",["ui-patterns-services","ui-patterns-filters","maConfig","ngTouch","ui.router","global-services","snippets","ui.bootstrap","formly","templates"])}(),function(){"use strict";angular.module("link.dvs",["maConfig","ui.router","global-services"])}(),function(){"use strict";angular.module("link.police",["maConfig","ui.router","global-services"])}(),function(){"use strict";angular.module("rms.filters",[])}(),function(){"use strict";angular.module("rms.free-rego-check",["maConfig","ui.router","global-services","ui-patterns","templates","rms.services"])}(),function(){"use strict";angular.module("rms.renew-licence",["maConfig","ui.router","global-services","ui-patterns","ng.deviceDetector","templates","rms.services","rms.filters"])}(),function(){"use strict";angular.module("rms.renew-rego",["maConfig","ui.router","global-services","ui-patterns","templates","rms.services"])}(),function(){"use strict";angular.module("rms.replace-licence",["maConfig","ui.router","global-services","ui-patterns","templates","rms.services","rms.filters"])}(),function(){"use strict";angular.module("rms.replace-reg-cert",["maConfig","ui.router","global-services","ui-patterns","templates","rms.services","rms.filters"])}(),function(){"use strict";angular.module("rms.services",["maConfig","ui.router","global-services","ui-patterns","templates"])}(),function(){"use strict";angular.module("rms.transfer-rego",["maConfig","ui.router","global-services","ui-patterns","templates","rms.services"])}(),function(){"use strict";angular.module("rms.vehicle-history",["rms.free-rego-check","maConfig","ui.router","global-services","ui-patterns","templates","rms.services"])}(),function(){"use strict";angular.module("ui-patterns-filters",[])}(),function(){"use strict";angular.module("ui-patterns-services",["snippets","global-services","ui.bootstrap"])}(),function(){"use strict";function e(e){e.setType({name:"input",controller:"validationSummaryController",templateUrl:"ui-patterns/formly-fields/input/input.html",defaultOptions:{}})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e,t){function a(e,a){switch(a.name){case"etb.screening.personalDetails":e.preventDefault(),i.pageHeading="Getting to know you",i.progress={now:1,max:3};break;case"etb.screening.premiseDetails":e.preventDefault(),i.pageHeading="Getting to know you",i.progress={now:2,max:3};break;case"etb.screening.foodAlcohol":e.preventDefault(),i.pageHeading="Getting to know you",i.progress={now:3,max:3};break;case"etb.dashboard":case"etb.form":i.transactionToken||t.go("etb.callToAction")}}function r(e){e()}function o(){s.forEach(r)}var i=this;i.preScreeningData={},i.formLocked=!1,i.prescreening={model:{}},i.model={},i.summaryPage=[];var s=[e.$on("$stateChangeSuccess",a)];e.$on("$destroy",o)}e.$inject=["$scope","$state"],angular.module("easyToDoBusiness").controller("easyToDoBusinessController",e)}(),function(){"use strict";function e(e,t,a,r,o,i){var s="",n=t.trustAsHtml('<p>If you have a question or need more information about starting a café, restaurant or small bar, we can help you. Call us on <a href="tel:137788">13 77 88</a></p>'),l=function(){return n},c=function(e){return e.response&&2002===e.response.statusCode?a.etbTransactionTimeout()["finally"](function(){return r.reject({state:"etb.callToAction",message:"Your session has timed out."})}):r.reject({state:"etb.callToAction",message:"Wrong transaction token."})},u=function(e){var t=!1;return e.response&&2002===e.response.statusCode&&(a.etbTransactionTimeout()["finally"](function(){o.go("etb.callToAction")}),t=!0),t};return{getHelpText:l,handleResolveError:c,handleTransactionTimeout:u,transaction:s,PRODUCT_CODE:"ETDBAPP"}}e.$inject=["$log","$sce","snswModal","$q","$state","vf"],angular.module("easyToDoBusiness").factory("etbService",e)}(),function(){"use strict";function e(e,t){var a=e.activityName,r="page"+e.page;return t.get(a)[r]}function t(e,t,a){return t.activityStatus(e.transactionToken).then(function(e){return e})["catch"](function(t){return e.handleResolveError(t)})}function a(e,t,a,r,o){return e.transactionToken?t.getCustomerInfo(e.transactionToken).then(function(e){return a.log("getCustomerInfo result: ",e),e})["catch"](function(e){return o.handleResolveError(e)}):r.reject({state:"etb.callToAction",message:"Empty transaction token."})}function r(r){r.state("etb",{"abstract":!0,views:{main:{controller:"easyToDoBusinessController as transaction",templateUrl:"easyToDoBusiness/easy-to-do-business.html"}}}),r.state("etb.screening",{"abstract":!0,views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/screening/etb-screening.html"}}}),r.state("etb.callToAction",{url:"/easyToDoBusiness/callToAction",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/screening/callToAction/etb-call-to-action.html"}}}),r.state("etb.disclaimer",{url:"/easyToDoBusiness/disclaimer",views:{easyToDoBusiness:{template:'<etb-disclaimer transaction="transaction"></etb-disclaimer>'}}}),r.state("etb.userToken",{url:"/easyToDoBusiness/userToken",views:{easyToDoBusiness:{template:'<etb-user-token transaction="transaction"></etb-user-token>'}}}),r.state("etb.terms",{url:"/easyToDoBusiness/termsAndConditions",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/screening/termsAndConditions/etb-terms-and-conditions.html"}}}),r.state("etb.introduction",{url:"/easyToDoBusiness/introduction",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/screening/introduction/etb-introduction.html"}}}),r.state("etb.myDetails",{url:"/easyToDoBusiness/myPersonalDetails/:transactionToken",views:{easyToDoBusiness:{template:'<etb-my-details transaction="transaction" customer-info="customerInfo"></etb-my-details>',controller:["$scope","customerInfo",function(e,t){e.customerInfo=t}]}},resolve:{customerInfo:a}}),r.state("etb.screening.personalDetails",{url:"/easyToDoBusiness/personalDetails",views:{easyToDoBusinessScreening:{template:'<etb-personal-details transaction="transaction"></etb-personal-details>'}}}),r.state("etb.screening.premiseDetails",{views:{easyToDoBusinessScreening:{template:'<etb-premise transaction="transaction"></etb-premise>'}}}),r.state("etb.screening.foodAlcohol",{views:{easyToDoBusinessScreening:{template:'<etb-food-alcohol transaction="transaction"></etb-food-alcohol>'}}}),r.state("etb.premiseDa",{url:"/easyToDoBusiness/premiseDa",views:{easyToDoBusiness:{template:'<etb-premise-Da transaction="transaction"></etb-premise-Da>'}}}),r.state("etb.premiseDaPreform",{url:"/easyToDoBusiness/premiseDaPreform",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/premise-da/form/etb-premise-preform.html"}}}),r.state("etb.premiseDaOwnersConsent",{url:"/easyToDoBusiness/premiseDaOwnersConsent",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/premise-da/static/etb-premise-owners-consent.html"}}}),r.state("etb.premiseDaInputBuilder",{url:"/easyToDoBusiness/premiseDaInputBuilder",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/premise-da/static/etb-premise-input-builder.html"}}}),r.state("etb.premiseDaFinalise",{url:"/easyToDoBusiness/premiseDa/finalise",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/premise-da/static/etb-premise-da-finalise.html"}}}),r.state("etb.premiseConstruction",{url:"/easyToDoBusiness/premiseConstruction",views:{easyToDoBusiness:{template:'<etb-premise-construction transaction="transaction"></etb-premise-construction>'}}}),r.state("etb.premiseConstructionPreform",{url:"/easyToDoBusiness/premiseConstructionPreform",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/premise-construction/form/etb-premise-preform.html"}}}),r.state("etb.premiseConstructionOwnersConsent",{url:"/easyToDoBusiness/premiseConstructionOwnersConsent",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/premise-construction/static/etb-premise-construction-owners-consent.html"}}}),r.state("etb.premiseConstructionNotice",{url:"/easyToDoBusiness/premiseConstructionNotice",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/premise-construction/static/etb-premise-construction-notice.html"}}}),r.state("etb.premiseConstructionWaste",{url:"/easyToDoBusiness/premiseConstructionWaste",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/premise-construction/static/etb-premise-construction-waste.html"}}}),r.state("etb.premiseConstructionFinalise",{url:"/easyToDoBusiness/premiseConstructionFinalise",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/premise-construction/static/etb-premise-construction-finalise.html"}}}),r.state("etb.premiseInspection",{url:"/easyToDoBusiness/premiseInspection",views:{easyToDoBusiness:{template:'<etb-premise-inspection transaction="transaction"></etb-premise-inspection>'}}}),r.state("etb.premiseInspectionAttach",{url:"/easyToDoBusiness/premiseInspectionAttach",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/premise-inspection/attach/etb-premise-inspection-attach.html"}}}),r.state("etb.premiseInspectionSmoke",{url:"/easyToDoBusiness/premiseInspectionSmoke",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/premise-inspection/static/etb-premise-fire-safety-smoke.html"}}}),r.state("etb.premiseInspectionPostConstruction",{url:"/easyToDoBusiness/premiseInspectionPostConstruction",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/premise-inspection/static/etb-premise-post-construction.html"}}}),r.state("etb.premiseInspectionSummary",{url:"/easyToDoBusiness/premiseInspectionSummary",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/premise-inspection/static/etb-premise-summary.html"}}}),r.state("etb.premiseWasteCollection",{url:"/easyToDoBusiness/premiseWasteCollection",views:{easyToDoBusiness:{template:'<etb-premise-waste-collection transaction="transaction"></etb-premise-waste-collection>'}}}),r.state("etb.premiseWasteCollectionPreform",{url:"/easyToDoBusiness/premiseWasteCollectionPreform",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/premise-waste-collection/form/etb-premise-waste-collection-preform.html"}}}),r.state("etb.premiseWasteCollectionRequest",{url:"/easyToDoBusiness/premiseWasteCollectionRequest",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/premise-waste-collection/static/etb-premise-waste-collection-request.html"}}}),r.state("etb.premiseWasteCollectionSummary",{url:"/easyToDoBusiness/premiseWasteCollectionSummary",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/premise-waste-collection/static/etb-premise-waste-collection-summary.html"}}}),r.state("etb.foodSafetyTraining",{url:"/easyToDoBusiness/foodSafetyTraining",views:{easyToDoBusiness:{template:'<etb-food-training transaction="transaction"></etb-food-training>'}}}),r.state("etb.foodSupervisorTraining",{url:"/easyToDoBusiness/foodSupervisorTraining",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/food-training/static/supervisor-training.html"}}}),r.state("etb.foodFfsCertificate",{url:"/easyToDoBusiness/foodFfsCertificate",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/food-training/static/food-authority-ffs-certificate.html"}}}),r.state("etb.foodSafetyFinalise",{url:"/easyToDoBusiness/foodSafetyFinalise",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/food-training/static/next-steps-more-info.html"}}}),r.state("etb.foodInspection",{url:"/easyToDoBusiness/foodInspection",views:{easyToDoBusiness:{template:'<etb-food-inspection transaction="transaction"></etb-food-inspection>'}}}),r.state("etb.foodInspectionHealthPreform",{url:"/easyToDoBusiness/foodInspectionHealthPreform",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/food-inspection/static/health-regulation-application.html"}}}),r.state("etb.foodSafetyCouncil",{url:"/easyToDoBusiness/foodSafetyCouncil",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/food-inspection/static/food-safety-council.html"}}}),r.state("etb.liquorNotifyCommunity",{url:"/easyToDoBusiness/liquorNotifyCommunity",views:{easyToDoBusiness:{template:'<etb-liquor-notify-community transaction="transaction"></etb-liquor-notify-community>'}}}),r.state("etb.liquorNotifyCommunityIntention",{url:"/easyToDoBusiness/liquorNotifyCommunityIntention",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/liquor-notify-community/static/etb-liquor-community-intention.html"}}}),r.state("etb.liquorNotifyCommunityImpact",{url:"/easyToDoBusiness/liquorNotifyCommunityImpact",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/liquor-notify-community/static/etb-liquor-community-impact.html"}}}),r.state("etb.liquorNotifyCommunityAttach",{url:"/easyToDoBusiness/liquorNotifyCommunityAttach",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/liquor-notify-community/attach/etb-notify-community-attach.html"}}}),r.state("etb.liquorNotifyCommunityFinalise",{url:"/easyToDoBusiness/liquorNotifyCommunityFinalise",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/liquor-notify-community/static/etb-liquor-community-finalise.html"}}}),r.state("etb.liquorRSAPolice",{url:"/easyToDoBusiness/liquorRSAPolice",views:{easyToDoBusiness:{template:'<etb-liquor-rsa-police transaction="transaction"></etb-liquor-rsa-police>'}}}),r.state("etb.liquorRSAPoliceRSAProvider",{url:"/easyToDoBusiness/liquorRSAPoliceRSAProvider",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/liquor-rsa-police/static/etb-liquor-rsa-training.html"}}}),r.state("etb.liquorRSAPoliceRSACert",{url:"/easyToDoBusiness/liquorRSAPoliceRSACert",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/liquor-rsa-police/static/etb-liquor-rsa-cert.html"}}}),r.state("etb.liquorRSAPoliceCheck",{url:"/easyToDoBusiness/liquorRSAPoliceCheck",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/liquor-rsa-police/static/etb-liquor-rsa-police-check.html"}}}),r.state("etb.liquorRSAPoliceAttend",{url:"/easyToDoBusiness/liquorRSAPoliceAttend",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/liquor-rsa-police/static/etb-liquor-rsa-police-attend.html"}}}),r.state("etb.liquorRSAPoliceFinalise",{url:"/easyToDoBusiness/liquorRSAPoliceFinalise",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/liquor-rsa-police/static/etb-liquor-rsa-police-finalise.html"}}}),r.state("etb.liquorSmallBars",{url:"/easyToDoBusiness/liquorSmallBars",views:{easyToDoBusiness:{template:'<etb-small-bars transaction="transaction"></etb-small-bars>'}}}),r.state("etb.liquorSmallBarsPreform",{url:"/easyToDoBusiness/liquorSmallBarsPreform",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/liquor-small-bars/form/etb-small-bars-preform.html"}}}),r.state("etb.liquorSmallBarsNotice",{url:"/easyToDoBusiness/liquorSmallBarsNotice",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/liquor-small-bars/static/etb-small-bars-notice.html"}}}),r.state("etb.liquorSmallBarsAttach",{url:"/easyToDoBusiness/liquorSmallBarsAttach",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/liquor-small-bars/attach/etb-small-bars-attach.html"}}}),r.state("etb.liquorSmallBarsFinalise",{url:"/easyToDoBusiness/liquorSmallBarsFinalise",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/liquor-small-bars/static/etb-small-bars-finalise.html"}}}),r.state("etb.liquorCafe",{url:"/easyToDoBusiness/liquorCafe",views:{easyToDoBusiness:{template:'<etb-liquor-cafe transaction="transaction"></etb-liquor-cafe>'}}}),r.state("etb.liquorCafeApplication",{url:"/easyToDoBusiness/liquorCafeApplication",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/liquor-cafe/static/etb-liquor-application.html"}}}),r.state("etb.liquorCafePoliceNotice",{url:"/easyToDoBusiness/liquorCafePoliceNotice",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/liquor-cafe/static/etb-liquor-police-notice.html"}}}),r.state("etb.liquorCafeCompleteNotice",{url:"/easyToDoBusiness/liquorCafeCompleteNotice",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/liquor-cafe/static/etb-liquor-complete-notice.html"}}}),r.state("etb.liquorCafeNotice",{url:"/easyToDoBusiness/liquorCafeNotice",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/liquor-cafe/static/etb-liquor-notice.html"}}}),r.state("etb.liquorCafeAttach",{url:"/easyToDoBusiness/liquorCafeAttach",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/liquor-cafe/attach/etb-liquor-cafe-attach.html"}}}),r.state("etb.liquorCafeFinalise",{url:"/easyToDoBusiness/liquorCafeFinalise",views:{easyToDoBusiness:{templateUrl:"easyToDoBusiness/liquor-cafe/static/etb-liquor-finalise.html"}}}),r.state("etb.operations",{url:"/easyToDoBusiness/operations",views:{easyToDoBusiness:{template:'<etb-operations transaction="transaction"></etb-operations>'}}}),r.state("etb.dashboard",{url:"/easyToDoBusiness/dashboard",views:{easyToDoBusiness:{template:'<etb-dashboard transaction="transaction"></etb-dashboard>'}}}),r.state("etb.form",{url:"/easyToDoBusiness/form",views:{easyToDoBusiness:{template:'<etb-form transaction="transaction" formfields="formFields" form-input="formInput" activity-lock="activityStatus"></etb-form>',controller:["$scope","formFields","formInputStatus",function(e,t,a){e.formFields=t,e.activityStatus=a.activityLock,e.formInput=a.input}]}},resolve:{formFields:e,formInputStatus:t},params:{activityName:"",page:1,returnState:""}}),r.state("etb.formSummary",{url:"/easyToDoBusiness/formSummary",views:{easyToDoBusiness:{template:'<etb-form-summary transaction="transaction"></etb-form-summary>'}},params:{readOnly:!1}})}function o(e,t,a,r){function o(e,a,r){"etb.form"===a.name&&""===r.activityName&&t.go("etb.dashboard")}e.$on("$stateChangeSuccess",function(){r.scrollTop()}),e.$on("$stateChangeError",o)}a.$inject=["$stateParams","etbMyDetailsService","$log","$q","etbService"],e.$inject=["$stateParams","$injector"],t.$inject=["etbService","etbFormService","$q"],o.$inject=["$rootScope","$state","$window","UIService"],r.$inject=["$stateProvider"],angular.module("easyToDoBusiness").run(o).config(r)}(),function(){"use strict";function e(){function e(t){return"Error"===t.name?e({type:"danger",heading:"Error!",text:t.message}):angular.extend({},{type:"info"},t)}function t(){return o}function a(){return[].splice.call(arguments,0,0,o),angular.extend.apply(void 0,arguments)}function r(){for(var e in o)o.hasOwnProperty(e)&&delete o[e];return o}var o={};return{alert:e,getModel:t,resetModel:r,updateModel:a}}angular.module("oeh").factory("oehTransactionService",e)}(),function(){"use strict";function e(e){e.state("oeh",{title:"Office of Environment and Heritage",url:"/oeh","abstract":!0,views:{main:{controller:"nationalParkPassController as application",template:'<div ui-view="oeh"></div>'}}})}e.$inject=["$stateProvider"],angular.module("oeh").config(e)}(),function(){"use strict";function e(e){e.state("updatedTermsConditions",{url:"/updatedTermsConditions",views:{main:{templateUrl:"core/updatedTermsConditions/updatedTermsConditions.html",controller:"updatedTermsConditionsController"}},data:{title:"Terms & conditions"}}),e.state("redirect",{url:"/redirect?returnState&token",isPublic:!0,params:{returnState:"dashboard"},views:{main:{controller:"redirectController"}}})}e.$inject=["$stateProvider"],angular.module("ma").config(e)}(),function(){"use strict";function e(){var e={};return e.init=function(t,a,r){e.agencyName=t,e.transactionName=a,e.currentPageName=r,e.pages=[r],e.pageStatus="new",e.fieldList=[],e.fields={}},e.registerField=function(t,a){e.fields[t]=a.fieldValue||null,e.fieldList.push(t)},e.fields={},e.formName="",e}angular.module("ma").factory("formstate",e)}(),function(){"use strict";function e(e){this.getSecurityQuestions=function(){var t={remoteAction:"maSecQuestionCtrl.getSecurityQuestions"};return e.call(t)},this.updateSecurityQuestions=function(t,a,r,o,i,s,n){var l={params:[t,a,r,o,i,s,n],remoteAction:"maSecQuestionCtrl.updateSecurityQuestions"};return e.call(l)}}e.$inject=["vf"],angular.module("ma").service("maSecQuestion",e)}(),function(){"use strict";function e(e){this.getFields=function(){return e.getSalutationValues().then(function(e){return[{key:"salutation",type:"select",wrapper:["label","validation"],templateOptions:{label:"Title",options:e,placeholder:" ",classes:{validationContainer:["row"],validation:["col-md-3"]}}},{key:"firstName",type:"input",wrapper:["label","validation"],templateOptions:{label:"First name",maxlength:40}},{key:"middleName",type:"input",wrapper:["label","validation"],templateOptions:{label:"Middle name",maxlength:40}},{key:"lastName",type:"input",wrapper:["label","validation"],templateOptions:{label:"Last name",maxlength:80}}]})}}e.$inject=["myAccountAPI"],angular.module("ma").service("nameFields",e)}(),function(){"use strict";function e(e,t){function a(e,a,r,o,i,s){"MA_TRANSACTION_TIMED_OUT"===s.message&&o.name.includes("sip")&&(e.preventDefault(),t.go(a.name,r,{reload:!0}))}e.$on("$stateChangeError",a)}function t(e,t){function a(e,t){return e.getApplicantDetails(t.transactionToken)}function r(e){return e.getStatusesForControlPanel()}function o(e,t){return e.getBankDetails(t.transactionToken)}function i(e,t,a){return t.getLinkingInfo({transactionToken:a.transactionToken}).then(function(t){return t.isDVSAlreadyDone?e.reject({message:"User already has done DVS",state:"sip.dashboard"}):e.resolve(t)})}r.$inject=["sipDashboardService"],o.$inject=["bankDetailsService","dashboard"],i.$inject=["$q","dvsService","dashboard"],a.$inject=["scholarshipApplicationService","dashboard"],t.when("/sip","/sip/dashboard"),e.state("sip",{url:"/sip","abstract":!0,views:{main:{controller:"sipController as application",templateUrl:"sip/sip.html"}},resolve:{dashboard:r},data:{title:"Jobs of Tomorrow Scholarship"}}).state("sip.dashboard",{url:"/dashboard",views:{sip:{template:'<sip-dashboard dashboard="application.dashboard"></sip-dashboard>'}}}).state("sip.bankDetails",{url:"/bankDetails",views:{sip:{template:'<sip-bank-details dashboard="application.dashboard" bank-details="sip.bankDetails"></sip-bank-details>',controllerAs:"sip",controller:["bankDetails",function(e){this.bankDetails=e}]}},resolve:{bankDetails:o}}).state("sip.dvs",{url:"/dvs",views:{sip:{template:'<sip-dvs linking-info="sip.linkingInfo"></sip-dvs>',controllerAs:"sip",controller:["linkingInfo",function(e){this.linkingInfo=e}]}},resolve:{linkingInfo:i}}).state("sip.application",{url:"/application",views:{sip:{template:'<scholarship-application dashboard="application.dashboard" model="sip.model"></scholarship-application>',controllerAs:"sip",controller:["model",function(e){this.model=e}]}},resolve:{model:a}})}e.$inject=["$rootScope","$state"],t.$inject=["$stateProvider","$urlRouterProvider"],angular.module("sip").run(e).config(t)}(),function(){"use strict";function e(e){this.dashboard=e,this.pageHeading="Jobs of Tomorrow Scholarship application"}e.$inject=["dashboard"],angular.module("sip").controller("sipController",e)}(),function(){"use strict";function e(e,t){var a=this;a.transaction.summaryPage=[],a.openInformationModal=function(){e.confirmation({header:null,body:"If you would like to find out more information about operational aspects of your business, contact your Small Business Representative on 1800 134 567.",secondaryButton:"OK, I got it",primaryButton:""})};var r=t.trustAsHtml("<p>Starting a small business is exciting, but because the application process can sometimes seem quite daunting, the Small Business Navigator is designed to guide you through each of the steps you'll need to take.</p><p>If you're just getting started, we suggest you begin with Complete a Development Application. If you're an existing customer, please continue where you left off.</p><p>Need help? Feel free to call us on 13 77 88</p>");a.alert={html:r}}e.$inject=["snswModal","$sce"],angular.module("easyToDoBusiness").controller("etbDashboardController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/dashboard/etb-dashboard.html",controller:"etbDashboardController as dashboard"}}angular.module("easyToDoBusiness").directive("etbDashboard",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"=",returnState:"="},transclude:!0,restrict:"E",controller:"etbFileUploadController as fileUpload",templateUrl:"easyToDoBusiness/file-upload/etb-file-upload.html"}}angular.module("easyToDoBusiness").directive("etbFileUpload",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s){function n(e){e.stopImmediatePropagation(),r.open({heading:null,primaryButton:"Back",secondaryButton:"Ok",body:"You will now be prompted to select the appropriate file(s) to upload"}).then(function(e){i.log("snswModal then, ",e)})["catch"](function(t){i.log("snswModal catch",t),"cancel"===t&&(i.log("$event: ",e),angular.element(e.srcElement.parentElement).triggerHandler("click"))})}function l(e){p.files=e,e.length&&(p.hideFirstState=!0)}function c(e){p.alert=void 0,e?p.hideFirstState=!1:a.go(p.returnState)}function u(){t.fetchUploadPathsAndUpload(p.transaction.transactionToken,p.files).then(d)["catch"](function(e){s.handleTransactionTimeout(e)||(p.alert=o.alert(e))})}function d(){return r.open({heading:null,primaryButton:"Ok",secondaryButton:null,body:"Thank you for submitting your supporting documents."}).then(c)}var p=this;p.hideFirstState=!1,p.files=[],angular.extend(p,{prompt:n,changeView:l,alert:void 0,goBack:c,submit:u})}e.$inject=["Upload","etbFileUploadService","$state","snswModal","alertService","$log","etbService"],angular.module("easyToDoBusiness").controller("etbFileUploadController",e)}(),function(){"use strict";function e(e,t,a,r){function o(e){return function(r){return u.processingFiles=r,a.isLoading=!0,t.all(r.map(function(t,a){return i(t,e[a])}))}}function i(e,t){return r.http({url:e.uploadUrl,headers:{"Content-Type":e.mimeType,"x-amz-server-side-encryption":"AES256"},method:"PUT",data:t})}function s(e){return{fileName:e.name,uploadUrl:"",fileSizeKb:Math.ceil(e.size/1024),mimeType:e.type,s3FileNAme:"",status:"Pending"}}function n(){return u.processingFiles.map(function(e){
return e.status="Processed",e})}function l(t,a){var r={remoteAction:"EtdBFormCtrl.RequestS3SecureUploadURL",params:[JSON.stringify({transactionToken:t,fileList:a})],resultMap:function(e){return e.statusObject.fileList}};return e.call(r)}function c(t,a){var r={remoteAction:"EtdBFormCtrl.ConfirmS3SecureUploadURL",params:[JSON.stringify({transactionToken:t,fileList:a})]};return e.call(r)}var u=this;u.processingFiles=[],this.fetchUploadPathsAndUpload=function(e,t){var r=t.map(s);return l(e,r).then(o(t)).then(n).then(function(t){c(e,t)})["finally"](function(){a.isLoading=!1})}}e.$inject=["vf","$q","$rootScope","Upload"],angular.module("easyToDoBusiness").service("etbFileUploadService",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/food-inspection/etb-food-inspection.html",controller:"etbFoodInspectionController as activity"}}angular.module("easyToDoBusiness").directive("etbFoodInspection",e)}(),function(){"use strict";function e(e){var t=this;t.steps=[{title:"Task 1:  Register a retail food business",information:"All retail food businesses operating within the Parramatta City Council area must register their details with Council. ",timeframe:[{label:"Cost: ",value:"free"},{label:"Time: ",value:"about 15 minutes to complete your application "}],actionButton:{label:"Get started",link:"etb.foodInspectionHealthPreform"},taskType:{label:"Task Type",status:"Online"}},{title:"Task 2: Prepare for food safety inspection",information:"Parramatta City Council will carry out a food inspection to check that you comply with regulations to serve and sell food.",timeframe:[{label:"Cost: ",value:"from $128"},{label:"Time: ",value:"varied, but about 1 day"}],actionButton:{label:"Get started",link:"etb.foodSafetyCouncil"},taskType:{label:"Task Type",status:"In person"}},{title:"Need help?",informationHtml:e.getHelpText()}]}e.$inject=["etbService"],angular.module("easyToDoBusiness").controller("etbFoodInspectionController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/food-training/etb-food-training.html",controller:"etbFoodTrainingController as activity"}}angular.module("easyToDoBusiness").directive("etbFoodTraining",e)}(),function(){"use strict";function e(e){var t=this;t.steps=[{title:"Task 1: Appoint a food safety supervisor",information:"A food safety supervisor (FSS) is trained to recognise and prevent risks associated with food handling in a retail food business. You’ll need to appoint at least one FSS if your business is going to sell food and drinks. ",timeframe:[{label:"Cost: ",value:"$30 for the certificate, plus training costs of around $140 (training costs depend on the provider you choose)"},{label:"Time: ",value:"about 1 day"}],actionButton:{label:"Get started",link:"etb.foodSupervisorTraining"},taskType:{label:"Task Type",status:"In person"}},{title:"Need help?",informationHtml:e.getHelpText()}]}e.$inject=["etbService"],angular.module("easyToDoBusiness").controller("etbFoodTrainingController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"=",formfields:"=",activityLock:"=",formInput:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/forms/etb-form.html",controller:"etbFormController as onlineForm"}}angular.module("easyToDoBusiness").directive("etbForm",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n){function l(){d(),c()}function c(){var e=p.activityLock?p.activityLock:void 0;e&&(p.transaction.returnState.startsWith("etb.premise")&&"Lock"===e.PremiseKey||p.transaction.returnState.startsWith("etb.food")&&"Lock"===e.FoodSafteyKey||p.transaction.returnState.startsWith("etb.liquor")&&"Lock"===e.LiquorKey?(p.transaction.formLocked=!0,p.transaction.lastPage=Object.keys(m).length,u(),a.go("etb.formSummary",{readOnly:!0})):p.transaction.formLocked=!1)}function u(){var e=m,t=p.model;angular.forEach(e,function(e){var a=o.getSummaryObjFromResumeData(e,t);p.transaction.summaryPage.push(a)})}function d(){e.returnState&&(p.transaction.returnState=e.returnState,p.transaction.lastTransaction=e.activityName)}var p=this,m=t.get(e.activityName),g=e.page;p.alert=void 0,void 0===p.formfields?(p.transaction.lastPage=--g,a.go("etb.formSummary")):p.fields=p.formfields,p.model=o.parseBooleanValues(p.formInput),p.options={formState:angular.extend({},r)},p.progress={max:Object.keys(m).length+1},p.progress.now=g,p.saveExit=function(){p.form.$valid?o.saveInput(p.transaction.transactionToken,p.model).then(function(){a.go(p.transaction.returnState)})["catch"](function(e){n.handleTransactionTimeout(e)||(p.alert=i.alert(e))}):p.form.$setSubmitted()},p.onSubmit=function(t,r){p.form.$valid?(p.transaction.summaryPage[g]=o.getSummaryObj(t,r),o.saveInput(p.transaction.transactionToken,r).then(function(){g=++g,p.transaction.model=p.model,a.go("etb.form",{activityName:e.activityName,page:g})})["catch"](function(e){n.handleTransactionTimeout(e)||(p.alert=i.alert(e))})):s.scrollTop()},p.back=function(t){s.scrollTop(),p.form.$valid?o.saveInput(p.transaction.transactionToken,t).then(function(){g=--g,1>g?a.go(p.transaction.returnState):a.go("etb.form",{activityName:e.activityName,page:g})})["catch"](function(e){n.handleTransactionTimeout(e)||(p.alert=i.alert(e))}):p.form.$setSubmitted()},l()}e.$inject=["$stateParams","$injector","$state","etbFormStateService","etbFormService","alertService","UIService","etbService"],angular.module("easyToDoBusiness").controller("etbFormController",e)}(),function(){"use strict";function e(e){function t(e){var t;if(e.templateOptions&&e.templateOptions.label){t={},t.label=e.templateOptions.label;for(var a in r)e.key===a&&(t.value=r[a])}if("select"===e.type||"radio"===e.type)for(var o=e.value(),i=0;i<e.templateOptions.options.length;i++)e.templateOptions.options[i].value===o&&(t.value=e.templateOptions.options[i].label);return t}function a(e){for(var t in e)"undefined"!=typeof e[t]&&e[t].hasOwnProperty("dpid")&&(e[t]=e[t].address)}var r,o=function(e,a){var o,i=[];return r=angular.copy(a),e.forEach(function(e){e.fieldGroup?e.fieldGroup.forEach(function(e){o=t(e),i&&i.push(o)}):(o=t(e),o&&i.push(o))}),i},i=function(e,t){function a(e){return e.templateOptions?e.templateOptions.label?e.templateOptions.label:e.templateOptions.labels&&e.templateOptions.labels.length>0?e.templateOptions.labels[0].text:void 0:""}function r(e,t){if(e.type&&("select"===e.type||"radio"===e.type)&&e.templateOptions&&e.templateOptions.options&&e.templateOptions.options.length>0){var a=e.templateOptions.options.filter(function(e){return e.value===t});if(a.length>0)return a[0].label}return t}function o(e){e.forEach(function(e){if(e.fieldGroup)o(e.fieldGroup);else if(e.key){var s=r(e,t[e.key]),n=a(e);i.push({label:n,value:s})}})}var i=[];return o(e),i},s=function(t,r){a(r);var o={remoteAction:"EtdBFormCtrl.SaveInput",params:[JSON.stringify({transactionToken:t,input:r})]};return e.call(o)},n=function(t,a){var r={remoteAction:"EtdBFormCtrl.SubmitForm",params:[JSON.stringify({transactionToken:t,formDescription:a})]};return e.call(r)},l=function(t){var a={remoteAction:"EtdBFormCtrl.GetActivityLock",params:[JSON.stringify({transactionToken:t})],resultMap:function(e){var t=e.statusObject;return t}};return e.call(a)},c=function(e){return angular.forEach(e,function(t,a){"true"===t?e[a]=!0:"false"===t&&(e[a]=!1)}),e};return{getSummaryObj:o,parseBooleanValues:c,getSummaryObjFromResumeData:i,saveInput:s,activityStatus:l,submitForm:n}}e.$inject=["vf"],angular.module("easyToDoBusiness").factory("etbFormService",e)}(),function(){"use strict";function e(e){var t={validDateErrorMessage:function(e,t){var a=t||"DD/MM/YYYY";return"Invalid please enter as "+a+"."},requiredDateErrorMessage:function(e,t){return"Please enter the as "+t+"."}};return{partialDate:e,errorMessages:t}}e.$inject=["partialDate"],angular.module("easyToDoBusiness").service("etbFormStateService",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/forms-summary/etb-form-summary.html",controller:"etbFormSummaryController as summary"}}angular.module("easyToDoBusiness").directive("etbFormSummary",e)}(),function(){"use strict";function e(e,t,a,r,o,i){function s(){return o.open({heading:null,primaryButton:"Ok",secondaryButton:null,body:"Thank you for submitting your form."}).then(function(){t.go(c.returnState)})}function n(){r.submitForm(c.transaction.transactionToken,c.formDescription).then(s)["catch"](function(e){c.alert=i.alert(e)})}function l(){return c.readOnly?t.go(c.transaction.returnState):t.go("etb.form",{activityName:c.transaction.lastTransaction,page:c.transaction.lastPage})}var c=this;c.progress={max:c.transaction.lastPage+1};var u={daFormService:{pageHeading:e.trustAsHtml("Development Application"),returnState:"etb.premiseDa",formDescription:"Development Application"},daConstructionFormService:{pageHeading:e.trustAsHtml("Construction Certificate"),returnState:"etb.premiseConstruction",formDescription:"Construction Certificate"},daConstuctionNoticeFormService:{pageHeading:e.trustAsHtml("Notice of Commencement and additional construction needs"),returnState:"etb.premiseConstruction",formDescription:"Notice of Commencement and additional construction needs"},foodHealthRegulationFormService:{pageHeading:e.trustAsHtml("Health Regulation Application"),returnState:"etb.foodInspection",formDescription:"Register a retail food business"},liquorCommunityImpactFormService:{pageHeading:e.trustAsHtml("Community Impact Statement"),returnState:"etb.liquorNotifyCommunity",formDescription:"Community Impact Statement"},liquorSmallBarLicenceFormService:{pageHeading:e.trustAsHtml("Small Bars Licence"),returnState:"etb.liquorSmallBars",formDescription:"Small Bars Liquor Licence Application"},liquorCafeLicenceFormService:{pageHeading:e.trustAsHtml("On-premise Cafe/Restaurant Licence"),returnState:"etb.liquorCafe",formDescription:"On-premise Liquor Licence Application"}};angular.extend(c,{submit:n,goBack:l,alert:null,readOnly:a.readOnly},u[c.transaction.lastTransaction])}e.$inject=["$sce","$state","$stateParams","etbFormService","snswModal","alertService"],angular.module("easyToDoBusiness").controller("etbFormSummaryController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/liquor-cafe/etb-liquor-cafe.html",controller:"etbLiquorCafeController as activity"}}angular.module("easyToDoBusiness").directive("etbLiquorCafe",e)}(),function(){"use strict";function e(e){var t=this;t.steps=[{title:"Task 1: Apply for an on-premises liquor licence ",information:"An on-premises liquor licence lets you serve alcohol with meals at your cafe or restaurant.",timeframe:[{label:"Cost: ",value:"$700 when your application is submitted, and ongoing annual licence fees"},{label:"Time to complete:",value:"about 60 minutes to complete the form"}],actionButton:{label:"Get started",link:"etb.liquorCafeApplication"},taskType:{label:"Task Type",status:"Online"}},{title:"Task 2: Complete a public consultation – site notice",information:"As part of your on-premises liquor licence application, you’ll need to complete a public consultation – site notice.",timeframe:[{label:"Cost: ",value:"free"},{label:"Time to complete: ",value:"varies"}],actionButton:{label:"Get started",link:"etb.liquorCafeNotice"},taskType:{label:"Task Type",status:"In person"}},{title:"Task 3: Upload supporting documents",information:"You'll need to upload several supporting documents as part of your on-premises liquor licence application.",timeframe:[{label:"Cost:",value:"free"},{label:"Time to complete:",value:"varies"}],actionButton:{label:"Get started",link:"etb.liquorCafeAttach"},taskType:{label:"Task Type",status:"Online"}},{title:"Task 4: Finalise an on-premises liquor licence application ",information:"We'll contact you to finalise your on-premises liquor licence application.",timeframe:[{label:"Cost: ",value:"from $700, plus ongoing yearly licence fees. If you want to apply for an extended trading authorisation (ETA), the additional fee for the ETA is $1250"},{label:"Time to complete: ",value:"TBD"}],actionButton:{label:"Get started",link:"etb.liquorCafeFinalise"},taskType:{label:"Task Type",status:"In person"}},{title:"Need help?",informationHtml:e.getHelpText()}]}e.$inject=["etbService"],angular.module("easyToDoBusiness").controller("etbLiquorCafeController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/liquor-notify-community/etb-notify-community.html",controller:"etbLiquorNotifyCommunityController as activity"}}angular.module("easyToDoBusiness").directive("etbLiquorNotifyCommunity",e)}(),function(){"use strict";function e(e){var t=this;t.steps=[{title:"Task 1: Consult your community for your CIS",information:"If you’re opening a restaurant or café, and want to be able to serve alcohol without food, you’ll need to apply for a Primary Service Authorisation (PSA) with your on-premises liquor licence. The PSA requires a community impact statement (CIS), which summarises any potentially negative aspects your licence might have on the neighbourhood.",timeframe:[{label:"Cost: ",value:"free"},{label:"Time to complete: ",value:"varies"}],actionButton:{label:"Get started",link:"etb.liquorNotifyCommunityIntention"},taskType:{label:"Task Type",status:"In person"}},{title:"Task 2: Prepare a Community Impact Statement",information:"If you’re opening a restaurant or café, and want to be able to serve alcohol without food, you’ll need to apply for a Primary Service Authorisation (PSA) with your on-premises liquor licence. A PSA application requires a Community Impact Statement (CIS). This statement summarises any issues that have been raised after consultation with your local community, and how you’ve worked to resolve those issues.",timeframe:[{label:"Cost: ",value:"free"},{label:"Time to complete: ",value:"about a week, but it needs to be completed 30 days before a liquor licence application"}],actionButton:{label:"Get started",link:"etb.liquorNotifyCommunityImpact"},taskType:{label:"Task Type",status:"Online"}},{title:"Need help?",informationHtml:e.getHelpText()}]}e.$inject=["etbService"],angular.module("easyToDoBusiness").controller("etbLiquorNotifyCommunityController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/liquor-rsa-police/etb-liquor-rsa-police.html",controller:"etbLiquorRSAPoliceController as activity"}}angular.module("easyToDoBusiness").directive("etbLiquorRsaPolice",e)}(),function(){"use strict";function e(e){var t=this;t.steps=[{title:"Task 1: Undertake Responsible Service of Alcohol (RSA) training",information:"To apply for your on-premises liquor licence and become the licensee, you‘ll need to have completed Responsible Service of Alcohol (RSA) training, and attained your photo competency card.",timeframe:[{label:"Cost: ",value:"from $70, but varies depending on the training provider"},{label:"Time:",value:"6 to 8 hours, but varies depending on the training provider"}],actionButton:{label:"Get started",link:"etb.liquorRSAPoliceRSAProvider"},taskType:{label:"Task Type",status:"Online or in person"}},{title:"Task 2: Apply for a Competency Card",information:"Before you apply for your on-premises liquor licence you’ll need to have completed your Responsible Service of Alcohol (RSA) training, and attained your photo competency card.",timeframe:[{label:"Cost: ",value:"from $70, included in RSA training cost"},{label:"Time: ",value:"your card will be ordered and sent to you within 3 weeks"}],actionButton:{label:"Get started",link:"etb.liquorRSAPoliceRSACert"},taskType:{label:"Task Type",status:"In person"}},{title:"Task 3: Apply for a NSW National Police Certificate",information:"Before you lodge an application for a liquor licence, you must get a National Police Certificate to determine your suitability to hold a liquor licence. This will include a criminal record check. Your certificate will need to be attached to your liquor licence application, and it must have been issued within the 3 months before you submit your liquor licence application. ",timeframe:[{label:"Cost: ",value:"$53.30"},{label:"Time: ",value:"2 to 3 hours to complete the application and attend an interview, plus up to 30 days for processing"}],actionButton:{label:"Get started",link:"etb.liquorRSAPoliceCheck"},taskType:{label:"Task Type",status:"In person"}},{title:"Need help?",informationHtml:e.getHelpText()}]}e.$inject=["etbService"],angular.module("easyToDoBusiness").controller("etbLiquorRSAPoliceController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/liquor-small-bars/etb-small-bars.html",controller:"etbSmallBarsController as activity"}}angular.module("easyToDoBusiness").directive("etbSmallBars",e)}(),function(){"use strict";function e(e){var t=this;t.steps=[{title:"Task 1: Apply for a Small Bar Licence",information:"A Small Bar Liquor Licence lets you serve alcohol at a bar with a limited patron capacity of 60 people.",timeframe:[{label:"Cost:",value:"free, however fees will apply when finalising your application"},{label:"Time to complete: ",value:"approximately 60 minutes to complete your small bar licence application form"}],actionButton:{label:"Get started",link:"etb.liquorSmallBarsPreform"},taskType:{label:"Task Type",status:"Online"}},{title:"Task 2: Complete a local police notice",information:"As part of your small bar liquor licence application, you’ll need to notify the police station nearest your business premises of your application.",timeframe:[{label:"Cost:",value:"free"},{label:"Time to complete:",value:"varies"}],actionButton:{label:"Get started",link:"etb.liquorSmallBarsNotice"},taskType:{label:"Task Type",status:"In person"}},{title:"Task 3: Upload supporting documents",information:"You’ll need to upload several supporting documents as part of your small bar liquor licence application.",timeframe:[{label:"Cost:",value:"free"},{label:"Time to complete:",value:"varies"}],actionButton:{label:"Get started",link:"etb.liquorSmallBarsAttach"},taskType:{label:"Task Type",status:"Online"}},{title:"Task 4: Finalise a small bar liquor licence application  ",information:"We'll contact you to finalise your small bar liquor licence application.",timeframe:[{label:"Cost:",value:"from $350, plus ongoing yearly licence fees. If you want to apply for optional extended trading authorisation (ETA), the additional fee for the ETA is $1250."},{label:"Time to complete:",value:"TBD"}],actionButton:{label:"Get started",link:"etb.liquorSmallBarsFinalise"},taskType:{label:"Task Type",status:"In person"}},{title:"Need help?",informationHtml:e.getHelpText()}]}e.$inject=["etbService"],angular.module("easyToDoBusiness").controller("etbSmallBarsController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"=",customerInfo:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/myDetails/etb-my-details.html",controller:"etbMyDetailsController as details"}}angular.module("easyToDoBusiness").directive("etbMyDetails",e)}(),function(){"use strict";function e(e,t,a,r){var o=this;o.model=o.customerInfo,o.fields=t.getMyDetailsFields(),o.options={formState:{readOnly:!0}},o.onSubmit=function(e){o.form.$valid}}e.$inject=["$state","etbMyDetailsService","etbScreeningService","$log"],angular.module("easyToDoBusiness").controller("etbMyDetailsController",e)}(),function(){"use strict";function e(e,t){var a=function(){var e=[{template:"<b>Personal Information</b>"},{key:"person.title",type:"input",wrapper:["bootstrap-row-col","label"],templateOptions:{maxlength:80,required:!0,label:"Title",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"person.firstName",type:"input",wrapper:["bootstrap-row-col","label"],templateOptions:{maxlength:80,required:!0,label:"First Name",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"person.middleName",type:"input",wrapper:["bootstrap-row-col","label"],templateOptions:{maxlength:80,label:"Middle Name",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"person.lastName",type:"input",wrapper:["bootstrap-row-col","label"],templateOptions:{maxlength:80,required:!0,label:"Last Name",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{template:"<hr>"},{template:"<b>Postal address</b>"},{key:"person.street",type:"input",wrapper:["bootstrap-row-col","label"],templateOptions:{required:!0,label:"Street ",bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"person.suburb",type:"input",wrapper:["bootstrap-row-col","label"],templateOptions:{required:!0,label:"Suburb",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"person.state",type:"input",wrapper:["bootstrap-row-col","label"],templateOptions:{required:!0,label:"State",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"person.postcode",type:"input",wrapper:["bootstrap-row-col","label"],templateOptions:{required:!0,label:"Postcode",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{template:"<hr>"},{template:"<b>Contact details</b>"},{key:"person.mobileNumber",type:"input",wrapper:["bootstrap-row-col","label"],templateOptions:{maxlength:12,required:!0,label:"Mobile number",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"person.workNumber",type:"input",wrapper:["bootstrap-row-col","label"],templateOptions:{maxlength:15,label:"Work number",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"person.emailAddress",type:"input",wrapper:["bootstrap-row-col","label"],templateOptions:{type:"email",maxlength:80,required:!0,label:"Email address",bootstrapColClassNames:"col-xs-12 col-sm-4"}},{template:"<hr/><b>Business Details</b>"},{key:"business.businessName",type:"input",wrapper:["bootstrap-row-col","label"],templateOptions:{maxlength:80,required:!0,label:"Your Registered Business Name",bootstrapColClassNames:"col-xs-12 col-sm-5"}},{key:"business.tradingName",type:"input",wrapper:["bootstrap-row-col","label"],templateOptions:{maxlength:80,required:!0,label:"Your Trading Name",bootstrapColClassNames:"col-xs-12 col-sm-5"}},{key:"business.abn",type:"input",wrapper:["bootstrap-row-col","label"],templateOptions:{maxlength:11,required:!0,label:"Your Australian Business Number (ABN)",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"business.acn",type:"input",wrapper:["bootstrap-row-col","label"],templateOptions:{maxlength:11,label:"Your Australian Company Number (ACN)",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{template:"<hr><b>Business address</b>"},{key:"business.businessStreet",type:"input",wrapper:["bootstrap-row-col","label"],templateOptions:{required:!0,label:"Street",bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"business.businessSuburb",type:"input",wrapper:["bootstrap-row-col","label"],templateOptions:{required:!0,label:"Suburb",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"business.businessState",type:"input",wrapper:["bootstrap-row-col","label"],templateOptions:{required:!0,label:"State",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"business.businessPostcode",type:"input",wrapper:["bootstrap-row-col","label"],templateOptions:{required:!0,label:"Postcode",bootstrapColClassNames:"col-xs-12 col-sm-2"}}];return e},r=function(t){var a={transactionToken:t},r={remoteAction:"EtdBFormCtrl.GetCustomerInfo",params:[JSON.stringify(a)],resultMap:function(e){return e.statusObject}};return e.call(r)};return{getMyDetailsFields:a,getCustomerInfo:r}}e.$inject=["vf","$log"],angular.module("easyToDoBusiness").factory("etbMyDetailsService",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/operations/etb-operations.html",controller:"etbOperationsController as activity"}}angular.module("easyToDoBusiness").directive("etbOperations",e)}(),function(){"use strict";function e(){var e=this;e.steps=[{title:"Step 1: Meet development consent conditions",information:"You may need to get consent from your local council before you can carry out development work on your business premises.",timeframe:[{label:"Estimated time to complete:",value:"3 hours"},{label:"Estimated processing time: ",value:"1 Week"},{label:"People involved is this task:",value:"you"}],actionButton:{label:"View Information",link:""},taskType:{label:"Task Type",status:"Online"}},{title:"Step 2: Prepare for development",information:"You may need approval from your water provider to discharge commercial trade waste water into a public sewer.",timeframe:[{label:"Estimated time to complete:",value:"20 minutes"},{label:"Estimated processing time:",value:"3 days"},{label:"People involved in this task:",value:"You"}],actionButton:{label:"Go to form",link:""},taskType:{label:"Task Type",status:"Online"}},{title:"Step 3: Attach supporting documents",information:"You will need to attach several supporting documents to support your application.",timeframe:[{label:"Estimated time to complete:",value:"15 minutes"},{label:"Estimated processing time:",value:"1 day"},{label:"People involved is this task:",value:"You"}],actionButton:{label:"Attach documents",link:""},taskType:{label:"Task Type",status:"Online"}},{title:"Step 4: Finalise application with a SNSW representative",information:"A SNSW representative of the Small Business Enablement Team will contact you within 2 days of uploading your supporting documents to finalise your application.",timeframe:[{label:"Estimated length of call:",value:"30 minutes"},{label:"Estimated time to receive call:",value:"2 days after submitting your supporting documents."},{label:"People involved in this task:",value:"You and a SNSW representative"}],actionButton:{label:"View information",link:""},taskType:{label:"Task Type",status:"Communication"}}]}angular.module("easyToDoBusiness").controller("etbOperationsController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/premise-construction/etb-premise-development.html",controller:"etbPremiseConstructionController as activity"}}angular.module("easyToDoBusiness").directive("etbPremiseConstruction",e)}(),function(){"use strict";function e(e){var t=this;t.steps=[{title:"Task 1: Apply for a construction certificate",information:"To undertake any construction on your premises, you’ll need to apply for a construction certificate. This certificate can be issued by your local council or a private Principal Certifying Authority (PCA). If you don’t choose your local council, refer to the independent PCA you’ve selected, for your next steps.",timeframe:[{label:"Cost: ",value:"varies"},{label:"Time: ",value:"varies"}],actionButton:{label:"Get started",link:"etb.premiseConstructionPreform"},taskType:{label:"Task Type",status:"Online"}},{title:"Task 2: Get owner's construction consent",information:"Before you can start construction work, you’ll need to obtain consent from all parties who own, or share ownership, of the premises. We'll send you your construction certificate documentation after they’ve reviewed it. If you selected an independent Principal Certifying Authority, refer to them for your next steps.",timeframe:[{label:"Cost: ",value:"free"},{label:"Time: ",value:"varies"}],actionButton:{label:"Get started",link:"etb.premiseConstructionOwnersConsent"},taskType:{label:"Task Type",status:"In person"}},{title:"Task 3: Apply for a Notice of Commencement and other construction approvals",information:"After receiving your construction certificate and before commencing construction work, you need to apply for your Notice of Commencement and additional construction approvals.",timeframe:[{label:"Cost: ",value:"varies"},{label:"Time: ",value:"varies"}],actionButton:{label:"Get started",link:"etb.premiseConstructionNotice"},taskType:{label:"Task Type",status:"Online"}},{title:"Task 4: Apply for a waste container permit",information:"If the construction work on your premises will require a waste container positioned on a public street or footpath, you’ll have to obtain a permit from the Parramatta City Council.",timeframe:[{label:"Cost: ",value:"varies"},{label:"Time: ",value:"1 to 3 days to complete, 2 weeks’ processing time"}],actionButton:{label:"Get started",link:"etb.premiseConstructionWaste"},taskType:{label:"Task Type",status:"In person"}},{title:"Task 5: Finalise your Notice of Commencement and additional construction needs",information:"We'll contact you to finalise your Notice of Commencement and additional construction needs.",timeframe:[{label:"Cost: ",value:"varies"},{label:"Time: ",value:"Estimated call time with us  is 30 minutes"}],actionButton:{label:"Get started",link:"etb.premiseConstructionFinalise"},taskType:{label:"Task Type",status:"Online"}},{title:"Need help?",informationHtml:e.getHelpText()}]}e.$inject=["etbService"],angular.module("easyToDoBusiness").controller("etbPremiseConstructionController",e)}(),function(){"use strict";function e(e){var t=this;t.steps=[{title:"Task 1: Prepare your Development Application  ",information:"A Development Application (DA) is a formal request for permission to carry out a development, or make changes to premises within your local council area. ",timeframe:[{label:"Cost: ",value:"varies"},{label:"Time: ",value:"varies"}],actionButton:{label:"Get started",link:"etb.premiseDaPreform"},taskType:{label:"Task Type",status:"Online"}},{title:"Task 2: Get owner's DA consent",information:"As part of your Development Application (DA), you’ll need to gain consent from third parties who own, or share ownership, of the premises. This may include strata schemes and bodies corporate. We'll send you the necessary DA forms for you to complete.",timeframe:[{label:"Cost: ",value:"free"},{label:"Time: ",value:"varies"}],actionButton:{label:"Get started",link:"etb.premiseDaOwnersConsent"},taskType:{label:"Task Type",status:"In person"}},{title:"Task 3: Get builder and engineer input",information:"As part of your Development Application (DA), you may need input from the architects, builders or engineers working on your premises. We'll send you the necessary DA forms for you to complete.",timeframe:[{label:"Cost: ",value:"varies"},{label:"Time: ",value:"varies"}],actionButton:{label:"Get started",link:"etb.premiseDaInputBuilder"},taskType:{label:"Task Type",status:"In person"}},{title:"Task 4: Finalise your Development Application",information:"We'll contact you to finalise your Development Application (DA), and outline what you need for your in-person submission with Parramatta City Council. ",timeframe:[{label:"Cost: ",value:"varies"},{label:"Time: ",value:"Estimated call time with us is 30 minutes"}],actionButton:{label:"Get started ",link:"etb.premiseDaFinalise"},taskType:{label:"Task Type",status:"In person"}},{title:"Need help?",informationHtml:e.getHelpText()}]}e.$inject=["etbService"],angular.module("easyToDoBusiness").controller("etbDAController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/premise-da/etb-DA.html",controller:"etbDAController as activity"}}angular.module("easyToDoBusiness").directive("etbPremiseDa",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/premise-inspection/etb-premise-inspection.html",controller:"etbPremiseInspectionController as activity"}}angular.module("easyToDoBusiness").directive("etbPremiseInspection",e)}(),function(){"use strict";function e(e){var t=this;t.steps=[{title:"Task 1: Complete fire safety and smoke detection checks",
information:"As part of your final inspections and Occupation Certificate approval, you’ll need to complete essential fire safety and smoke detection checks.",timeframe:[{label:"Cost",value:"varies"},{label:"Time: ",value:"TBD"}],actionButton:{label:"Get started",link:"etb.premiseInspectionSmoke"},taskType:{label:"Task Type",status:"In person"}},{title:"Task 2: Prepare for your post-construction inspection",information:"Once you’ve completed construction and obtained all necessary compliance permits, you’ll need an occupation certificate, which requires a site inspection.",timeframe:[{label:"Cost",value:"varies"},{label:"Time: ",value:"varies"}],actionButton:{label:"Get started",link:"etb.premiseInspectionPostConstruction"},taskType:{label:"Task Type",status:"In person"}},{title:"Need help?",informationHtml:e.getHelpText()}]}e.$inject=["etbService"],angular.module("easyToDoBusiness").controller("etbPremiseInspectionController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/premise-waste-collection/etb-premise-waste-collection.html",controller:"etbPremiseWasteCollectionController as activity"}}angular.module("easyToDoBusiness").directive("etbPremiseWasteCollection",e)}(),function(){"use strict";function e(e){var t=this;t.steps=[{title:"Task 1: Register for wastewater services",information:"You may need approval from your water provider to discharge commercial trade wastewater into a public sewer.",timeframe:[{label:"Cost: ",value:"no cost for applying, however management fees do occur "},{label:"Time: ",value:"varies"}],actionButton:{label:"Register",link:"etb.premiseWasteCollectionPreform"},taskType:{label:"Task Type",status:"Online"}},{title:"Task 2: Request waste collection services",information:"You can organise the removal of your commercial waste through Parramatta City Council or a private provider.",timeframe:[{label:"Cost: ",value:"varies"},{label:"Time: ",value:"varies"}],actionButton:{label:"Get started",link:"etb.premiseWasteCollectionRequest"},taskType:{label:"Task Type",status:"In person"}},{title:"Need help?",informationHtml:e.getHelpText()}]}e.$inject=["etbService"],angular.module("easyToDoBusiness").controller("etbPremiseWasteCollectionController",e)}(),function(){"use strict";function e(e,t,a,r){function o(e){var t={};for(var a in i)if(e.key===a)return t[e.key]=i[a],t}var i,s=function(e,t){var a={};return i=angular.copy(t),e.forEach(function(e){if(e.fieldGroup){var t=a;if(e.templateOptions.fieldGroupKey){var r=e.templateOptions.fieldGroupKey;a[r]||(a[r]={}),t=a[r]}e.fieldGroup.forEach(function(e){angular.extend(t,o(e))})}else angular.extend(a,o(e))}),a},n=function(e){function t(e){e.forEach(function(e){e.fieldGroup&&e.templateOptions&&e.templateOptions.fieldGroupKey?t(e.fieldGroup):a.push(e)})}var a=[];return t(e),a},l=function(o){var i=angular.copy(o);i.ipAddress=a,i.productCode=r.PRODUCT_CODE,t.log("params data:",i);var s={remoteAction:"EtdBFormCtrl.PreScreeningSubmission",params:[JSON.stringify(i)],resultMap:function(e){return e.statusObject}};return e.call(s)};return{getPreScreeningObj:s,getValidationFields:n,preScreeningSubmission:l}}e.$inject=["vf","$log","encryptedIpAddress","etbService"],angular.module("easyToDoBusiness").factory("etbScreeningService",e)}(),function(){"use strict";function e(e,t){function a(e,t){var a=e.charAt(0).toUpperCase()+e.slice(1);if(t)var r="<p>Current "+a+" Address: "+t+"</p>";else r="<p>Current {{to.label}} Address: {{model[options.key] | singleLineAddress}}</p>";return[{template:"<p><b>"+a+" address</b></p>"},{key:"current"+a,hideExpression:"!model[options.key].country",template:r,templateOptions:{label:a}}]}function r(e){return e&&""!==e}function o(e){return e?(r(e.line1)?e.line1+", ":"")+(r(e.suburb)?e.suburb+", ":"")+(r(e.state)?e.state+", ":"")+(r(e.postCode)?e.postCode+", ":"")+e.country:void 0}function i(e){return angular.merge({},e,{expressionProperties:{"templateOptions.disabled":"model.sameAddress"}})}function s(e){return[{key:e+".address.line1",type:"input",wrapper:["label","validation"],templateOptions:{label:"Address line 1",maxlength:64,onBlur:"formState.updateAddressLabel(fc.$modelValue, options.key);"}},{key:e+".address.line2",type:"input",wrapper:["label","validation"],templateOptions:{maxlength:64,label:"Address line 2 (optional)",onBlur:"formState.updateAddressLabel(fc.$modelValue, options.key);"}},{key:e+".address.suburb",type:"input",wrapper:["label","validation"],templateOptions:{label:"Suburb",maxlength:64,onBlur:"formState.updateAddressLabel(fc.$modelValue, options.key);"}},{key:e+".address.state",type:"select",wrapper:["label","validation"],defaultValue:"NSW",templateOptions:{label:"State or territory",options:t,placeholder:"Select state or territory",onBlur:"formState.updateAddressLabel(fc.$modelValue, options.key);"}},{key:e+".address.postCode",type:"input",wrapper:["label","validation"],templateOptions:{label:"Postcode",pattern:"[0-9]{4}",patternValidationMessage:"Invalid postcode. Please enter 4 numbers only.",onBlur:"formState.updateAddressLabel(fc.$modelValue, options.key);"}}]}function n(e){return[{key:e+".address.line1",type:"input",wrapper:["label","validation"],templateOptions:{label:"Address line 1",maxlength:64,onBlur:"formState.updateAddressLabel(fc.$modelValue, options.key);"}},{key:e+".address.line2",type:"input",wrapper:["label","validation"],templateOptions:{maxlength:64,label:"Address line 2 (optional)",onBlur:"formState.updateAddressLabel(fc.$modelValue, options.key);"}},{key:e+".address.suburb",type:"input",wrapper:["label","validation"],templateOptions:{label:"City or town",maxlength:40,onBlur:"formState.updateAddressLabel(fc.$modelValue, options.key);"}},{key:e+".address.state",type:"input",wrapper:["label","validation"],templateOptions:{label:"State, province or region",maxlength:80,onBlur:"formState.updateAddressLabel(fc.$modelValue, options.key);"}},{key:e+".address.postCode",type:"input",wrapper:["label","validation"],templateOptions:{label:"Zip or postal code",maxlength:20,onBlur:"formState.updateAddressLabel(fc.$modelValue, options.key);"}}]}var l=[{type:"checkbox",key:"sameAddress",defaultValue:!0,templateOptions:{label:"My mailing address is the same as my residential address",onChange:"formState.sameAddressChange(fc.$modelValue)"}}];this.residentialFields=function(e,t){var r="residential",i=e.residentialCountry&&"Australia"!==e.residentialCountry,s=i||e.residentialManualEntry,n=a(r,o(e.currentResidential));return n.concat(this.getFields(r,s,i,t))},this.mailingFields=function(e,t){var r="mailing",s=e.mailingCountry&&"Australia"!==e.mailingCountry,n=s||e.mailingManualEntry;if(e.sameAddress)var l=a(r,o(e.currentResidential));else l=a(r,o(e.currentMailing));return l.concat(this.getFields(r,n,s,t)).map(i)},this.getAddressFields=function(e,t){return[].concat(this.residentialFields(e,t),l,this.mailingFields(e,t))},this.getFields=function(t,a,r,o){var i=[{key:t+"Country",type:"select",className:"form-group",wrapper:["label","validation"],defaultValue:"residential"===t?"Australia":"",templateOptions:{label:"Country",options:e,addressType:t,placeholder:"Select country",onChange:"formState.updateAddressLabel(fc.$modelValue, options.key);formState.switchEntry(to.addressType);"}},{key:t+"ManualEntry",className:"text-right",defaultValue:!1,hideExpression:'model["'+t+'Country"] !== "Australia"',template:'<a href="javascript:" ng-click="model[options.key] = !model[options.key]; formState.switchEntry(to.addressType)">{{to.content}}</a>',templateOptions:{addressType:t},expressionProperties:{"templateOptions.content":'model[options.key] ? "Find my address" : "I can\'t find my address"'}}];if(a)return i.concat(r?n(t):s(t));var l="";return l="residential"===t?"Enter your street address starting with the street number and name, suburb and state":"Enter your mailing address starting with the PO Box, Locked Bag or street number and name, suburb and state",i.concat([{key:t,type:"address",templateOptions:{hint:l,addressType:t,label:"Search for your address",hideNotListed:o&&o.hideNotListed}}])}}e.$inject=["countryOptions","stateOptions"],angular.module("global-services").service("addressFieldsSvc",e)}(),function(){"use strict";function e(){function e(t){return"Error"===t.name?e({type:"danger",heading:"Error!",text:t.message}):angular.extend({},{type:"info"},t)}return{alert:e}}angular.module("global-services").factory("alertService",e)}(),function(){"use strict";angular.module("global-services").constant("apiCheck",apiCheck)}(),function(){"use strict";function e(){function e(){for(var e=0,t={};e<arguments.length;e++){var a=arguments[e];for(var r in a)t[r]=a[r]}return t}function t(a){function r(t,o,i){var s;if(arguments.length>1){if(i=e({path:"/"},r.defaults,i),"number"==typeof i.expires){var n=new Date;n.setMilliseconds(n.getMilliseconds()+864e5*i.expires),i.expires=n}try{s=JSON.stringify(o),/^[\{\[]/.test(s)&&(o=s)}catch(l){}return o=encodeURIComponent(String(o)),o=o.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",o,i.expires&&"; expires="+i.expires.toUTCString(),i.path&&"; path="+i.path,i.domain&&"; domain="+i.domain,i.secure?"; secure":""].join("")}t||(s={});for(var c=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,d=0;d<c.length;d++){var p=c[d].split("="),m=p[0].replace(u,decodeURIComponent),g=p.slice(1).join("=");'"'===g.charAt(0)&&(g=g.slice(1,-1));try{if(g=a&&a(g,m)||g.replace(u,decodeURIComponent),this.json)try{g=JSON.parse(g)}catch(l){}if(t===m){s=g;break}t||(s[m]=g)}catch(l){}}return s}return r.get=r.set=r,r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,a){r(t,"",e(a,{expires:-1}))},r.withConverter=t,r}return t()}angular.module("global-services").service("cookie",function(){return e()})}(),function(){"use strict";var e=[{value:"Australia",label:"Australia"},{value:"Afghanistan",label:"Afghanistan"},{value:"Albania",label:"Albania"},{value:"Algeria",label:"Algeria"},{value:"American Samoa",label:"American Samoa"},{value:"Andorra",label:"Andorra"},{value:"Angola",label:"Angola"},{value:"Anguilla",label:"Anguilla"},{value:"Antigua and Barbuda",label:"Antigua and Barbuda"},{value:"Argentina",label:"Argentina"},{value:"Armenia",label:"Armenia"},{value:"Aruba",label:"Aruba"},{value:"Austria",label:"Austria"},{value:"Azerbaijan",label:"Azerbaijan"},{value:"Bahamas",label:"Bahamas"},{value:"Bahrain",label:"Bahrain"},{value:"Bangladesh",label:"Bangladesh"},{value:"Barbados",label:"Barbados"},{value:"Belarus",label:"Belarus"},{value:"Belgium",label:"Belgium"},{value:"Belize",label:"Belize"},{value:"Benin",label:"Benin"},{value:"Bermuda",label:"Bermuda"},{value:"Bhutan",label:"Bhutan"},{value:"Bolivia",label:"Bolivia"},{value:"Bonaire, Saint Eustatius and Saba",label:"Bonaire, Saint Eustatius and Saba"},{value:"Bosnia and Herzegovina",label:"Bosnia and Herzegovina"},{value:"Botswana",label:"Botswana"},{value:"Brazil",label:"Brazil"},{value:"Brunei Darussalam",label:"Brunei Darussalam"},{value:"Bulgaria",label:"Bulgaria"},{value:"Burkina Faso",label:"Burkina Faso"},{value:"Burundi",label:"Burundi"},{value:"Cambodia",label:"Cambodia"},{value:"Cameroon",label:"Cameroon"},{value:"Canada",label:"Canada"},{value:"Cape Verde",label:"Cape Verde"},{value:"Cayman  Islands",label:"Cayman  Islands"},{value:"Central African Republic",label:"Central African Republic"},{value:"Chad",label:"Chad"},{value:"Chile",label:"Chile"},{value:"China",label:"China"},{value:"Colombia",label:"Colombia"},{value:"Comoros",label:"Comoros"},{value:"Congo",label:"Congo"},{value:"Congo, Democratic Republic of the ",label:"Congo, Democratic Republic of the "},{value:"Cook Islands",label:"Cook Islands"},{value:"Costa Rica",label:"Costa Rica"},{value:"Croatia",label:"Croatia"},{value:"Cuba",label:"Cuba"},{value:"Curacao",label:"Curacao"},{value:"Cyprus",label:"Cyprus"},{value:"Czech Republic",label:"Czech Republic"},{value:"Democratic Republic of Timor-Leste",label:"Democratic Republic of Timor-Leste"},{value:"Denmark",label:"Denmark"},{value:"Diego Garcia",label:"Diego Garcia"},{value:"Djibouti",label:"Djibouti"},{value:"Dominica",label:"Dominica"},{value:"Dominican Republic",label:"Dominican Republic"},{value:"Ecuador",label:"Ecuador"},{value:"Egypt",label:"Egypt"},{value:"El Salvador",label:"El Salvador"},{value:"Equatorial Guinea",label:"Equatorial Guinea"},{value:"Eritrea",label:"Eritrea"},{value:"Estonia",label:"Estonia"},{value:"Ethiopia",label:"Ethiopia"},{value:"Falkland Islands",label:"Falkland Islands"},{value:"Faroe Islands",label:"Faroe Islands"},{value:"Fiji",label:"Fiji"},{value:"Finland",label:"Finland"},{value:"France",label:"France"},{value:"French Guiana",label:"French Guiana"},{value:"French Polynesia",label:"French Polynesia"},{value:"Gabonese Republic",label:"Gabonese Republic"},{value:"Gambia",label:"Gambia"},{value:"Georgia",label:"Georgia"},{value:"Germany",label:"Germany"},{value:"Ghana",label:"Ghana"},{value:"Gibraltar",label:"Gibraltar"},{value:"Greece",label:"Greece"},{value:"Greenland",label:"Greenland"},{value:"Grenada",label:"Grenada"},{value:"Guadeloupe",label:"Guadeloupe"},{value:"Guam",label:"Guam"},{value:"Guatemala",label:"Guatemala"},{value:"Guinea",label:"Guinea"},{value:"Guinea-Bissau",label:"Guinea-Bissau"},{value:"Guyana",label:"Guyana"},{value:"Haiti",label:"Haiti"},{value:"Honduras",label:"Honduras"},{value:"Hong Kong, China",label:"Hong Kong, China"},{value:"Hungary",label:"Hungary"},{value:"Iceland",label:"Iceland"},{value:"India",label:"India"},{value:"Indonesia",label:"Indonesia"},{value:"Iran",label:"Iran"},{value:"Iraq",label:"Iraq"},{value:"Ireland",label:"Ireland"},{value:"Israel",label:"Israel"},{value:"Italy",label:"Italy"},{value:"Ivory Coast",label:"Ivory Coast"},{value:"Jamaica",label:"Jamaica"},{value:"Japan",label:"Japan"},{value:"Jordan",label:"Jordan"},{value:"Kazakhstan",label:"Kazakhstan"},{value:"Kenya",label:"Kenya"},{value:"Kiribati",label:"Kiribati"},{value:"Korea (North)",label:"Korea (North)"},{value:"Korea (South)",label:"Korea (South)"},{value:"Kuwait",label:"Kuwait"},{value:"Kyrgyzstan",label:"Kyrgyzstan"},{value:"Lao People's Democratic Republic",label:"Lao People's Democratic Republic"},{value:"Latvia",label:"Latvia"},{value:"Lebanon",label:"Lebanon"},{value:"Lesotho",label:"Lesotho"},{value:"Liberia",label:"Liberia"},{value:"Libya",label:"Libya"},{value:"Liechtenstein",label:"Liechtenstein"},{value:"Lithuania",label:"Lithuania"},{value:"Luxembourg",label:"Luxembourg"},{value:"Macao, China",label:"Macao, China"},{value:"Macedonia",label:"Macedonia"},{value:"Madagascar",label:"Madagascar"},{value:"Malawi",label:"Malawi"},{value:"Malaysia",label:"Malaysia"},{value:"Maldives",label:"Maldives"},{value:"Mali",label:"Mali"},{value:"Malta",label:"Malta"},{value:"Marshall Islands",label:"Marshall Islands"},{value:"Martinique",label:"Martinique"},{value:"Mauritania",label:"Mauritania"},{value:"Mauritius",label:"Mauritius"},{value:"Mexico",label:"Mexico"},{value:"Micronesia",label:"Micronesia"},{value:"Moldova",label:"Moldova"},{value:"Monaco",label:"Monaco"},{value:"Mongolia",label:"Mongolia"},{value:"Montenegro",label:"Montenegro"},{value:"Montserrat",label:"Montserrat"},{value:"Morocco",label:"Morocco"},{value:"Mozambique",label:"Mozambique"},{value:"Myanmar",label:"Myanmar"},{value:"Namibia",label:"Namibia"},{value:"Nauru",label:"Nauru"},{value:"Nepal",label:"Nepal"},{value:"Netherlands",label:"Netherlands"},{value:"New Caledonia",label:"New Caledonia"},{value:"New Zealand",label:"New Zealand"},{value:"Nicaragua",label:"Nicaragua"},{value:"Niger",label:"Niger"},{value:"Nigeria",label:"Nigeria"},{value:"Niue",label:"Niue"},{value:"Northern Mariana Islands",label:"Northern Mariana Islands"},{value:"Norway",label:"Norway"},{value:"Oman",label:"Oman"},{value:"Pakistan",label:"Pakistan"},{value:"Palau",label:"Palau"},{value:"Panama",label:"Panama"},{value:"Papua New Guinea",label:"Papua New Guinea"},{value:"Paraguay",label:"Paraguay"},{value:"Peru",label:"Peru"},{value:"Philippines",label:"Philippines"},{value:"Poland",label:"Poland"},{value:"Portugal",label:"Portugal"},{value:"Puerto Rico",label:"Puerto Rico"},{value:"Qatar",label:"Qatar"},{value:"Romania",label:"Romania"},{value:"Russian Federation",label:"Russian Federation"},{value:"Rwanda",label:"Rwanda"},{value:"Saint Helena, Ascension and Tristan da Cunha",label:"Saint Helena, Ascension and Tristan da Cunha"},{value:"Saint Kitts and Nevis",label:"Saint Kitts and Nevis"},{value:"Saint Lucia",label:"Saint Lucia"},{value:"Saint Pierre and Miquelon",label:"Saint Pierre and Miquelon"},{value:"Saint Vincent and the Grenadines",label:"Saint Vincent and the Grenadines"},{value:"Samoa",label:"Samoa"},{value:"San Marino",label:"San Marino"},{value:"Sao Tome and Principe",label:"Sao Tome and Principe"},{value:"Saudi Arabia",label:"Saudi Arabia"},{value:"Senegal",label:"Senegal"},{value:"Serbia",label:"Serbia"},{value:"Seychelles",label:"Seychelles"},{value:"Sierra Leone",label:"Sierra Leone"},{value:"Singapore",label:"Singapore"},{value:"Sint Maarten",label:"Sint Maarten"},{value:"Slovak Republic",label:"Slovak Republic"},{value:"Slovenia",label:"Slovenia"},{value:"Solomon Islands",label:"Solomon Islands"},{value:"Somalia",label:"Somalia"},{value:"South Africa",label:"South Africa"},{value:"South Sudan",label:"South Sudan"},{value:"Spain",label:"Spain"},{value:"Sri Lanka",label:"Sri Lanka"},{value:"Sudan",label:"Sudan"},{value:"Suriname",label:"Suriname"},{value:"Swaziland",label:"Swaziland"},{value:"Sweden",label:"Sweden"},{value:"Switzerland",label:"Switzerland"},{value:"Syrian Arab Republic",label:"Syrian Arab Republic"},{value:"Taiwan, Republic of China",label:"Taiwan, Republic of China"},{value:"Tajikistan",label:"Tajikistan"},{value:"Tanzania",label:"Tanzania"},{value:"Thailand",label:"Thailand"},{value:"Togolese Republic",label:"Togolese Republic"},{value:"Tokelau",label:"Tokelau"},{value:"Tonga",label:"Tonga"},{value:"Trinidad and Tobago",label:"Trinidad and Tobago"},{value:"Tunisia",label:"Tunisia"},{value:"Turkey",label:"Turkey"},{value:"Turkmenistan",label:"Turkmenistan"},{value:"Turks and Caicos Islands",label:"Turks and Caicos Islands"},{value:"Tuvalu",label:"Tuvalu"},{value:"Uganda",label:"Uganda"},{value:"Ukraine",label:"Ukraine"},{value:"United Arab Emirates",label:"United Arab Emirates"},{value:"United Kingdom of Great Britain and Northern Ireland",label:"United Kingdom of Great Britain and Northern Ireland"},{value:"United States of America",label:"United States of America"},{value:"Uruguay",label:"Uruguay"},{value:"Uzbekistan",label:"Uzbekistan"},{value:"Vanuatu",label:"Vanuatu"},{value:"Vatican",label:"Vatican"},{value:"Venezuela",label:"Venezuela"},{value:"Vietnam",label:"Vietnam"},{value:"Virgin Islands (British)",label:"Virgin Islands (British)"},{value:"Virgin Islands (U.S)",label:"Virgin Islands (U.S)"},{value:"Wallis and Futuna",label:"Wallis and Futuna"},{value:"Yemen",label:"Yemen"},{value:"Zambia",label:"Zambia"},{value:"Zimbabwe",label:"Zimbabwe"}];angular.module("global-services").constant("countryOptions",e)}(),function(){"use strict";angular.module("global-services").service("dashboardService",["$filter","vf","resourcePath","commonUtil","isPoliceVisible","$window","siteId","snswSiteUrl",function(e,t,a,r,o,i,s,n){var l=this;l.isPoliceNotVisible=function(){return"true"!==o&&o!==!0},l.hasConnectedItems=function(e){var t,a=e&&e.connections;return t=!!(a&&a.connectedItems&&a.connectedItems.length>0)},l.isRegistrationInfo=function(e){return e.effectivePeriod&&e.effectivePeriod.expiryDate},l.startRenew=function(e,t){l.isRegistrationInfo(e)?i.open(n+"transaction/renew-your-vehicle-registration","_self"):i.open(n+"node/639/","_self")},l.getExpiryDate=function(e){var t;return t=new Date(l.isRegistrationInfo(e)?e.effectivePeriod.expiryDate:e.expiryDate)},l.getLicenceClass=function(e){return e.licenceClass?"Licence class "+e.licenceClass.code+": "+(e.licenceClass.description?e.licenceClass.description:""):null},l.renewDoable=function(e){if(e.isAccoutCreated)return!1;var t=l.getExpiryDate(e),a=new Date,r=new Date,o=new Date;return r.setMonth(a.getMonth()+(l.isRegistrationInfo(e)?3:6)),o.setMonth(a.getMonth()-(l.isRegistrationInfo(e)?3:6)),t>=o&&r>=t},l.removeAroundBrackets=function(e){return e.replace(/^[\s\[]+|[\]\s]+$/g,"")},l.getFriendlyDateString=function(e){return e.getDate()+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+" "+e.getFullYear()},l.getFormattedExpiryDate=function(e){var t=l.getExpiryDate(e);return l.getFriendlyDateString(t)},l.getConnections=function(t,r){var i={},s=function(e){return e.Account_Code__c};!function(e){for(var t=0;t<e.length;t++)"RMS"===s(e[t])?e[t].logoUrl=a+"/images/RMS_logo.gif":"POLICE"===s(e[t])||"NSWPF"===s(e[t])?e[t].logoUrl=a+"/images/Police_logo.png":e[t].logoUrl=e[t].Logo_Small__c}(r),i.connectedItems=e("filter")(t.agenciesInfo,function(){return function(e){return"true"===o||"POLICE"!==s(e)&&"NSWPF"!==s(e)}}),i.connectedItems||(i.connectedItems=[]);for(var n=0;n<i.connectedItems.length;n++)for(var l=0;l<r.length;l++)s(r[l])===s(i.connectedItems[n])&&(r[l].isConnected=!0,i.connectedItems[n].logoUrl=r[l].logoUrl);for(i.disconnectedItems=[],n=0;n<r.length;n++)r[n].isConnected||("true"===o||"POLICE"!==s(r[n])&&"NSWPF"!==s(r[n]))&&i.disconnectedItems.push(r[n]);return i},l.combineRegistrationInfoAndLicenceInfo=function(t,a,r){var o,i,s=t.registrationsInfo?t.registrationsInfo.registrations.registrationInfo:[],n=t.licenceInfo?t.licenceInfo.licence.category:[],c=[];if(a&&(o=function(t){var a,r;return t&&t.length?(a=t[0].expiryDate,r=e("filter")(t,function(e){return e.expiryDate===a}).map(function(e){return e.licenceClass.code}),t.length!==r.length?null:r.join(", ")):null}(n))){var u=angular.copy(n[0]);u.licenceClass.code=o,n=[u]}for(i=0;i<n.length;i++)t.demeritsInfo&&(n[i].totalDemeritPoints=t.demeritsInfo.demerits.totalDemeritPoints),t.customerInfo&&t.customerInfo.customer&&(n[i].unstructuredAddressText=t.customerInfo.customer.customerAddress&&t.customerInfo.customer.customerAddress[0]&&t.customerInfo.customer.customerAddress[0].unstructuredAddressText,n[i].customerName=t.customerInfo.customer.customerName,n[i].dateOfBirth=function(e){var t=function(e){return 9>=e?"0"+e:""+e},a=+t(e.getDate())+"/"+t(e.getMonth()+1)+"/"+e.getFullYear();return a}(new Date(t.customerInfo.customer.dateOfBirth))),n[i].number=t.licenceInfo.licence.number;return c=s.concat(n),r&&c.push(r),a&&(c=e("filter")(c,function(e){var t=l.getExpiryDate(e),a=new Date,r=new Date(new Date(a).setMonth(a.getMonth()+12)),o=new Date(new Date(a).setMonth(a.getMonth()-6));return t>o&&r>t})),c.sort(function(e,t){var a=l.getExpiryDate(e),r=l.getExpiryDate(t);return r>a?-1:a>r?1:0}),c},l.extractMiscMetData=function(e,t){t.hasMoreThan10Regos=e.registrationsInfo&&e.registrationsInfo.registrations.registrationInfo&&e.registrationsInfo.registrations.registrationInfo.length>10},l.addAccountCreatedEvent=function(e){var t;return e&&e&&e.createDate?t={expiryDate:e.createDate,isAccoutCreated:!0}:t},l.reshapeResponse=function(e,t){console.log("?.vm.reshapeResponse called => ","resp=",e,"getAgenciesResult=",t);var a,r={};return e&&e.statusObject&&(a=l.addAccountCreatedEvent(e.statusObject.pingUserInfo),r.timeline=l.combineRegistrationInfoAndLicenceInfo(e.statusObject,!0,a),r.connections=l.getConnections(e.statusObject,t),r.products=l.combineRegistrationInfoAndLicenceInfo(e.statusObject,!1),r.givenName=e.statusObject.customerInfo?e.statusObject.customerInfo.customer.customerName.givenName:e.statusObject.pingUserInfo.firstName,r.pingUserInfo=e.statusObject.pingUserInfo,l.extractMiscMetData(e.statusObject,r)),r},l.createMaDashboardTransaction=function(e){return console.log("?.vm.createMaDashboardTransaction called => ","ipAddress=",e),t.call({remoteAction:"maDashboardCtrl.createMaDashboardTransaction",params:[e,s]}).then(function(e){return e&&e.statusObject})},l.rmsEligibilityCheck=function(e){return console.log("?.vm.rmsEligibilityCheck called => ","token=",e),t.call({remoteAction:"rmsTransactionCtrl.rmsEligibilityCheck",params:[e]}).then(function(t){return console.log("rmsTransactionCtrl.rmsEligibilityCheck. resp=",t),t.statusCode&&2e3===t.statusCode?t.statusObject?t.statusObject.transactionEligibility&&"Y"===t.statusObject.transactionEligibility.eligibilityStatus?l.updateAllInfoSessionJson(e):t.statusObject:!0:null})["catch"](function(e){console.log("rmsTransactionCtrl.rmsEligibilityCheck reason=",e);var t=e.response;if(!t)return null;if(2001===t.statusCode){if("NOT_LINKED_RMS"===t.statusMessage)return!0;if("User ineligible"===t.statusMessage)return!0}else if(2002===t.statusCode)return!0;return null})},l.getPingUserInfo=function(e){return console.log("?.vm.getPingUserInfo called => ","token=",e),t.call({remoteAction:"maDashboardCtrl.getPingUserInfo",params:[e]}).then(function(e){return console.log("maDashboardCtrl.getPingUserInfo. resp=",e),e})["catch"](function(e){return console.log("maDashboardCtrl.getPingUserInfo reason=",e),!1})},l.updateAllInfoSessionJson=function(e){return console.log("?.vm.updateAllInfoSessionJson called => ","token=",e),t.call({remoteAction:"rmsTransactionCtrl.updateAllInfoSessionJson",params:[e]}).then(function(e){return console.log("rmsTransactionCtrl.updateAllInfoSessionJson. resp=",e),2e3===e.statusCode})["catch"](function(e){return console.log("rmsTransactionCtrl.updateAllInfoSessionJson reason=",e),!1})},l.getDashboardInfoFromDB=function(e){return console.log("?.vm.getDashboardInfoFromDB called => ","token=",e),t.call({remoteAction:"maDashboardCtrl.getDashboardInfoFromDB",params:[e]}).then(function(e){return console.log("maDashboardCtrl.getDashboardInfoFromDB. resp=",e),e})["catch"](function(e){return console.log("maDashboardCtrl.getDashboardInfoFromDB reason=",e),{}})},l.getAgencies=function(){return console.log("?.vm.getAgencies called"),t.call({remoteAction:"maDashboardCtrl.getAgencies"}).then(function(e){return console.log("maDashboardCtrl.getAgencies. resp=",e),e.statusObject?e.statusObject:[]})["catch"](function(e){return console.log("maDashboardCtrl.getDashboardInfoFromDB reason=",e),[]})}}])}(),function(){"use strict";function e(e){return{address:e.address,dpid:e.delivery_point_id}}function t(t){var a="https://rapidmatch.datasan.com.au/v1/address",r="O0EwFQZVMYYOmbB4TIz-FrJMXHqviMVLAQRQRj2LTuEDvB0miAEC3sJ_1o1BNGoB";this.getAddress=function(o){function i(e){return o.filterState?e.state===o.filterState:!0}var s=o.filterState?o.query+" "+o.filterState:o.query,n="residential"===o.type?"pobox":"";return t.get(a,{params:{auth_token:r,address:s,abbr:!1,excludeAddressTypes:n}}).then(function(t){return t.data.response.docs.filter(i).map(e)})}}t.$inject=["$http"],angular.module("global-services").service("DataSanService",t)}(),function(){"use strict";function e(e){try{var t,a,r,o,i,s,n=e.navigator.userAgent,l=e.navigator.platform;return/MSIE/.test(n)?(t="Internet Explorer",/IEMobile/.test(n)&&(r=1),a=/MSIE \d+[.]\d+/.exec(n)[0].split(" ")[1]):/Chrome/.test(n)?(/CrOS/.test(n)&&(l="CrOS"),t="Chrome",a=/Chrome\/[\d\.]+/.exec(n)[0].split("/")[1]):/Opera/.test(n)?(t="Opera",(/mini/.test(n)||/Mobile/.test(n))&&(r=1)):/Android/.test(n)?(t="Android Webkit Browser",r=1,o=/Android\s[\.\d]+/.exec(n)[0]):/Firefox/.test(n)?(t="Firefox",/Fennec/.test(n)&&(r=1),a=/Firefox\/[\.\d]+/.exec(n)[0].split("/")[1]):/Safari/.test(n)&&(t="Safari",(/iPhone/.test(n)||/iPad/.test(n)||/iPod/.test(n))&&(o="iOS",r=1)),a||(a=/Version\/[\.\d]+/.exec(n),a=a?a[0].split("/")[1]:/Opera\/[\.\d]+/.exec(n)[0].split("/")[1]),"MacIntel"===l||"MacPPC"===l?(o="Mac OS X",i=/10[\.\_\d]+/.exec(n)[0],/[\_]/.test(i)&&(i=i.split("_").join("."))):"CrOS"===l?o="ChromeOS":"Win32"===l||"Win64"===l?(o="Windows",s=l.replace(/[^0-9]+/,"")):!o&&/Android/.test(n)?o="Android":!o&&/Linux/.test(l)?o="Linux":!o&&/Windows/.test(n)&&(o="Windows"),{browser:t,version:a,mobile:r,os:o,osversion:i,bit:s}}catch(c){return{browser:"unknow",version:"unknow",mobile:null,os:null,osversion:null,bit:null}}}e.$inject=["$window"],angular.module("global-services").service("detectBrowser",e)}(),function(){"use strict";function e(e){var t=e.split("");return t.reduce(function(e,t){if(e.inQuotation){var a=e.quotationParts.length-1,r="",o=e.quotationParts[a].substr(-1);if(" "!==t&&"\\"!==t&&'"'!==t||"\\"!==o)r=t;else{var i=e.quotationParts[a];e.quotationParts[a]=i.substr(0,i.length-1)}'"'===r?e.inQuotation=!1:e.quotationParts[a]+=r}else'"'===t?(e.inQuotation=!0,e.quotationParts.push("")):e.str+=t;return e},{str:"",inQuotation:!1,quotationParts:[]})}function t(e){var t=e.split("@");return 2!==t.length?!1:t[0].length<1?!1:!(t[1].length<1)}function a(){var a=/[" \\,:;<>@\[\]()]/g,r=/[" \\]/g;return function(o){try{if(!o.length)return!0;if(!t(o))return!1;var i=e(o);if(i.inQuotation)return!1;o=i.str;var s=o.split("@");if(2!==s.length)return!1;var n=s[0],l=s[1];if(a.test(n))return!1;if(a.test(l)||l.indexOf("/")>-1)return!1;for(var c=0;c<i.quotationParts.length;c++){var u=i.quotationParts[c];if(r.test(u))return!1}}catch(d){}return!0}}angular.module("global-services").service("emailFormatValidator",a)}(),function(){"use strict";function e(e){function a(a){switch(a){case"RMS_Validation_Locked":return"Too many log in attempts. For your security, the authentication process is locked for 10 minutes. Please try again later.";case"VERIFICATION_CODE_TIMEDOUT":return"Expired security code. Security codes are active for 1 hour. Try resending a new security code.";case"VERIFICATION_CODE_EXPIRED":return"Invalid security code entered 3 times. Code now expired. Please resend a security code.";case"INVALID_CREDENTIALS_LINK_RMS_LOCKED":return t;case"VALIDATION_FAILED_LINK_RMS_LOCKED":return t;case"INVALID_MOBILE":return e.MYACCOUNT.ALERTS.INVALIDPHONEFORMAT;case"INVALID_EMAIL":return e.GLOBAL.ALERTS.INVALIDEMAILFORMAT;case"RESEND_REGISTRATION_LINK_LOCKED":return e.MYACCOUNT.REGISTRATION.SEND_EMAIL_LOCKED;case"RESENT_REGISTRATION_LINK_ERROR":return"It looks like you've already activated your account. You don't need to resend this email.";case"VERIFICATION_FAILED":return"Invalid security code. Please enter a valid security code.";case"RESENT_CODE_LOCKED":return"New code sent! You’ve reached the maximum of 3 code resends. Code resending locked for 5 minutes.";case"MOBILE_ALREADY_REGISTERED":return"Mobile Phone number already registered, please try again with a different number";case"EMAIL_ALREADY_REGISTERED":return"This email address is already in use. Please enter another email address.";case"ERROR_TO_UPDATE_PRIMARY_EMAIL_DUPLICATE":return"This email address is already in use. Please enter another email address.";default:return a}}return a}angular.module("global-services").factory("errorMsgMap",["SNIPPETS",e]);var t="Too many invalid attempts. Linking service is locked for 10 minutes. Please check your details and try again later."}(),function(){"use strict";function e(e,t){return e||""!==t}e.$inject=["disableRecaptcha","siteId"],angular.module("global-services").factory("isRecaptchaDisabled",e)}(),function(){"use strict";angular.module("global-services").factory("linkRMS",["vf",function(e){var t={};t.isRMSLinkingLocked=function(){return e.call({remoteAction:"RMSTransactionService.isRMSLinkingLocked"})},t.submitOnlineCredentials=function(t,a){return e.call({remoteAction:"maLinkToRMSCtrl.submitOnlineCredentials",params:[t,a]})},t.checkOtherSNSWAccountForRMS=function(){return e.call({remoteAction:"maLinkToRMSCtrl.checkOtherSNSWAccountForRMS"})},t.linkedToRMS=function(){return e.call({remoteAction:"RMSTransactionService.linkedToRMS"})},t.hasRMSEmail=function(){return e.call({remoteAction:"RMSTransactionService.hasRMSEmail"})},t.addRMSEmailANDLinkToRMS=function(t){return e.call({remoteAction:"RMSTransactionService.addRMSEmailANDLinkToRMS",
params:[t]})},t.addRMSEmail=function(t){return e.call({remoteAction:"RMSTransactionService.addRMSEmail",params:[t]})},t.updateRMSEmail=function(t){return e.call({remoteAction:"RMSWrapperCtrl.updateRMSEmail",params:[JSON.stringify({email:t})]})},t.submitLicenseDetails=function(t,a,r){return e.call({remoteAction:"maLinkToRMSCtrl.submitLicenseDetails",params:[t,a,r]})},t.submitCustomerDetails=function(t){return e.call({remoteAction:"maLinkToRMSCtrl.submitCustomerDetails",params:[t.firstName,t.lastName,t.dateOfBirth,t.street,t.postcode,t.customerNumber,t.plateNumber]})},t.getRMSLinkAttempt=function(){return e.call({remoteAction:"maLinkToRMSCtrl.getRMSLinkAttempt"})},t.sendEmailCode=function(){return e.call({remoteAction:"maLinkToRMSCtrl.sendEmailCode"})},t.sendMobileCode=function(){return e.call({remoteAction:"maLinkToRMSCtrl.sendMobileCode"})},t.updateContactDetails=function(t,a){var r={params:[t,a],remoteAction:"rmsTransactionCtrl.updateContactDetails"};return e.call(r)};for(var a="maLinkToRMSCtrl",r=["verifyEmailCode","verifyMobileCode","resendEmailCode","resendMobileCode"],o=function(r){t[r]=function(){var t=Array.prototype.slice.call(arguments),o={remoteAction:a+"."+r,params:t};return e.call(o)}},i=0;i<r.length;i++)o(r[i]);return t}])}(),function(){"use strict";function e(e,t,a,r,o,i,s,n){function l(t,a){var r={remoteAction:"UserService.resendRegistrationLink",params:[t,a||""],resultMap:function(e){return{attemptsLeft:e.statusObject}}};return e.call(r)}function c(t){var a={remoteAction:"UserService.isResendRegistrationLinkLocked",params:[t],resultMap:function(e){return e.statusObject}};return e.call(a)}function u(t){var a={remoteAction:"UserService.createCustomer",params:[t.email,t.password,t.confirmPassword,t.tnc,t.emailNotification,t.news,t.newGov,t.startUrl,t.captchaValue,t.encryptedIpAddress,t.siteId]};return e.call(a)}function d(e){console.log("formatTimeStampString called => ","str=",e);var t=e.substr(0,e.length-1).split("T"),a=t[0].split("-"),r=t[1].split(":"),o=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],i=o[parseInt(a[1])-1],s=parseInt(r[0],10),n=s>=12,l=n?12===s?12:s-12:0===s?12:s;return{longFormat:l+":"+r[1]+" Australian Eastern Standard Time "+a[2]+" "+i+" "+a[0],shortFormat:l+":"+r[1]+(n?"pm":"am")+" (AEST), "+a[2]+" "+i+" "+a[0]}}function p(){var t={remoteAction:"UserService.getLastLoginTimeStamp",resultMap:function(e){return d(e.statusObject.substr(0,e.statusObject.length-1).split("T"))}};return e.call(t)}function m(){var t={remoteAction:"maPersonalProfileService.getSalutationValues",resultMap:function(e){return e&&e.statusObject?Object.keys(e.statusObject).map(function(t){return{value:e.statusObject[t],label:t}}):void 0}};return e.call(t)}function g(){var t={remoteAction:"maPersonalProfileService.getCurrentContact",resultMap:function(e){return{email:e.statusObject.Email||"",mobile:e.statusObject.MobilePhone||"",alternateEmail:e.statusObject.Alternate_Email__c||"",firstName:e.statusObject.FirstName||"",middleName:e.statusObject.Middle_Name__c||"",lastName:e.statusObject.LastName||"",salutation:e.statusObject.Salutation||"",emailNotification:!!e.statusObject.Receive_Email_Notification__c,news:!!e.statusObject.Receive_News_About_SNSW__c,newGov:!!e.statusObject.Receive_News_About_NSW_Government__c}}};return e.call(t)}function f(a){var s={remoteAction:"UserService.verifyPassword",params:[a.password],resultMap:function(){return!0},errorResultMap:function(e){return k-=1,1>k&&(t.forceRedirect=!0,r.location=i),e.statusMessage=o.MYACCOUNT.PASSWORD.ISBAD,1===k&&(e.statusMessage+="  ",e.statusMessage+=o.MYACCOUNT.PASSWORD.ONEATTEMPTREMAININGLOGOUT),e}};return e.call(s)}function b(a){var s={remoteAction:"UserService.changePassword",params:[a.oldPwd,a.newPwd],resultMap:function(e){return!0},errorResultMap:function(e){return k-=1,1>k&&(t.forceRedirect=!0,r.location=i),e.statusMessage=o.MYACCOUNT.PASSWORD.ISBAD,1===k&&(e.statusMessage+="  ",e.statusMessage+=o.MYACCOUNT.PASSWORD.ONEATTEMPTREMAININGLOGOUT),e&&e.statusObject&&e.statusObject.errorDetails&&e.statusObject.errorDetails.causes&&e.statusObject.errorDetails.causes[0]&&(e.statusObject.errorDetails.causes[0].message=e.statusMessage),e}};return e.call(s)}function h(t){var a={remoteAction:"UserService.deActivateCustomer",params:[t],resultMap:function(e){return 200===e.statusCode}};return e.call(a)}function v(t){var a={remoteAction:"maPersonalProfileService.saveProfile",params:[t.salutation,t.firstName,t.middleName,t.lastName,t.emailNotification,t.news,t.newGov],resultMap:function(e){return"success"===e}};return e.call(a)}function y(t){var a={remoteAction:"maPersonalProfileService.deleteMobileNumber",params:[t],resultMap:function(e){return"success"===e}};return e.call(a)}function S(){var t={remoteAction:"maPersonalProfileService.deleteAlternateEmail",resultMap:function(e){return"success"===e}};return e.call(t)}function C(){var t={remoteAction:"RMSTransactionService.isLinkedWithRMS",resultMap:function(e){return e===!0}};return e.call(t)}function E(){var t={remoteAction:"RMSTransactionService.retrieveUserAndRegistrationInfo_nonTranscation",resultMap:function(e){return e}};return e.call(t)}function M(){var t={remoteAction:"maLinkToRMSCtrl.unlinkRMS"};return e.call(t)}function A(t){var a={remoteAction:"maLinkToRMSCtrl.retrieveLicenseDetails",params:[t],resultMap:function(e){return{licenseDetails:e.statusObject}}};return e.call(a)}function N(){var t=o.MYACCOUNT.LINKGOVSERVICE,a={remoteAction:"maPersonalProfileServiceExt.getLinkedServices",resultMap:function(e){return e.statusObject.map(function(e){switch(e.agencyName){case"RMS":e.header=t.RMSHEADER;break;case"POLICE":e.header=t.POLICEHEADER}return e})}};return e.call(a)}function T(e){var t=e.statusObject;if(angular.isUndefined(t))return P;var a=t.residential.address,r=t.mailing.address;return t.sameAddress=angular.equals(a,r),t.currentResidential=a,t.currentMailing=r,t.residentialCountry="Australia",t.mailingCountry="Australia",delete t.residential,delete t.mailing,P=t,t}function R(){var t={remoteAction:"maPersonalProfileServiceExt.getCustomerProfile",resultMap:T};return e.call(t)}function O(e){var t=angular.copy(e);return t.country="",n("singleLineAddress")(t)}function D(t){var a={remoteAction:"maPersonalProfileServiceExt.saveCustomerProfile",params:[JSON.stringify(t)],resultMap:T};return e.call(a)}function w(e){var t=angular.copy(e);return t.residential=angular.extend({address:null},t.residential),t.mailing=angular.extend({address:null},t.mailing),t.residential.dpid&&(t.residential.address=null),angular.isObject(t.residential.address)&&(t.residential.address.country=e.residentialCountry),t.mailing.dpid&&(t.mailing.address=null),angular.isObject(t.mailing.address)&&(t.mailing.address.country=e.mailingCountry),t&&t.residential&&t.residential.address&&(t.residential.dpid=null),e.sameAddress&&angular.isUndefined(t.residential.dpid)&&e.currentResidential&&Object.keys(e.currentResidential).length>0?s.getAddress({query:O(e.currentResidential),type:"residential",filterState:null}).then(function(e){return e&&e[0]&&e[0].dpid?t.residential.dpid=t.mailing.dpid=e[0].dpid:(t.mailing={address:angular.copy(t.currentResidential)},t.mailingManualEntry=!0),D(t)}):(e.sameAddress&&(t.mailing=angular.copy(t.residential)),D(t))}function I(t){var a={remoteAction:"maRetrievePrimaryEmailCtrl.sendUsernameToUserByMobileOrEmail",params:[t]};return e.call(a)}var k=3,P={};return{formatTimeStampString:d,changePassword:b,createCustomer:u,deActivateCustomer:h,deleteAlternateEmail:S,deleteMobile:y,getContact:g,getCustomerProfile:R,getLastLoginTimeStamp:p,getLinkedServices:N,getSalutationValues:m,isLinkedWithRMS:C,isResendRegistrationLinkLocked:c,retrieveLicenseDetails:A,resendRegistrationLink:l,retrieveUserAndRegistrationInfo_nonTranscation:E,saveContact:v,saveCustomerProfile:w,unlinkRMS:M,verifyCurrentUserPassword:f,sendUsernameToUserByMobileOrEmail:I}}e.$inject=["vf","$rootScope","logoutUrl","$window","SNIPPETS","securityQuestionsPasswordRetryLimitExceededLogoutUrl","DataSanService","$filter"],angular.module("global-services").factory("myAccountAPI",e)}(),function(){"use strict";function e(){var e=["M/YYYY","MM/YYYY","D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY","YYYY"];this.generate=function(t,a,r){return moment(t,a||e,r)},this.valid=function(t,a){function r(e){return t===i.format(e)}var o=e;a&&a.data&&a.data.dateFilters&&(o=a.data.dateFilters);var i=this.generate(t,o,!0);return!t||o.some(r)},this.minimumDate=function(t,a){var r=this.generate(t,e,!0),o=moment().subtract(120,"years");return a&&(o=this.generate(a)),!t||r.isValid()&&!r.isBefore(o)},this.maximumDate=function(t,a){var r=this.generate(t,e,!0),o=moment();return a&&(o=this.generate(a)),!t||r.isValid()&&!r.isAfter(o)},this.filter=function(e){if(!e)return"";var t,a=e.split("/");return 3===a.length&&(t="YYYY-MM-DD"),2===a.length&&(t="YYYY-MM"),1===a.length&&(t="YYYY"),this.generate(e).format(t)},this.fieldRequiredAfter=function(t,a){var r=this,o=r.generate(a);return function(a,i,s){var n=r.generate(s.model[t],e,!0);return!!s.model[t]&&!n.isBefore(o)}},this.fieldRequiredBefore=function(t,a){var r=this,o=r.generate(a);return function(a,i,s){var n=r.generate(s.model[t],e,!0);return!!s.model[t]&&n.isBefore(o)}}}angular.module("global-services").service("partialDate",e)}(),function(){"use strict"}(),function(){"use strict";function e(e,t,a,r,o,i,s,n){function l(e,t){return e+"&"+t}function c(e,a,r,o){if(a){var i=e+"-redirect";v.setItem(i,a)}t.go(e,r,o)}function u(e){var t=e+"-redirect",a=v.getItem(t);return a}function d(e,a,r,o){var i=e+"-redirect",s=v.getItem(i);v.removeItem(i),t.go(s||a,r,o)}function p(e,t){var r;r=g(e,t),console.log("in redirect.Svc.js logIn(), url=",r),a.location=r}function m(e){for(var t=e.split("?")[1],a=t?t.split("&"):[],r={},o=0;o<a.length;o++){var i=a[o].split("=");i[1]&&(r[i[0]]=i[1])}return r}function g(e,r){var i=o.split("?")[0],s=m(o);e=e||"dashboard",r&&(s.activation=r);var n=t.href(e)||e,c=a.location.origin?a.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");c+=a.location.pathname,c+=n,r&&(c=c+"?activation="+r),s.sUrl=encodeURIComponent(c),s.startUrl&&(s.startUrl=encodeURIComponent(c));var u=[];for(var d in s)({}).hasOwnProperty.call(s,d)&&u.push(d+"="+s[d]);return i+"?"+u.reduce(l)}function f(e){var a=e+"-redirect",r=v.getItem(a)||"";return v.removeItem(a),encodeURIComponent(t.href(r))}function b(){a.location=i}function h(){a.location=s}var v=n.getStorage("REDIRECT");return{go:c,logIn:p,logOut:b,loginUrl:g,returnUrl:f,returnFrom:d,fromDetails:u,goToLandingPage:h}}e.$inject=["$q","$state","$window","vf","loginUrl","logoutUrl","snswSiteUrl","snswSessionStorage"],angular.module("global-services").factory("redirectService",e)}(),function(){"use strict";angular.module("global-services").value("regex",{mobileNumber:"04[0-9]{8,8}",mobileCodeNumber:"[0-9]{0,14}",email:"[^\\@]*\\@[^.]*\\.[^.][^.][\\S\\s]*",pin:"[0-9]{6}",phone:"[0-9]{10,15}",abn:"[0-9]{11,11}",acn:"[0-9]{9,9}",alphaNumerics:"[a-zA-Z0-9]*",numerics:"[0-9]*",streetNumber:"[a-zA-Z0-9/]*",firstOrLastName:"[a-zA-Z- ]*"})}(),function(){"use strict";function e(e,t){var a=/S=(.*)/,r=t.navigator.userAgent;e.debug("userAgentString : ",r);var o=a.exec(r);return o=o&&o.length>1?o[1]:"",e.debug("siteId : ",o),o}e.$inject=["$log","$window"],angular.module("global-services").factory("siteId",e)}(),function(){"use strict";function e(e){function t(e){this.keyPrefix=e}function a(e,t){return e+"_"+t}function r(t,r){var o=e.sessionStorage.getItem(a(t,r));return o?JSON.parse(o):o}function o(t,r,o){s&&e.sessionStorage.setItem(a(t,r),JSON.stringify(o))}function i(t,r){s&&e.sessionStorage.removeItem(a(t,r))}var s=!0;try{e.sessionStorage.setItem("test",1),e.sessionStorage.removeItem("test")}catch(n){s=!1}t.prototype={getItem:function(e){return r(this.keyPrefix,e)},setItem:function(e,t){o(this.keyPrefix,e,t)},removeItem:function(e){i(this.keyPrefix,e)},clear:function(){for(var t=e.sessionStorage,a=0;a<t.length;a++){var r=t.key(a);r.startsWith(this.keyPrefix)&&t.removeItem(r)}}},this.getStorage=function(e){return new t(e)}}e.$inject=["$window"],angular.module("global-services").service("snswSessionStorage",e)}(),function(){"use strict";var e=[{value:"NSW",label:"NSW"},{value:"ACT",label:"ACT"},{value:"NT",label:"NT"},{value:"QLD",label:"QLD"},{value:"SA",label:"SA"},{value:"TAS",label:"TAS"},{value:"VIC",label:"VIC"},{value:"WA",label:"WA"}];angular.module("global-services").constant("stateOptions",e)}(),function(){"use strict";function e(e,t){function a(e){return e&&2e3===e.statusCode&&e.statusObject&&e.statusObject.Content__c?e.statusObject.Content__c:void 0}function r(){var t={remoteAction:"TermsConditionsService.logAcceptedTC4MyAccount",params:[]};return e.call(t)}function o(){var t={remoteAction:"TermsConditionsService.isMyAccountTCUpdated",params:[],resultMap:function(e){return a(e)}};return e.call(t)}function i(){var t={remoteAction:"TermsConditionsService.getTC4CheckDemeritPoints",params:[],resultMap:function(e){return a(e)}};return e.call(t)}function s(a){var r={transactionToken:a.transactionToken||"",productCode:a.productCode||""},o={remoteAction:"RMSWrapperCtrl.getTermsAndConditionsContent",params:[JSON.stringify(r)],resultMap:function(e){return e.statusObject.termsAndConditionsContent}};return e.call(o)["catch"](function(e){return t.resolve(e.message)})}return{isMyAccountTCUpdated:o,getTermsAndConditionsContent:s,logAcceptedTC4MyAccount:r,getTC4CheckDemeritPoints:i}}e.$inject=["vf","$q"],angular.module("global-services").factory("TermsConditions",e)}(),function(){"use strict";function e(e,t,a){this.scrollTo=function(a){var r=e.hash();e.hash(a),t(),e.hash(r)},this.scrollTop=function(){a.scrollTo(0,0)}}e.$inject=["$location","$anchorScroll","$window"],angular.module("global-services").service("UIService",e)}(),function(){"use strict";function e(e){function t(){var t={remoteAction:"UserService.isAuthenticated"};return e.call(t)}function a(t){var a={params:[t],remoteAction:"UserService.activateCustomer"};return e.call(a)}function r(t,a,r,o){var i={params:[t,a,r,o],remoteAction:"UserService.submitFeedbackForm",resultMap:function(e){return e.statusMessage}};return e.call(i)}return{isAuthenticated:t,activateCustomer:a,submitFeedbackForm:r}}e.$inject=["vf"],angular.module("global-services").factory("userService",e)}(),function(){"use strict";function e(e,t,a,r){function o(){var o=Array.prototype.slice.call(arguments),i={escape:!1,buffer:!1,timeout:12e4};t.debug("Dialling Salesforce...",o);var s=Visualforce.remoting.Manager,n=s.invokeAction,l=e.defer(),c=function(e,a){t.debug("Salesforce replied with...",e),e&&e.statusMessage&&(e.statusMessage=r(e.statusMessage)),l.resolve(e,a)};return o.push(c),o.push(i),n.apply(s,o),a.isLoading=!0,l.promise["finally"](function(){a.isLoading=!1})}var i=apiCheck({output:{prefix:"visualforceService:"}}),s=apiCheck.shape({remoteAction:apiCheck.string,params:apiCheck.array.optional,resultMap:apiCheck.func.optional,errorResultMap:apiCheck.func.optional});return o.call=function(o){i.warn(s,o);var n=[];n.push(o.remoteAction),n=o.params?n.concat(o.params):n,t.debug("Dialling Salesforce ... with:"+o.remoteAction,n);var l=Visualforce.remoting.Manager,c=l.invokeAction,u=e.defer(),d=function(e,a){var i,s=a&&!a.status;if(t.debug("Salesforce Replied For..."+o.remoteAction+" with:",e),s)return i=new Error("Http error: "+a.statusCode),i.httpStatusCode=a.statusCode,u.reject(i);var n=angular.isString(e);if(n&&"success"!==e)return i=new Error(r(e)),i.response=e,u.reject(i);var l=angular.isNumber(e.statusCode);return i&&i.statusMessage&&(i.statusMessage=r(i.statusMessage)),l&&200!==e.statusCode&&2e3!==e.statusCode?(o.errorResultMap&&(e=o.errorResultMap(e)),i=new Error(r(e.statusMessage)),i.response=e,u.reject(i)):o.resultMap?u.resolve(o.resultMap(e)):u.resolve(e)};return n.push(d),n.push({escape:!1,buffer:!1,timeout:12e4}),c.apply(l,n),a.isLoading=!0,u.promise["finally"](function(){a.isLoading=!1})},o}e.$inject=["$q","$log","$rootScope","errorMsgMap"],angular.module("global-services").factory("vf",e)}(),function(){"use strict";function e(){return function(e){var t=["line1","line2","suburb","state","postCode","country"];return!e||angular.equals(e,{})?"None":t.filter(function(t){return Object.keys(e).indexOf(t)>=0}).map(function(t){return e[t]}).join(", ")}}angular.module("global-services").filter("singleLineAddress",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{linkingInfo:"=",pageHeader:"=",successState:"=",quitPrimaryAction:"=",quitSecondaryAction:"="},restrict:"AE",transclude:!0,templateUrl:"link/dvs/dvs.html",controller:"dvsController as dvs"}}angular.module("link.dvs").directive("documentationVerification",e)}(),function(){"use strict";function e(e,a,r,o,i){function s(e,t){f.options.resetModel(),f.form.$setPristine(),f.form.$setUntouched(),f.fields=o.getFields(e,t),f.model.documentType=e,f.model=angular.extend({},f.model,f.contactDetails)}function n(e,t){s(f.model.documentType,t),f.model[e]=t}function l(e,t,a,r,o){var i=a||"",s=t[r]||"",n=t[o]||"";return i.length+s.length+n.length<=e.templateOptions.maxlength}function c(e){f.alert=angular.extend({},{type:"info"},e)}function u(){f.alert=void 0}function d(){f.lockedStatus.isLocked=!1}function p(){return a.go(f.successState,{},{reload:!0})}function m(e){var a=e.response||e,o=a.lockedStatus||{};o.isLocked?c(t):a.statusMessage&&c({type:"danger",heading:"Error!",text:a.statusMessage}),a.transactionToken&&(f.model.transactionToken=a.transactionToken),angular.extend(f.lockedStatus,o),r.lockTimeOut(o).then(d)}function g(e,t,a){return a.$valid?(u(),r.validateDetails(o.mapModel(e),t).then(p)["catch"](m)):void 0}var f=this,b={formState:angular.extend({},i,{documentChange:s,australianStateChange:n,combinedMaxLength:l})},h={debounce:{"default":0,blur:0},updateOn:"default blur"},v=angular.extend({transactionToken:f.linkingInfo.transactionToken},f.linkingInfo.contactDetails);angular.extend(f,{model:v,onSubmit:g,options:b,modelOptions:h,transactionAlert:c,dismissAlert:u,fields:o.getFields()},f.linkingInfo),f.linkingInfo.lockedStatus.isLocked&&c(t),r.lockTimeOut(f.linkingInfo.lockedStatus).then(d)}e.$inject=["$filter","$state","dvsService","dvsField","dvsFormState"];var t={type:"danger",heading:"Error!",text:"Too many incorrect document verification attempts. For your security, linking to DVS has been locked for 5 minutes. Please check your details and try again, use a different identity document, or call us on 13 77 88."};angular.module("link.dvs").controller("dvsController",e)}(),function(){"use strict";function e(e){return"POLICE"===e.agencyName&&e.isLinked}function t(e){return"POLICE"===e.agencyName&&!e.isLinked}function a(e,a){return a.getLinkedServices().then(function(a){return a.some(t)?e.reject({message:"User is not linked to Police",state:"linkGovService"}):e.resolve()})}function r(t,a,r){return a.getLinkedServices().then(function(a){return a.some(e)?t.reject({message:"User is linked to Police",state:"linkGovService"}):r.getLinkingInfo()})}function o(e,t){e.state("unlink",{"abstract":!0,views:{main:{template:'<ui-view name="unlink"></ui-view>'}}}).state("unlink.police",{url:"/unlink/police",views:{unlink:{templateUrl:"link/police/views/unlinkPolice.html",controller:"unlinkPoliceController as unlink"}},resolve:{linkingInfo:a},data:{title:"Unlink NSW Police Force"}}),e.state("link",{"abstract":!0,views:{main:{template:'<ui-view name="link"></ui-view>'}}}).state("link.police",{url:"/link/police",views:{link:{templateUrl:"link/police/views/linkToPolice.html",controller:"linkToPoliceController as police"}},resolve:{linkingInfo:r,isPoliceLinkingServiceVisible:["vf",function(e){return e.call({remoteAction:"ppLinkToPoliceCtl.isPoliceLinkingServiceVisible"}).then(function(e){return!(!e||!e.statusObject)})["catch"](function(e){return!1})}]},data:{title:"Link to NSW Police Force"}}).state("link.policeSuccess",{views:{link:{templateUrl:"link/police/views/linkToPoliceSuccess.html",controller:["$scope","policePortalUrl",function(e,t){e.policePortalUrl=t}]}},data:{title:"Link to NSW Police Force - Success"}})}a.$inject=["$q","myAccountAPI"],r.$inject=["$q","myAccountAPI","policeService"],o.$inject=["$stateProvider","isPoliceVisible"],angular.module("link.police").config(o)}(),function(){"use strict";function e(e,t,a,r){function o(e,t){e.preventDefault();var r={"oeh.nationalParkPass.details":{pageHeading:a.OEH.NATIONALPARKPASS.DETAILSHEADING,pageHeadingStyle:"",progress:{now:1,max:3}},"oeh.nationalParkPass.application":{pageHeading:a.OEH.NATIONALPARKPASS.APPLICATIONHEADING,pageHeadingStyle:"",progress:{now:2,max:3}},"oeh.nationalParkPass.receipt":{pageHeading:a.OEH.NATIONALPARKPASS.RECEIPTHEADING,pageHeadingStyle:"hide",progress:{now:3,max:3}}};angular.extend(i,{pageHeading:"",progress:{now:0,max:2}},r[t.name])}var i=this;e.SNIPPETS=a,e.$on("$stateChangeSuccess",o),angular.extend(i,{name:a.OEH.NATIONALPARKPASS.TRANSACTIONHEADING,code:t.productCode,transactionToken:t.transactionToken,model:r.resetModel(),hasCaptcha:!0,showPreviousSearches:!0,goToNextState:t.goToNextState,goToPrevState:t.goToPrevState})}e.$inject=["$scope","nationalParkPassService","SNIPPETS","oehTransactionService"],angular.module("oeh").controller("nationalParkPassController",e)}(),function(){"use strict";function e(e,t,a,r,o,i){function s(t){function a(e){var t=e.response||{};return"RMS_TRANSACTION_TIME_OUT"===t.statusMessage?o.transactionTimeout():i.reject(e)}return e.call(t)["catch"](a)}var n=this;n.productCode="ANNPARKPAS",n.sessionStorage=a.getStorage(n.productCode),n.tAndCsAgreed="tAndCsAgreed",n.renewRegoToken=r.transactionToken,n.transactionToken="",this.goToNextState=function(){return"oeh.nationalParkPass.details"===t.current.name?t.go("oeh.nationalParkPass.application"):void 0},this.goToPrevState=function(){return"oeh.nationalParkPass.application"===t.current.name?t.go("oeh.nationalParkPass.details"):void 0},this.setTermsAndConditionsAgreed=function(){return n.sessionStorage.setItem(n.tAndCsAgreed,!0),!0},this.getTermsAndConditionsContent=function(){var e={remoteAction:"OEH_NPP_Ctrl.getTermsAndConditionsContent",params:[JSON.stringify({productCode:n.productCode||""})],resultMap:function(e){return e.statusObject.termsAndConditionsContent}};return s(e)},this.getCustomerDetails=function(e,t){var a={remoteAction:"OEH_NPP_Ctrl.getProductAndCustomerDetails",params:[JSON.stringify(t?{transactionToken:t}:{renewRegoToken:n.renewRegoToken,ipAddress:e,productCode:n.productCode})],resultMap:function(e){var t=e.statusObject;return n.transactionToken=t.transactionToken,t}};return s(a)},this.orderNPPass=function(e){angular.extend(e,{transactionToken:n.transactionToken});var t={remoteAction:"OEH_NPP_Ctrl.orderNPPass",params:[JSON.stringify(e)],resultMap:function(e){return e.statusObject}};return s(t)},this.getReceiptDetails=function(e){var t={remoteAction:"OEH_NPP_Ctrl.getReceiptDetails",params:[JSON.stringify({transactionToken:e})],resultMap:function(e){var t=e.statusObject;return t}};return s(t)},this.sendTransactionPDFEmail=function(e,t){var a={email:e,transactionToken:t},r={remoteAction:"OEH_NPP_Ctrl.sendTransactionPDFEmail",params:[JSON.stringify(a)],resultMap:function(e){var t=e.statusObject;return t}};return s(r)},this.getTermsAndConditionsAgreed=function(){var e=n.sessionStorage.getItem(n.tAndCsAgreed);return null!==e}}e.$inject=["vf","$state","snswSessionStorage","$stateParams","snswModal","$q"],angular.module("oeh").service("nationalParkPassService",e)}(),function(){"use strict";function e(e){return e.getTermsAndConditionsContent()}function t(e,t){return t.transactionToken||t.token?e.resolve():e.reject({state:"dashboard",message:"Renew registration transaction token and National Park Pass token missing"})}function a(e,t,a,r){return r.token?a.getCustomerDetails(null,r.token):a.getCustomerDetails(t)}function r(e,t){return e.getReceiptDetails(t.token)}function o(e){return e.getSalutationValues()}function i(i){i.state("oeh.nationalParkPass",{title:"National Park Pass","abstract":!0,url:"/nationalParkPass",views:{oeh:{templateUrl:"oeh/transaction.html",controller:"nationalParkPassController as transaction"}},params:{isGuest:"",transactionToken:"",token:""},resolve:{canAccess:t}}).state("oeh.nationalParkPass.details",{title:"National Park Pass - Details and Terms",url:"/details",views:{transaction:{template:'<national-park-pass-details transaction="transaction" terms-and-conditions-content="details.termsAndConditionsContent"></national-park-pass-details>',controllerAs:"details",controller:["termsAndConditionsContent",function(e){this.termsAndConditionsContent=e}]}},params:{transactionToken:"",token:""},resolve:{termsAndConditionsContent:e}}).state("oeh.nationalParkPass.application",{title:"National Park Pass - Application Form",url:"/application",views:{transaction:{template:'<national-park-pass-application transaction="transaction" customer-details="application.customerDetails" salutation-values="application.salutationValues"></national-park-pass-application>',controllerAs:"application",controller:["customerDetails","salutationValues",function(e,t){this.customerDetails=e,this.salutationValues=t}]}},params:{token:""},resolve:{ipAddress:["$http","$q","$timeout","encryptedIpAddress",function(e,t,a,r){var o=t.defer();return a(function(){o.resolve(r)},0),o.promise}],customerDetails:a,salutationValues:o}}).state("oeh.nationalParkPass.receipt",{title:"National Park Pass - Receipt",url:"/receipt?token",views:{transaction:{template:'<national-park-pass-receipt transaction="transaction" receipt-details="receipt.receiptDetails"></national-park-pass-receipt>',controllerAs:"receipt",controller:["receiptDetails",function(e){this.receiptDetails=e}]}},params:{token:""},resolve:{receiptDetails:r}})}t.$inject=["$q","$stateParams"],e.$inject=["nationalParkPassService"],a.$inject=["$q","ipAddress","nationalParkPassService","$stateParams"],o.$inject=["myAccountAPI"],r.$inject=["nationalParkPassService","$stateParams"],i.$inject=["$stateProvider"],angular.module("oeh").config(i)}(),function(){"use strict";function e(e,t){var a=apiCheck(),r={},o=function(t){return e.getType(t)&&"function"==typeof e.getType(t).apiCheck},i=function(t){return e.getType(t).apiCheck(a).templateOptions},s=function(e,t){angular.forEach(e,function(e,a){angular.isFunction(e.type)&&"shape"===e.shortType||e.shape?(t[a]=e.type?e.type():e.shape,s(t[a],t[a])):t[a]=e.type||e})},n=function(e){var a,o,n=i(e.type);return s(n,r),o=t("json")(r),a='<div class="alert alert-info apicheck-info"><p><b>APICheck properties:</b></p><pre>'+o+"</pre></div>"};this.addAPICheckDetails=function(e,t,a){var r=t.type,i=o(r),s='<div class="alert alert-danger apicheck-warn"><b>Warning:</b> No apiCheck defined on type!</div>';return e=i?n(t)+e:s+e},this.addSuppliedOptions=function(e,a,r){var o=t("json")(a.templateOptions),i='<pre class="component-options">'+o+"</pre>";return e+=i}}e.$inject=["formlyConfig","$filter"],angular.module("ma").service("apiCheckVisualiserService",e)}(),function(){"use strict";function e(e,t,a){"true"!==e&&e!==!0||t.templateManipulators.postWrapper.push(a.addAPICheckDetails,a.addSuppliedOptions)}e.$inject=["showLog","formlyConfig","apiCheckVisualiserService"],angular.module("ma").run(e)}(),function(){"use strict";function e(e,t){function a(e){var a=t.localStorage.getItem("reveal-dev-preview");return a?JSON.parse(a):a}function r(e,a){t.localStorage.setItem(e,a)}return{templateUrl:"core/apiCheckVisualiser/apiCheckVisualiser.html",link:function(t,o,i){t.enabled=a("reveal-dev-preview")||!1,t.$watch("enabled",function(t){r("reveal-dev-preview",t),angular.element(e).find("body").toggleClass("reveal-dev-preview",t)})}}}e.$inject=["$document","$window"],angular.module("ma").directive("apiCheckVisualiser",e)}(),function(){"use strict";function e(e){return(e||"This")+" has an invalid format. Please enter whole numbers only."}function t(e){return(e||"This")+" has an invalid format. Please re-enter."}function a(a,r){a.extras.removeChromeAutoComplete=!0,a.extras.errorExistsAndShouldBeVisibleExpression="fc.$touched || form.$submitted",r.addStringMessage("required","This field is required"),r.addStringMessage("email","Invalid email address. Please enter an email address using the format example@email.com"),r.messages.pattern=function(e,a,r){var o="patternValidationMessage";return r.options.templateOptions[o]?r.options.templateOptions[o]:t(e)},r.addStringMessage("editable","Please select an item from the list"),r.addTemplateOptionValueMessage("minlength","minlengthMessage","","is the minimum length","Too short"),r.addStringMessage("maxlength","Invalid format - maximum length of characters reached."),r.addStringMessage("electronic","Sorry, we are unable to verify your document as it's outside the scope of records currently available for digital verification. Please use a different identity document."),r.messages.centrelinkPensionerCardNumberCheck=t,r.messages.pensionerCardNumberCheck=t,r.messages.validPersonName=t,r.messages.validDealerName=t,r.messages.validDealerLicenseNumber=e,r.messages.validVehiclePlateNumber=e,r.messages.parse=t}a.$inject=["formlyConfig","formlyValidationMessages"],angular.module("ma").run(a)}(),function(){"use strict";angular.module("ma").config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("verifyPassword",{url:"/verifyPassword?redirect",views:{main:{templateUrl:"core/views/verifyPassword.html",controller:"verifyPasswordController"}},data:{title:"Verify password"}}),t.otherwise("/dashboard")}])}(),function(){"use strict";angular.module("ma").config(["$logProvider","showLog",function(e,t){e.debugEnabled("true"===t||t===!0)}])}(),function(){"use strict";function e(e,t,a,r){function o(){t.debug(a.url());var e;if(r&&a.url()&&document.getElementsByClassName("liveagent-wrapper")){for(var o=document.getElementsByClassName("liveagent-wrapper"),i=0;i<o.length;i++)o[i].style.display="none";a.url().indexOf("/linkRMS")>-1||a.url().indexOf("/welcome")>-1||a.url().indexOf("/linkGovService")>-1||a.url().indexOf("/unlinkRMS")>-1?e="liveagent-rms":a.url().indexOf("link/police")>-1?e="liveagent-dvs":a.url().indexOf("/rms/changeDetails")>-1||a.url().indexOf("/rms/trans/")>-1||a.url().indexOf("/rms/freeRegoCheck")>-1||a.url().indexOf("/rms/vehicleHistoryReport")>-1?e="liveagent-rms-trans":a.url().indexOf("/easyToDoBusiness")>-1||a.url().indexOf("/sip")>-1||a.url().indexOf("/OBP")>-1||a.url().indexOf("/rms/replaceLicence")>-1||a.url().indexOf("/rms/replaceRegCert")>-1||a.url().indexOf("/rms/checkDemerit")>-1||a.url().indexOf("/rms/onlineCertifiedDrivingRecord")>-1||(e="liveagent-others"),document.getElementById(e)&&(document.getElementById(e).style.display="inline"),t.debug("liveagentDivId",e)}}e.$on("$stateChangeSuccess",o)}e.$inject=["$rootScope","$log","$location","activateLiveChat"],angular.module("ma").run(e)}(),function(){"use strict";function e(e,t){function a(e,t){return e.getLinkedServices()["catch"](function(e){return{filter:function(){return{map:function(){return""}}}}})}a.$inject=["myAccountAPI","$rootScope"],e.state("login",{url:"/login",views:{main:{templateUrl:"core/views/login.html",controller:"loginController"}},isPublic:!0,publicOnly:!0,data:{title:"Sign in"}}),e.state("createAccount",{url:"/createAccount",views:{main:{templateUrl:"core/createAccount/createAccount/createAccount.html",controller:"createAccountController"}},publicOnly:!0,isPublic:!0,data:{title:"Create account"}}),e.state("createAccountExist",{url:"/createAccountExist/:email",views:{main:{templateUrl:"core/createAccount/createAccountExist/createAccountExist.html",controller:"createAccountExistController"}},isPublic:!0,publicOnly:!0,data:{title:"Account already exists"}}),e.state("createAccountExpired",{url:"/createAccountExpired/:email",views:{main:{templateUrl:"core/createAccount/createAccountExpired/createAccountExpired.html",controller:"createAccountExpiredController"}},isPublic:!0,publicOnly:!0,data:{title:"Account registration link expired"
}}),e.state("createAccountExpiredOrInvalid",{url:"/createAccountExpiredOrInvalid",views:{main:{templateUrl:"core/createAccount/createAccountExpiredOrInvalid/createAccountExpiredOrInvalid.html",controller:"createAccountExpiredOrInvalidController"}},isPublic:!0,publicOnly:!0,data:{title:"Expired or invalid activation link"}}),e.state("createAccountValidate",{url:"/createAccountValidate/:email",views:{main:{templateUrl:"core/createAccount/createAccountValidate/createAccountValidate.html",controller:"createAccountValidateController"}},isPublic:!0,publicOnly:!0,data:{title:"Validate your account with your email"}}),e.state("activateAccount",{isPublic:!0,url:"/activateAccount?activationCode&startUrl",views:{main:{templateUrl:"core/createAccount/activateAccount/activateAccount.html",controller:"activateAccountController"}},params:{startUrl:"",activationCode:""}}),e.state("createAccountError",{isPublic:!0,url:"/createAccountError?error",views:{main:{templateUrl:"core/createAccount/createAccountError/createAccountError.html",controller:"createAccountErrorController"}},params:{error:""}}),e.state("linkGovService",{url:"/linkGovService?showWelcomeAlert",views:{main:{templateUrl:"core/createAccount/linkGovService/linkGovService.html",controller:"linkGovServiceController as linkGovService"}},resolve:{linkedServices:a},data:{title:"My services"}})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("ma").config(e)}(),function(){"use strict";function e(e){e.state("dashboard",{url:"/dashboard?activation",views:{main:{templateUrl:"core/dashboard/dashboard/dashboard.html",controller:"dashboardController"}},resolve:{isAuthenticated:["user",function(e){return e.isAuthenticated}],ipAddress:["ipAddressService",function(e){return e.get()}],token:["dashboardService","ipAddress","isAuthenticated",function(e,t,a){return a?e.createMaDashboardTransaction(t):void 0}],rmsEligibilityCheckResult:["token","dashboardService",function(e,t){return e?t.rmsEligibilityCheck(e):void 0}],getDashboardInfoFromDBResult:["dashboardService","token","rmsEligibilityCheckResult",function(e,t,a){return a?e.getDashboardInfoFromDB(t):null}],pingUserInfoResult:["getDashboardInfoFromDBResult","dashboardService","token",function(e,t,a){return e?(e.statusObject||(e.statusObject={}),e.statusObject.pingUserInfo?!0:t.getPingUserInfo(a).then(function(t){return t.statusObject&&t.statusObject.pingUserInfo?(e.statusObject.pingUserInfo=t.statusObject.pingUserInfo,!0):!1})):!1}],getAgenciesResult:["dashboardService",function(e){return e.getAgencies()}],dashboardInfo:["dashboardService","getDashboardInfoFromDBResult","getAgenciesResult","pingUserInfoResult","$log",function(e,t,a,r,o){return r&&o.debug("User info retrieved from PING"),e.reshapeResponse(t,a)}]},data:{title:"MyServiceNSW"}}),e.state("connections",{url:"/connections",views:{main:{templateUrl:"core/dashboard/connections/connections.html",controller:"connectionsController"}},data:{title:"My services"}}),e.state("products",{url:"/products",views:{main:{templateUrl:"core/dashboard/products/products.html",controller:"productsController"}},data:{title:"My wallet"}}),e.state("timeline",{url:"/timeline",views:{main:{templateUrl:"core/dashboard/timeline/timeline.html",controller:"timelineController"}},params:{dashboardInfo:null},data:{title:"Timeline"}})}e.$inject=["$stateProvider"],angular.module("ma").config(e)}(),function(){"use strict";function e(e,t,a,r){function o(t){function o(t){var a=r.extractErrorMessages(t)[0].message;e.go("linkRMSNotSuccess",{message:a})}function i(){n&&l&&t&&t()}function s(t){n=!0,t.statusObject!==!0?(l=!0,i()):e.go("linkRMSLocked")}var n=!1,l=!1;a.isRMSLinkingLocked().then(s)["catch"](o)}return{checkAndRedirect:o}}e.$inject=["$state","maSecQuestion","linkRMS","commonUtil"],angular.module("ma").factory("linkRMSForm",e)}(),function(){"use strict";function e(e){function t(e,t){var a=e.defer();return t.isLinkedWithRMS&&t.hasRMSEmail&&a.reject({state:"manageRMS"}),t.isLinkedWithRMS&&!t.hasRMSEmail?a.reject({state:"linkRMSAddEmail"}):a.resolve(),a.promise}function a(e,t,a){return e.all({isLinkedWithRMS:t.isLinkedWithRMS().then(function(e){return e?a.hasEmail():e})})}a.$inject=["$q","myAccountAPI","rmsTransactionService"],t.$inject=["$q","user"],e.state("linkRMSOptions",{url:"/linkRMSOptions",views:{main:{templateUrl:"core/linkRMS/linkRMSOptions/linkRMSOptions.html",controller:"linkRMSOptionsController"}},parentName:"linkGovService",resolve:{user:a,ipAddress:["ipAddressService",function(e){return e.get()}],dashboardToken:["ipAddress","commonUtil",function(e,t){return t.createMaDashboardTransaction(e)}],checkUserEligibility:["user","commonUtil","dashboardToken",function(e,t,a){return e.isAuthenticated&&a?t.checkUserEligibility(a.statusObject):void 0}],updateAllInfoSession:["user","commonUtil","dashboardToken",function(e,t,a){return e.isAuthenticated&&a?t.updateAllInfoSession(a.statusObject):void 0}],canLinkRMS:t},rms:!0,params:{returnState:"",transactionName:""},data:{title:"Link to Roads and Maritime Services"}}),e.state("linkRMSStart",{url:"/linkRMSStart",views:{main:{templateUrl:"core/linkRMS/linkRMSStart/linkRMSStart.html",controller:"linkRMSStartController"}},parentName:"linkGovService",resolve:{user:a,ipAddress:["ipAddressService",function(e){return e.get()}],dashboardToken:["ipAddress","commonUtil",function(e,t){return t.createMaDashboardTransaction(e)}],checkUserEligibility:["user","commonUtil","dashboardToken",function(e,t,a){return e.isAuthenticated&&a?t.checkUserEligibility(a.statusObject):void 0}],updateAllInfoSession:["user","commonUtil","dashboardToken",function(e,t,a){return e.isAuthenticated&&a?t.updateAllInfoSession(a.statusObject):void 0}],canLinkRMS:t},rms:!0,params:{returnState:"",transactionName:""},data:{title:"Link to Roads and Maritime Services"}}),e.state("linkRMSSuccess",{url:"/linkRMSSuccess",resolve:{ipAddress:["ipAddressService",function(e){return e.get()}],dashboardToken:["ipAddress","commonUtil",function(e,t){return t.createMaDashboardTransaction(e)}],updateAllInfoSession:["user","commonUtil","dashboardToken",function(e,t,a){return e.isAuthenticated&&a?t.updateAllInfoSession(a.statusObject):void 0}]},views:{main:{templateUrl:"core/linkRMS/linkRMSSuccess/linkRMSSuccess.html",controller:"linkRMSSuccessController"}},parentName:"linkGovService",rms:!0,params:{transactionName:""},data:{title:"Link to Roads and Maritime Services - successfully linked"}}),e.state("linkRMSAddEmail",{url:"/linkRMSAddEmail?back",views:{main:{templateUrl:"core/linkRMS/linkRMSAddEmail/linkRMSAddEmail.html",controller:"linkRMSAddEmailController as addEmail"}},parentName:"linkGovService",rms:!0,data:{title:"Link to Roads and Maritime Services - add email"}}),e.state("linkRMSNeedEmail",{url:"/linkRMSNeedEmail",params:{pageHeadingTitle:null,stateDirection:null,errorMessages:null,emailToRegister:null,token:null},views:{main:{templateUrl:"core/linkRMS/linkRMSNeedEmail/linkRMSNeedEmail.html",controller:"linkRMSNeedEmailController as vm"}}}),e.state("linkRMSUnableLink",{url:"/linkRMSUnableLink",views:{main:{templateUrl:"core/linkRMS/linkRMSUnableLink/linkRMSUnableLink.html",controller:"linkRMSUnableLinkController"}},parentName:"linkGovService",rms:!0,data:{title:"Link to Roads and Maritime Services - unable to link"}}),e.state("linkRMSNoDetails",{url:"/linkRMSNoDetails",views:{main:{templateUrl:"core/linkRMS/linkRMSNoDetails/linkRMSNoDetails.html",controller:"linkRMSNoDetailsController"}},parentName:"linkGovService",rms:!0,data:{title:"Link to Roads and Maritime Services - unable to link"}}),e.state("linkRMSDontHaveDetails",{url:"/linkRMSDontHaveDetails",views:{main:{templateUrl:"core/linkRMS/linkRMSDontHaveDetails/linkRMSDontHaveDetails.html",controller:"linkRMSDontHaveDetailsController"}},parentName:"linkGovService",rms:!0,data:{title:"Link to Roads and Maritime Services - unable to link"}}),e.state("linkRMSDontHaveNumber",{url:"/linkRMSDontHaveNumber",views:{main:{templateUrl:"core/linkRMS/linkRMSDontHaveNumber/linkRMSDontHaveNumber.html",controller:"linkRMSDontHaveNumberController"}},parentName:"linkGovService",rms:!0,data:{title:"Link to Roads and Maritime Services - unable to link"}}),e.state("linkRMSNotSuccess",{url:"/linkRMSNotSuccess?message",views:{main:{templateUrl:"core/linkRMS/linkRMSNotSuccess/linkRMSNotSuccess.html",controller:"linkRMSNotSuccessController as notSuccess"}},parentName:"linkGovService",rms:!0,data:{title:"Link to Roads and Maritime Services - unable to link"}}),e.state("linkRMSLocked",{url:"/linkRMSLocked",views:{main:{templateUrl:"core/linkRMS/linkRMSLocked/linkRMSLocked.html",controller:"linkRMSLockedController as rmsLocked"}},parentName:"linkGovService",rms:!0,data:{title:"Link to Roads and Maritime Services - unable to link"}}),e.state("linkRMSForgotRMSOnlineAccountPassword",{url:"/linkRMSForgotRMSOnlineAccountPassword",views:{main:{templateUrl:"core/linkRMS/linkRMSForgotRMSOnlineAccountPassword/linkRMSForgotRMSOnlineAccountPassword.html",controller:"linkRMSForgotRMSOnlineAccountPasswordController"}},parentName:"linkGovService",rms:!0,data:{title:"Link to Roads and Maritime Services - forgot password"}}),e.state("linkRMSProvideLicenseDetails",{url:"/linkRMSProvideLicenseDetails",views:{main:{templateUrl:"core/linkRMS/linkRMSProvideLicenseDetails/linkRMSProvideLicenseDetails.html",controller:"linkRMSProvideLicenseDetailsController"}},parentName:"linkGovService",resolve:{user:a,ipAddress:["ipAddressService",function(e){return e.get()}],dashboardToken:["ipAddress","commonUtil",function(e,t){return t.createMaDashboardTransaction(e)}],checkUserEligibility:["user","commonUtil","dashboardToken",function(e,t,a){return e.isAuthenticated&&a?t.checkUserEligibility(a.statusObject):void 0}],updateAllInfoSession:["user","commonUtil","dashboardToken",function(e,t,a){return e.isAuthenticated&&a?t.updateAllInfoSession(a.statusObject):void 0}],canLinkRMS:t},rms:!0,params:{transactionName:"",returnState:""},data:{title:"Link to Roads and Maritime Services - provide license or photocard details"}}),e.state("linkRMSVehicleRegistrationDetails",{url:"/linkRMSVehicleRegistrationDetails",views:{main:{templateUrl:"core/linkRMS/linkRMSVehicleRegistrationDetails/linkRMSVehicleRegistrationDetails.html",controller:"linkRMSVehicleRegistrationDetailsController"}},parentName:"linkGovService",resolve:{user:a,ipAddress:["ipAddressService",function(e){return e.get()}],dashboardToken:["ipAddress","commonUtil",function(e,t){return t.createMaDashboardTransaction(e)}],checkUserEligibility:["user","commonUtil","dashboardToken",function(e,t,a){return e.isAuthenticated&&a?t.checkUserEligibility(a.statusObject):void 0}],updateAllInfoSession:["user","commonUtil","dashboardToken",function(e,t,a){return e.isAuthenticated&&a?t.updateAllInfoSession(a.statusObject):void 0}],canLinkRMS:t},rms:!0,params:{transactionName:"",returnState:""},data:{title:"Link to Roads and Maritime Services - provide vehicle registration details"}}),e.state("linkRMSAlmostFinished",{url:"/linkRMSAlmostFinished",views:{main:{templateUrl:"core/linkRMS/linkRMSAlmostFinished/linkRMSAlmostFinished.html",controller:"linkRMSAlmostFinishedController"}},parentName:"linkGovService",rms:!0}),e.state("linkGovService.unlink",{onEnter:["$stateParams","$state","snswModal",function(e,t,a){a.open({heading:"Are you sure you want to unlink from "+e.header+"?",body:"If you unlink from NSW Police, you won’t be able to submit new reports or track and manage existing reports. If you’d like to relink to NSW Police in the future, you’ll need to follow the steps to verify your identity using details from an Australian identity document.",primaryButton:"Yes",secondaryButton:"No"}).then(function(){t.go(e.successState)})["catch"](function(){t.go("linkGovService")})}],params:{successState:"",header:""}}),e.state("linkRMSPreviousTransactionDetails",{url:"/linkRMSPreviousTransactionDetails",views:{main:{templateUrl:"core/linkRMS/linkRMSPreviousTransactionDetails/linkRMSPreviousTransactionDetails.html",controller:"linkRMSPreviousTransactionDetailsController"}},rms:!0,data:{title:"Link to Roads and Maritime Services - use previous transaction details"}})}e.$inject=["$stateProvider"],angular.module("ma").config(e)}(),function(){"use strict";function e(e,t){t.$on("$stateChangeSuccess",function(t,a){a.data&&a.data.title?e.title=a.data.title:e.title="My Service NSW"})}e.$inject=["$scope","$rootScope"],angular.module("ma").controller("masterController",e)}(),function(){"use strict";function e(e){function t(e){return e.getCustomerProfile()}function a(e){return e.getFields()}t.$inject=["myAccountAPI"],a.$inject=["nameFields"],e.state("editAlternateEmailAddress",{url:"/profile/editAlternateEmailAddress",views:{main:{templateUrl:"core/profile/editAlternateEmailAddress/editAlternateEmailAddress.html",controller:"editAlternateEmailAddressController"}},params:{email:""},parentName:"profile",data:{title:"Edit alternate email address verify"}}),e.state("editAlternateEmailAddressDeleted",{url:"/profile/editAlternateEmailAddressDeleted",views:{main:{templateUrl:"core/profile/editAlternateEmailAddressDeleted/editAlternateEmailAddressDeleted.html",controller:"editAlternateEmailAddressDeletedController"}},parentName:"profile",data:{title:"Edit alternate email address - deleted"}}),e.state("editMobileNumber",{url:"/profile/editMobileNumber",views:{main:{templateUrl:"core/profile/editMobileNumber/editMobileNumber.html",controller:"editMobileNumberController"}},params:{countryCode:"+61",mobileNumber:""},parentName:"profile",data:{title:"Edit mobile number"}}),e.state("editMobileNumberDeleted",{url:"/profile/editMobileNumberDeleted",views:{main:{templateUrl:"core/profile/editMobileNumberDeleted/editMobileNumberDeleted.html",controller:"editMobileNumberDeletedController"}},parentName:"profile",data:{title:"Edit mobile number - deleted"}}),e.state("editPrimaryEmailAddress",{url:"/profile/editPrimaryEmailAddress",views:{main:{templateUrl:"core/profile/editPrimaryEmailAddress/editPrimaryEmailAddress.html",controller:"editPrimaryEmailAddressController"}},parentName:"profile",data:{title:"Edit primary email address"}}),e.state("profile",{url:"/profile",views:{main:{templateUrl:"core/profile/profile/profile.html",controller:"profileController as profile"}},params:{callToAction:""},resolve:{profile:t,nameFields:a},data:{title:"Profile"}})}e.$inject=["$stateProvider"],angular.module("ma").config(e)}(),function(){"use strict";function e(e,t){e.go(t.returnState,t,{location:"replace"})}e.$inject=["$state","$stateParams"],angular.module("ma").controller("redirectController",e)}(),function(){"use strict";function e(e){e.state("retrieveEmail",{url:"/retrieveEmail",views:{main:{templateUrl:"core/retrieveEmail/retrieveEmail/retrieveEmail.html",controller:"retrieveEmailController"}},publicOnly:!0,isPublic:!0,data:{title:"Retrieve email"}}),e.state("retrieveEmailSent",{url:"/retrieveEmail/Sent/:type",views:{main:{templateUrl:"core/retrieveEmail/retrieveEmailViaAny/retrieveEmailViaAny.html",controller:"retrieveEmailViaAnyController"}},isPublic:!0,data:{title:"Retrieve email - sent"}})}e.$inject=["$stateProvider"],angular.module("ma").config(e)}(),function(){"use strict";angular.module("ma").directive("snswSecurityQuestions",["SNIPPETS",function(e){return{restrict:"E",transclude:!1,replace:!1,scope:{selectedQuestions:"=",answers:"="},templateUrl:"core/securityQuestions/snswSecurityQuestions.html",link:function(t,a,r){var o=e.MYACCOUNT.SECURITYSETTINGS.SECURITYQUESTIONS;t.questions=[o.SECURITYQUESTIONS1,o.SECURITYQUESTIONS2,o.SECURITYQUESTIONS3,o.SECURITYQUESTIONS4,o.SECURITYQUESTIONS5,o.SECURITYQUESTIONS6,o.SECURITYQUESTIONS7,o.SECURITYQUESTIONS8],t.questionLabels={first:o.SECQUESTIONHEADER1,second:o.SECQUESTIONHEADER2,third:o.SECQUESTIONHEADER3},t.answerLabels={first:o.ANSWER,second:o.ANSWER,third:o.ANSWER},t.notSeleted=function(e,t){return e!==t}}}}])}(),function(){"use strict";function e(e){e.state("securitySettings",{url:"/securitySettings?securityQuestionsSaved",views:{main:{templateUrl:"core/securitySettings/securitySettings/securitySettings.html",controller:"securitySettingsController"}},data:{title:"Settings"}}),e.state("changePassword",{url:"/securitySettings/changePassword",views:{main:{templateUrl:"core/securitySettings/changePassword/changePassword.html",controller:"changePasswordController"}},parentName:"securitySettings",data:{title:"Security settings - change password"}}),e.state("changePasswordSuccess",{url:"/securitySettings/changePasswordSuccess",views:{main:{templateUrl:"core/securitySettings/changePassword/changePasswordSuccess.html",controller:"changePasswordController"}},parentName:"securitySettings",data:{title:"Security settings - change password success"}}),e.state("deactivateAccount",{url:"/securitySettings/deactivate",views:{main:{templateUrl:"core/securitySettings/securitySettings/deactivateAccount.html",controller:"securitySettingsController"}},parentName:"securitySettings",data:{title:"Security settings - deactivate account"}}),e.state("deactivateAccountVerify",{url:"/securitySettings/deactivateVerify",views:{main:{templateUrl:"core/securitySettings/securitySettings/deactivateAccountVerify.html",controller:"securitySettingsController"}},parentName:"securitySettings",data:{title:"Security settings - deactivate account verify"}}),e.state("deactivated",{url:"/securitySettings/deactivated",views:{main:{templateUrl:"core/securitySettings/securitySettings/deactivated.html",controller:"securitySettingsController"}},parentName:"securitySettings",isPublic:!0,data:{title:"Security settings - deactivated"}}),e.state("securityQuestions",{url:"/securitySettings/securityQuestions?redirect&mode",views:{main:{templateUrl:"core/securitySettings/securityQuestions/securityQuestions.html",controller:"securityQuestionsController"}},parentName:"securitySettings",data:{title:"Security settings - security questions"}}),e.state("notifications",{url:"/securitySettings/notifications",views:{main:{templateUrl:"core/securitySettings/securitySettings/notifications.html",controller:"securitySettingsController"}},parentName:"securitySettings",data:{title:"Security settings - notifications"}})}e.$inject=["$stateProvider"],angular.module("ma").config(e)}(),function(){"use strict";function e(e,t,a,r,o,i){function s(){i.go("dashboard")}var n=o.getTermsConditionsCopy();e.SNIPPETS=t,e.weMadeChanges=a.trustAsHtml(t.GLOBAL.UPDATETNCS.WEMADECHANGES),e.termsConditionsCopyTrusted=a.trustAsHtml(n),e.accepted=!1,e.accept=function(){o.accept().then(s)},e.decline=function(){o.decline()},n||s()}e.$inject=["$scope","SNIPPETS","$sce","$rootScope","updatedTermsConditions","$state"],angular.module("ma").controller("updatedTermsConditionsController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n){function l(){return g}function c(){return t.open({templateUrl:"core/updatedTermsConditions/updatedTermsConditionsModal/updatedTermsConditionsModal.html",controller:"updatedTermsConditionsModalController",scope:angular.merge(o.$new(!0),{termsConditionsCopy:g})}).result}function u(){return m=!1,e.logAcceptedTC4MyAccount()}function d(){var e=r.location.origin?r.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");r.location=e+a}function p(){var t;return angular.isUndefined(m)?(m=!1,e.isMyAccountTCUpdated().then(function(e){g=e,m=!0})):m?(t=n.defer(),t.resolve(),t.promise):{then:function(){}}}var m,g;return{check:p,showModal:c,decline:d,accept:u,getTermsConditionsCopy:l}}e.$inject=["TermsConditions","$modal","logoutUrl","$window","$rootScope","$timeout","$state","$q"],angular.module("ma").factory("updatedTermsConditions",e)}(),function(){"use strict";function e(e,t,a,r){var o=e.defer(),i=t.isGuest;return a.isAuthenticated&&!i?a.isLinkedToRms?a.hasEmail?o.resolve(r.startTransaction(a)):o.reject({state:"changeDetailsRMSAddEmail",returnState:"changeDetails.addressStartTransaction",message:"User does not have Roads and Maritime Services email"}):o.reject({state:"transactionLinkRMS",returnState:"changeDetails.cardStartTransaction",message:"User is not linked to Roads and Maritime Services"}):i?o.resolve():o.reject({state:"changeDetails.cardStartTransaction"}),o.promise}function t(e,t,a,r){var o=e.defer(),i=t.isGuest;return a.isAuthenticated&&!i?o.reject({state:"changeDetails.options",message:"Invalid State"}):i?o.resolve(r.startTransaction(a)):o.reject({state:"changeDetails.tla",returnState:"changeDetails.addressStartTransaction",returnGuestState:"changeDetails.cardStartTransaction",message:"User is not logged In"}),o.promise}function a(e,t){var a=t.RMS.CHANGEDETAILS;return[{value:"driverLicence",label:e.trustAsHtml(a.DRIVERLICENCEOPTIONLABEL),copy:e.trustAsHtml(a.DRIVERLICENCEOPTIONCOPY)},{value:"vehicleAddress",label:e.trustAsHtml(a.VEHICLEADDRESSOPTIONLABEL),copy:e.trustAsHtml(a.VEHICLEADDRESSOPTIONCOPY),url:a.VEHICLEADDRESSOPTIONHREF},{value:"boatLicense",label:e.trustAsHtml(a.BOATLICENSEOPTIONLABEL),copy:e.trustAsHtml(a.BOATLICENSEOPTIONCOPY),url:a.BOATLICENSEOPTIONHREF},{value:"eToll",label:e.trustAsHtml(a.ETOLLOPTIONLABEL),copy:e.trustAsHtml(a.ETOLLOPTIONCOPY),url:a.ETOLLOPTIONHREF},{value:"otherAgency",label:e.trustAsHtml(a.OTHERAGENCYOPTIONLABEL),copy:e.trustAsHtml(a.OTHERAGENCYOPTIONCOPY),url:a.OTHERAGENCYOPTIONHREF}]}function r(e,t,a){return e.all({isAuthenticated:a.isAuthenticated(),isLinkedToRms:t.isCustomerLinkedToMA(),hasEmail:t.hasEmail()})}function o(e,t){function a(e){var a=i[e];return a?a[t.isAuthenticated&&t.isLinkedToRms?0:1]:a}var r=5,o=1,i={"changeDetails.options":[1,1],"changeDetails.tla":[0,0],transactionLinkRMS:[0,0],"changeDetails.cardStartTransaction":[0,2],"changeDetails.card":[0,2],"changeDetails.addressStartTransaction":[2,3],"changeDetails.address":[2,3],"changeDetails.additional":[3,0],"changeDetails.confirm":[4,4],"changeDetails.receipt":[5,5]};return{current:a,max:r,now:o}}function i(e,t){return e.checkRMSConnectivity().then()["catch"](function(){t.go("rmsUnavailable")})}function s(s){s.state("changeDetailsRMSAddEmail",{url:"/changeDetailsRMSAddEmail?back",views:{main:{templateUrl:"rms/changeDetails/views/changeDetailsRMSAddEmail.html",controller:"changeDetailsRMSAddEmailController as addEmail"}},resolve:{checkRMSConnectivity:i},data:{title:"Change Details - Add Email"}}),s.state("transactionLinkRMS",{url:"/transactionLinkRMS",views:{main:{template:"<rms-pre-link></rms-pre-link>"}},params:{returnState:"changeDetails.address",allowGuest:!0},resolve:{checkRMSConnectivity:i}}),s.state("changeDetails",{url:"/rms/changeDetails","abstract":!0,isPublic:!0,views:{main:{templateUrl:"rms/changeDetails/views/changeDetails.html",controller:"changeDetailsController as changeDetails"}},params:{linkRMSSuccess:!1,error:{}},resolve:{checkRMSConnectivity:i,selectOptions:a,user:r,ipAddress:["ipAddressService",function(e){return e.get()}],dashboardToken:["ipAddress","commonUtil",function(e,t){return t.createMaDashboardTransaction(e)}],checkUserEligibility:["user","commonUtil","dashboardToken",function(e,t,a){return e.isAuthenticated&&a?t.checkUserEligibility(a.statusObject):void 0}],updateAllInfoSession:["user","commonUtil","dashboardToken",function(e,t,a){return e.isAuthenticated&&a?t.updateAllInfoSession(a.statusObject):void 0}],progress:o},data:{title:"Change address and contact details with Roads and Maritime Services"}}).state("changeDetails.options",{url:"",isPublic:!0,templateUrl:"rms/changeDetails/views/selectOptions.html",controller:"selectOptionsController as selectOptions",resolve:{checkRMSConnectivity:i},data:{title:"Change address and contact details - choose the details you want to change"}}).state("changeDetails.tla",{url:"",isPublic:!0,templateUrl:"rms/views/transAuth.html",controller:"transAuthController as transAuth",params:{returnState:"changeDetails.options",returnGuestState:"changeDetails.options",isGuest:!0},resolve:{checkRMSConnectivity:i},data:{title:"Change address and contact details - log in or register"}}).state("changeDetails.cardStartTransaction",{controller:"cardDetailsStartTransactionController as cardDetailsStartTransaction",isPublic:!0,resolve:{transaction:t},params:{isGuest:""}}).state("changeDetails.card",{url:"/cardDetails",isPublic:!0,templateUrl:"rms/changeDetails/views/cardDetails.html",controller:"cardDetailsController as cardDetails",resolve:{checkRMSConnectivity:i},params:{isGuest:!1},data:{title:"Change address and contact details - card details"}}).state("changeDetails.addressStartTransaction",{controller:"addressDetailsStartTransactionController as addressDetailsStartTransaction",isPublic:!0,resolve:{transaction:e},params:{isGuest:""}}).state("changeDetails.address",{url:"/address",isPublic:!0,templateUrl:"rms/changeDetails/views/addressDetails.html",controller:"addressDetailsController as addressDetails",params:{isGuest:""},resolve:{checkRMSConnectivity:i},data:{title:"Change address and contact details - address"}}).state("changeDetails.additional",{url:"/additional",isPublic:!0,templateUrl:"rms/changeDetails/views/additionalDetails.html",controller:"additionalDetailsController as additionalDetails",resolve:{checkRMSConnectivity:i},params:{isGuest:!1},data:{title:"Change address and contact details - additional"}}).state("changeDetails.confirm",{url:"/confirm",isPublic:!0,templateUrl:"rms/changeDetails/views/confirmDetails.html",controller:"confirmDetailsController as confirmDetails",resolve:{checkRMSConnectivity:i},params:{isGuest:""},data:{title:"Change address and contact details - confirm"}}).state("changeDetails.receipt",{url:"/receipt",isPublic:!0,templateUrl:"rms/changeDetails/views/receiptDetails.html",controller:"receiptDetailsController as receiptDetails",resolve:{checkRMSConnectivity:i,updateAllInfoSession:["user","commonUtil","dashboardToken",function(e,t,a){return e.isAuthenticated&&a?t.updateAllInfoSession(a.statusObject):void 0}]},params:{isGuest:""},data:{title:"Change address and contact details - receipt"}})}function n(e,t,a,r){function o(a,o,i,s,n,l){e.isLoading=!1,402===l.httpStatusCode&&(t.go("changeDetails.options"),r.location.reload())}e.$on("$stateChangeError",o)}i.$inject=["rmsTransactionService","$state"],a.$inject=["$sce","SNIPPETS"],r.$inject=["$q","rmsTransactionService","userService"],o.$inject=["$state","user"],t.$inject=["$q","$stateParams","user","changeDetailsService"],e.$inject=["$q","$stateParams","user","changeDetailsService"],n.$inject=["$rootScope","$state","redirectService","$window"],s.$inject=["$stateProvider"],angular.module("rms").run(n).config(s)}(),function(){"use strict";function e(e,t,a,r,o){var i=r.getStorage("USER");return e.all({isAuthenticated:a.isAuthenticated(),isLinkedToRms:t.isCustomerLinkedToMA(),hasEmail:t.hasEmail(),continueWithoutLinking:i.getItem("CONTINUE_WITHOUT_LINKING_TO_RMS")}).then(function(e){return angular.extend(o,e)})}function t(e,t,a){var r=e.defer();return t.isAuthenticated&&t.isLinkedToRms&&t.hasEmail&&r.resolve(),t.isAuthenticated||r.reject({state:"transAuth",returnState:"rms.demeritPoints.terms",message:"User is not logged In"}),t.isLinkedToRms||r.reject({state:"linkRMS",returnState:"rms.demeritPoints.terms",message:"User is not linked to Roads and Maritime Services"}),t.hasEmail||(a.$emit("demeritPointsEnter","demeritPointsEnter"),r.reject({state:"checkDemeritRMSAddEmail",returnState:"rms.demeritPoints.terms",message:"User does not have Roads and Maritime Services email"})),r.promise}function a(e,t){var a=e.defer();return t.isAuthenticated||a.reject({state:"transAuth",returnState:"rms.changeMobileEmail",message:"User is not logged In"}),t.isLinkedToRms||a.reject({state:"linkRMS",returnState:"rms.changeMobileEmail.details",message:"User is not linked to Roads and Maritime Services"}),t.isAuthenticated&&t.isLinkedToRms&&t.hasEmail&&a.resolve(),a.promise}function r(e){return e.startTransaction().then(e.getDemeritPoints)}function o(e,t){return t.isLinkedToRms?e.startTransaction().then(e.retrieveRMSEmailMobile):void 0}function i(e){return e.getTC4CheckDemeritPoints()}function s(e){return e.resetModel()}function n(n){n.state("rms",{isPublic:!0,"abstract":!0,url:"/rms",views:{main:{template:'<div ui-view="rms"></div>'}},resolve:{user:e,model:s}}),n.state("transAuth",{isPublic:!0,url:"/transAuth",views:{main:{templateUrl:"rms/views/transAuth.html",controller:"transAuthController as transAuth"}},params:{returnState:""}}),n.state("linkRMS",{url:"/linkAccount",views:{main:{templateUrl:"rms/views/checkDemerit/checkDemeritRMSLink.html",controller:"rmsLinkingController as rmsLinking"}},params:{returnState:""}}),n.state("checkDemeritRMSAddEmail",{url:"/checkDemeritRMSAddEmail?back",views:{main:{templateUrl:"rms/views/checkDemerit/checkDemeritRMSAddEmail.html",controller:"checkDemeritRMSAddEmailController as addEmail"}},data:{title:"Demerit Points - Add Email"}}),n.state("rms.changeMobileEmail",{url:"/changeMobileEmail","abstract":!0,isPublic:!1,views:{rms:{templateUrl:"rms/views/changeMobileEmail/changeMobileEmailParent.html",controller:"changeMobileEmailParentController as changeMobileEmailParent"}},resolve:{user:e,ipAddress:["ipAddressService",function(e){return e.get()}],dashboardToken:["ipAddress","commonUtil",function(e,t){return t.createMaDashboardTransaction(e)}],checkUserEligibility:["user","commonUtil","dashboardToken",function(e,t,a){return e.isAuthenticated&&a?t.checkUserEligibility(a.statusObject):void 0}],updateAllInfoSession:["user","commonUtil","dashboardToken",function(e,t,a){return e.isAuthenticated&&a?t.updateAllInfoSession(a.statusObject):void 0}],canChangeMobileEmail:a,transaction:o},data:{title:"Roads And Maritime - Change Contact Details"}}).state("rms.changeMobileEmail.details",{url:"",templateUrl:"rms/views/changeMobileEmail/changeMobileEmail.html",controller:"changeMobileEmailController as changeMobileEmail",params:{model:"",linkRMSSuccess:""},data:{title:"Roads And Maritime - Change Contact Details"}}).state("rms.changeMobileEmail.confirm",{url:"",templateUrl:"rms/views/changeMobileEmail/changeMobileEmailConfirmDetails.html",controller:"changeMobileEmailConfirmDetailsController as changeMobileEmailConfirmDetails",params:{model:""},data:{title:"Roads And Maritime - Change Contact Details"}}).state("rms.changeMobileEmail.receipt",{url:"",templateUrl:"rms/views/changeMobileEmail/changeMobileEmailReceiptDetails.html",controller:"changeMobileEmailReceiptDetailsController as changeMobileEmailReceiptDetails",resolve:{updateAllInfoSession:["user","commonUtil","dashboardToken",function(e,t,a){return e.isAuthenticated&&a?t.updateAllInfoSession(a.statusObject):void 0}]},params:{model:"",result:""},data:{title:"Roads And Maritime - Change Contact Details"}}),n.state("rms.demeritPoints",{url:"/demeritPoints","abstract":!0,isPublic:!0,views:{rms:{templateUrl:"rms/views/checkDemerit/demeritParent.html",controller:"demeritPointController as demeritPoint"}},params:{linkRMSSuccess:!1},resolve:{user:e,ipAddress:["ipAddressService",function(e){return e.get()}],dashboardToken:["ipAddress","commonUtil",function(e,t){return t.createMaDashboardTransaction(e)}],checkUserEligibility:["user","commonUtil","dashboardToken",function(e,t,a){return e.isAuthenticated&&a?t.checkUserEligibility(a.statusObject):void 0}],updateAllInfoSession:["user","commonUtil","dashboardToken",function(e,t,a){return e.isAuthenticated&&a?t.updateAllInfoSession(a.statusObject):void 0}],canCheckDemerit:t}}),n.state("rms.demeritPoints.terms",{url:"",templateUrl:"rms/views/checkDemerit/demeritTerms.html",controller:"demeritTermsController as termsConditions",resolve:{tc4CheckDemeritPoints:i}}),n.state("rms.demeritPoints.results",{url:"",templateUrl:"rms/views/checkDemerit/demeritPoint.html",controller:"checkDemeritController as demeritResults",resolve:{transaction:r},data:{title:"Check your demerit point"}}),n.state("rms.DPFailedAuthentication",{url:"/demeritPointFA",views:{rms:{templateUrl:"rms/views/checkDemerit/checkDemeritFA.html",controller:"demeritFailedController as demeritFailed"}},params:{error:{}},data:{title:"Demerit Failed Authentication"
}}),n.state("rmsUnavailable",{url:"/rmsUnavailable",views:{main:{templateUrl:"rms/views/manageRMS/unavailable.html",controller:"unavailableController"}},params:{back:""},isPublic:!0,data:{title:"Roads and Maritime Services Unavailable"}}),n.state("manageRMS",{url:"/manageRMS",views:{main:{templateUrl:"rms/views/manageRMS/manageRMS.html",controller:"manageRMSController"}},parentName:"linkGovService",data:{title:"Manage Roads and Maritime Services"}}),n.state("unlinkRMS",{views:{main:{templateUrl:"rms/views/manageRMS/unlinkRMS.html",controller:"unlinkRMSController"}},data:{title:"Manage Roads and Maritime Services"}})}function l(e,t,a,r){function o(a,o,i,s,n,l){e.isLoading=!1;var c=l&&l.response||{};return"NO_RMS_EMAIL"===c.statusMessage?(a.preventDefault(),r.go("linkRMSStart",o.name)):"rms.demeritPoints.terms"===s.name?t.go("rms.DPFailedAuthentication",{error:l}):"changeDetails.options"===s.name||"changeDetails.address"===o.name?t.go("changeDetails.options",{error:l},{reload:!0}):void 0}function i(){e.isLoading=!0}a.addEventListener("pageshow",function(e){e.persisted&&t.reload()}),e.$on("$stateChangeError",o),e.$on("$stateChangeStart",i)}e.$inject=["$q","rmsTransactionService","userService","snswSessionStorage","user"],s.$inject=["rmsTransactionService"],a.$inject=["$q","user"],o.$inject=["changeMobileEmailService","user"],t.$inject=["$q","user","$rootScope"],i.$inject=["TermsConditions"],r.$inject=["demeritPointService"],l.$inject=["$rootScope","$state","$window","redirectService"],n.$inject=["$stateProvider"],angular.module("rms").run(l).config(n)}(),function(){"use strict";function e(e){return e.getContact()}function t(t){t.state("rms.addEmail",{url:"/rmsAddEmail",views:{rms:{template:'<rms-add-email contact-details="addEmail.contactDetails"></rms-add-email>',controller:"addEmailContactController as addEmail"}},parentName:"linkGovService",resolve:{userContactDetails:e},params:{transactionAgency:"Replace",returnState:"rms.addEmail"},data:{title:"Add Email"}}),t.state("rms.ineligible",{url:"/ineligible",views:{rms:{template:"<rms-ineligible></rms-ineligible>"}},params:{returnState:"rms.ineligible",message:"",transactionToken:"",transactionTitle:"",quitText:""},data:{title:"Ineligible"}})}e.$inject=["myAccountAPI"],t.$inject=["$stateProvider"],angular.module("rms").config(t)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c){function u(e){return l.startTransaction(v,e).then(h.updateModel)}function d(){var e=t.current.name.split(".").slice(0,2).join(".");if("rms.drivingRecord.confirmation"===t.current.name&&"rms.checkDemerit"===h.model.stateOrigin)t.go("rms.checkDemerit.details");else{var a=t.current.name===e+".details"?e+".terms":e+".details";t.go(a)}}function p(e,t,a,r,o){function i(e,t){return 3===t.now?"Request a driving record":e||t.now>2?"Request a driving record":"Check your demerit points"}e.preventDefault();var s=0===t.name.indexOf("rms.drivingRecord"),n={"rms.drivingRecord.terms":{pageHeading:"Terms & Conditions: Check demerits and driving record",progress:{now:1,max:y},quitState:r&&"rms.addEmail"===r.name?"rms.addEmail":""},"rms.drivingRecord.details":{name:"Request a driving record",progress:{now:2,max:y}},"rms.drivingRecord.confirmation":{pageHeading:"Check your details",progress:{now:3,max:y}},"rms.drivingRecord.receipt":{pageHeading:"Driving record receipt",pageHeadingStyle:"hide",progress:{now:5,max:y}},"rms.checkDemerit.terms":{pageHeading:"Terms & Conditions: Check demerits and driving record",progress:{now:1,max:2},quitState:r&&"rms.addEmail"===r.name?"rms.addEmail":""},"rms.checkDemerit.details":{name:"Check your demerit points",progress:{now:2,max:2}}};angular.extend(h,{name:n[t.name]?i(s,n[t.name].progress):"",pageHeading:"",progress:{now:0,max:y}},n[t.name])}function m(){a.location=n}function g(){""===h.quitState?s.quitTransaction().then(m):t.go(h.quitState)}function f(e){e()}function b(){C.forEach(f)}var h=this,v=c.transactionName,y=5,S=r.RMS.DEMERITPOINT,C=[e.$on("$stateChangeSuccess",p)];e.$on("$destroy",b),angular.extend(h,{name:"Request a driving record",user:o,back:d,quit:g,model:angular.extend(i),startTransaction:u,alertPanelObj:{severity:"error"},infoPanelObj:{severity:"info"},pspPostURL:"",code:v},S)}e.$inject=["$scope","$state","$window","SNIPPETS","user","model","snswModal","snswSiteUrl","rmsTransactionService","DrivingRecordService"],angular.module("rms").controller("drivingRecordController",e)}(),function(){"use strict";function e(e,t,a,r){function o(){var t={remoteAction:"RMSWrapperCtrl.getOCDRCheckEligibility",params:[JSON.stringify(i)],resultMap:function(e){return e.statusObject}};return e.call(t)}this.transactionName="RMS_CHECK_DEMERIT_POINTS";var i={transactionToken:""};this.getDrivingRecordDetails=function(){return a.startTransaction(this.transactionName,{}).then(function(e){i.transactionToken=e.transactionToken}).then(o).then(a.updateModel)["catch"](function(e){return t.reject({state:"rms.ineligible",returnState:"rms.DrivingRecord",transactionTitle:"An Error has occured",transactionToken:i.transactionToken,message:e.response.statusMessage,quitText:"Quit",params:{returnState:"rms.ineligible",message:"Lorem ipsum dolor",transactionToken:""}})})},this.startDrivingRecordTransaction=function(e,r,o){return a.startTransaction(e,r,o)["catch"](function(e){return t.reject({state:"rms.ineligible",returnState:"rms.DrivingRecord",transactionTitle:"An Error has occured",transactionToken:i.transactionToken,message:e.response.statusMessage,params:{returnState:"rms.ineligible",message:"Lorem ipsum dolor",transactionToken:""}})})},this.getUserAndRegistrationInfo=function(){return r.get(i.transactionToken).then(a.updateModel)}}e.$inject=["vf","$q","rmsTransactionService","userAndRegistrationInfoService"],angular.module("rms").service("DrivingRecordService",e)}(),function(){"use strict";function e(e,t){function a(e,t){return t.getDrivingRecordDetails()}function r(e,t,a,r){var o=0===a.path().indexOf("/rms/checkDemerit")?"rms.checkDemerit":"rms.drivingRecord";return r.isAuthenticated&&r.isLinkedToRms&&r.hasEmail?e.resolve():r.isAuthenticated?r.isLinkedToRms?r.hasEmail?e.resolve():e.reject({state:"rms.addEmail",transactionAgency:"Request Driving Record",message:"User does not have Roads and Maritime Services email"}):e.reject({state:o+".linkRMS",message:"User is not linked to Roads and Maritime Services"}):e.reject({state:o+".login",message:"User is not logged In"})}function o(e,t){return t.termsAndConditions?e.resolve():e.reject({state:"rms.drivingRecord.terms",message:"Terms and conditions not accepted"})}function i(e,t,a){"ngInject";return a.recordProduct?e.resolve():e.reject({state:"rms.drivingRecord.details",message:"Product not selected"})}function s(e,t,a){"ngInject";return t.token?a.getContext(t.token)["catch"](function(t){return e.reject({state:"rms.drivingRecord.login",message:"Transaction expired"})}).then(function(e){return a.updateModel(e)}):void 0}function n(e,t,a,r){"ngInject";return a.token?t.getReceiptDetails(a.token).then(function(e){return r.updateModel(e.statusObject)})["catch"](function(){return e.reject({state:"rms.drivingRecord.login",message:"Transaction expired"})}):e.reject({state:"rms.drivingRecord.login",message:"Invalid token"})}function l(e,t,a){"ngInject";return e.link&&e.token?a.getPdfFile(e.link,e.token)["catch"](function(){return t.reject()}):t.reject({state:"dashboard",message:"Missing parameters"})}function c(e,t){return e.checkRMSConnectivity()["catch"](function(){t.go("rmsUnavailable")})}function u(i,s){return t.when("/rms"+s,"/rms"+s+"/terms"),e.state(i,{url:s,"abstract":!0,views:{rms:{controller:"drivingRecordController as transaction",templateUrl:"rms/views/transaction.html"}}}).state(i+".terms",{url:"/terms",views:{transaction:{template:'<driving-record-terms transaction="transaction"></driving-record-terms>'}},resolve:{drivingRecord:a,canAccess:r}}).state(i+".details",{url:"/details",views:{transaction:{template:'<driving-record-details transaction="transaction"></driving-record-details>'}},resolve:{canAccess:r,acceptedTandCs:o}}).state(i+".login",{url:"/login",views:{transaction:{template:'<rms-trans-auth transaction="transaction"></rms-trans-auth>'}},params:{returnState:i+".details"}}).state(i+".linkRMS",{url:"/linkRMS",views:{transaction:{template:"<rms-pre-link></rms-pre-link>"}},params:{returnState:i+".details",allowGuest:!1},resolve:{checkRMSConnectivity:c}})}i.$inject=["$q","existingModel","model"],s.$inject=["$q","$stateParams","rmsTransactionService"],n.$inject=["$q","receiptService","$stateParams","rmsTransactionService"],l.$inject=["$stateParams","$q","rmsPdfService"],a.$inject=["canAccess","DrivingRecordService"],r.$inject=["$q","$state","$location","user"],o.$inject=["$q","model"],c.$inject=["rmsTransactionService","$state"],u("rms.checkDemerit","/checkDemerit"),u("rms.drivingRecord","/onlineCertifiedDrivingRecord").state("rms.drivingRecord.confirmation",{url:"/confirmation",views:{transaction:{template:'<driving-record-confirmation transaction="transaction"></driving-record-confirmation>'}},resolve:{existingModel:s,selectedProduct:i},params:{token:""}}).state("rms.drivingRecord.receipt",{url:"/receipt?token",views:{transaction:{template:'<driving-record-receipt transaction="transaction" receipt-data="receiptParent.receiptData"></driving-record-receipt>',controller:["receiptData",function(e){"ngInject";this.receiptData=e}],controllerAs:"receiptParent"}},resolve:{receiptData:n}}).state("rms.drivingRecord.pdf",{url:"/pdf?token&link",views:{transaction:{controller:["rmsPdfService","pdfData",function(e,t){"ngInject";e.openPdf(t)}]}},resolve:{pdfData:l}})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("rms").config(e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l){function c(){""===b.quitState?i.quitTransaction({body:v}).then(s.goToLandingPage):r.go(b.quitState)}function u(t,a,r,o){t.preventDefault();var i={"rms.electGoodBehaviour.tla":{pageHeading:"NSW Driver Licence or Photo Card details",progress:{now:e.isAuthenticated?0:1,max:y}},"rms.electGoodBehaviour.details":{pageHeading:"Your details",progress:{now:e.isAuthenticated?1:2,max:y},quitState:o&&"rms.addEmail"===o.name?"rms.addEmail":""},"rms.electGoodBehaviour.declarations":{pageHeading:"Declaration details",progress:{now:e.isAuthenticated?2:3,max:y}},"rms.electGoodBehaviour.confirmation":{pageHeading:"Review and submit your declaration",progress:{now:e.isAuthenticated?3:4,max:y}},"rms.electGoodBehaviour.receipt":{progress:{now:e.isAuthenticated?4:5,max:y}}};angular.extend(b,{pageHeading:"",progress:{now:0,max:2}},i[a.name])}function d(){b.user.isTLA=!0,r.go("rms.electGoodBehaviour.details")}function p(e){return l.startTransaction(h,e).then(m)}function m(e){return angular.extend(b.model,e)}function g(e){e()}function f(){S.forEach(g)}var b=this,h=n.transactionName,v="If you quit, any unsaved changes will be lost.",y=e.isAuthenticated?4:5,S=[a.$on("$stateChangeSuccess",u)];a.$on("$destroy",f),angular.extend(b,{name:"Apply for a good behaviour period",user:e,allowGuest:!0,quit:c,tlaSuccess:d,model:angular.extend(t),alert:l.alert,updateModel:m,startTransaction:p})}e.$inject=["user","model","$scope","$state","$location","snswModal","redirectService","electGoodBehaviourService","rmsTransactionService"],angular.module("rms").controller("electGoodBehaviourController",e)}(),function(){"use strict";function e(e,t,a){function r(e){var t={transactionToken:e.transactionToken},r={remoteAction:"RMSWrapperCtrl.postEGBCustomerLicenceData",params:[JSON.stringify(t)],resultMap:function(e){return e.statusObject}};return a.vf(r)}this.transactionName="ELECTGOODBEHAVIOUR",this.isUserEligible=function(){return a.startTransaction(this.transactionName,{}).then(r).then(a.updateModel)["catch"](function(e){return t.reject({state:"rms.electGoodBehaviour.ineligible",transactionTitle:"Elect Good Behaviour",message:e.message})})},this.getElectGoodBehaviourEligibility=function(e){var t={transactionToken:e.transactionToken,suspensionLetterID:e.suspensionLetterID},r={remoteAction:"RMSWrapperCtrl.getEgbEligibility",params:[JSON.stringify(t)],resultMap:function(e){return e.statusObject}};return a.vf(r)},this.getElectGoodBehaviourDeclarations=function(e){var t={transactionToken:e.transactionToken,businessTransaction:"MaintainLicence"},r={remoteAction:"RMSWrapperCtrl.getDeclarationForm",params:[JSON.stringify(t)],resultMap:function(e){return e.statusObject}};return a.vf(r)},this.processRequestElectGoodBehaviour=function(e){var t={18:{orderNumber:1,title:"DriverLicenceNumberFlag"},21:{orderNumber:1,title:"DriverLicenceNumberFlag"},19:{orderNumber:2,title:"EGBPeriodStartFlag"},22:{orderNumber:2,title:"EGBPeriodStartOrDateTestFlag"},20:{orderNumber:4,title:"MultipleDemeritPointsOffencesFlag"},24:{orderNumber:4,title:"MultipleDemeritPointsOffencesFlag"},23:{orderNumber:3,title:"DriverTestBeforeSuspensionDueFlag"}},r={transactionToken:e.transactionToken,suspensionLetterID:e.letterId,channel:"SelfService",deviceUsed:"Desktop",IDType:"RoadsRegistrationAndLicencing",declarations:e.questions.map(function(a){return{question:a,response:{title:t[a.id].title,answers:[e.declarationAnswers[a.displayOrder]?"Yes":"No"]}}})},o={remoteAction:"RMSWrapperCtrl.processRequestElectGoodBehaviour",params:[JSON.stringify(r)],resultMap:function(e){return e.statusObject}};return a.vf(o)}}e.$inject=["vf","$q","rmsTransactionService"],angular.module("rms").service("electGoodBehaviourService",e)}(),function(){"use strict";function e(e,t){function a(e,t,a,r,o){return r.isAuthenticated&&!o.transactionToken?a.isUserEligible():!o.transactionToken&&r.isTLA?e.reject({state:"rms.electGoodBehaviour.login",message:"Transaction expired"}):e.resolve({})}function r(e,t,a,r,o,i){return t.isAuthenticated||t.isTLA?t.isLinkedToRms||t.isTLA?t.hasEmail||t.isTLA?e.resolve():e.reject({state:"rms.addEmail",transactionAgency:s,returnState:"rms.electGoodBehaviour.details",message:"User does not have Roads and Maritime Services email"}):angular.isDefined(t.continueWithoutLinking)&&t.continueWithoutLinking?a.startTransaction(i.transactionName,r).then(function(e){return angular.extend(r,e)}).then(o.guestLogin).then(function(t){return console.log("rmsTransactionCtrl.logAction succeeded. resp=",t),e.reject({state:"rms.electGoodBehaviour.tla"})}):e.reject({state:"rms.electGoodBehaviour.linkRMS",message:"User is not linked to Rms"}):e.reject({state:"rms.electGoodBehaviour.login",message:"User is not logged In"})}function o(e,t,a){var r=a.getModel();return t.processRequestElectGoodBehaviour(r)["catch"](function(){return e.reject({state:"rms.electGoodBehaviour.login",message:"Transaction expired"})})}function i(e,t){return e.checkRMSConnectivity()["catch"](function(){t.go("rmsUnavailable")})}r.$inject=["$q","user","rmsTransactionService","model","TransAuthService","electGoodBehaviourService"],a.$inject=["$q","$stateParams","electGoodBehaviourService","user","model"],o.$inject=["$q","electGoodBehaviourService","rmsTransactionService"],i.$inject=["rmsTransactionService","$state"];var s="Elect Good Behaviour";t.when("/rms/electGoodBehaviour","/rms/electGoodBehaviour/details"),e.state("rms.electGoodBehaviour",{title:"Service NSW","abstract":!0,url:"/electGoodBehaviour",views:{rms:{templateUrl:"rms/views/transaction.html",controller:"electGoodBehaviourController as transaction"}},params:{token:""}}).state("rms.electGoodBehaviour.details",{url:"/details",views:{transaction:{template:'<elect-good-behaviour-details transaction="transaction"></elect-good-behaviour-details>'}},resolve:{canAccess:r,eligibilityDefinition:a}}).state("rms.electGoodBehaviour.declarations",{url:"/declarations",views:{transaction:{template:'<elect-good-behaviour-declarations transaction="transaction"></elect-good-behaviour-declarations>'}},resolve:{canAccess:r}}).state("rms.electGoodBehaviour.confirmation",{url:"/confirmation",views:{transaction:{template:'<elect-good-behaviour-confirmation transaction="transaction"></elect-good-behaviour-confirmation>'}},resolve:{canAccess:r}}).state("rms.electGoodBehaviour.receipt",{url:"/receipt",views:{transaction:{template:'<elect-good-behaviour-receipt transaction="transaction" receipt-data="receiptData"></elect-good-behaviour-receipt>',controller:["$scope","receiptData",function(e,t){e.receiptData=t}]}},resolve:{canAccess:r,receiptData:o}}).state("rms.electGoodBehaviour.login",{url:"/login",views:{transaction:{template:'<rms-trans-auth transaction="transaction"></rms-trans-auth>'}},params:{returnState:"rms.electGoodBehaviour.details"}}).state("rms.electGoodBehaviour.tla",{url:"/tla",views:{transaction:{template:'<rms-card-details transaction="transaction"></rms-card-details>'}}}).state("rms.electGoodBehaviour.ineligible",{url:"/ineligible",views:{transaction:{template:"<rms-ineligible></rms-ineligible>"}},params:{transactionTitle:s,message:"You are Ineligible to Elect Good Behaviour",quitText:"Quit"}}).state("rms.electGoodBehaviour.linkRMS",{url:"/linkRMS",views:{transaction:{template:"<rms-pre-link></rms-pre-link>"}},params:{returnState:"rms.electGoodBehaviour.tla",allowGuest:!0},resolve:{checkRMSConnectivity:i}})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("rms").config(e)}(),function(){"use strict";angular.module("rms.filters").filter("bootstrapContext",function(){return function(e){return{INFO:"info",ERROR:"danger",SUCCESS:"success",WARNING:"warning"}[e]}})}(),function(){"use strict";function e(e,t,a,r){function o(e,t){e.preventDefault();var a={"rms.freeRegoCheck.details":{pageHeading:"",pageHeadingStyle:"",progress:{now:1,max:3}},"rms.freeRegoCheck.multiple":{pageHeading:"Select vehicle",pageHeadingStyle:"",progress:{now:2,max:3}},"rms.freeRegoCheck.display":{pageHeading:"Vehicle details",pageHeadingStyle:"hidden-print",progress:{now:3,max:3}}};angular.extend(i,{pageHeading:"",progress:{now:0,max:2}},a[t.name])}var i=this;a.$on("$stateChangeSuccess",o),angular.extend(i,{name:"Registration check",code:r.productCode,hasCaptcha:!0,user:e,model:t,showPreviousSearches:!0,goToNextState:r.goToNextState,goToPrevState:r.goToPrevState})}e.$inject=["user","model","$scope","freeRegoCheckService"],angular.module("rms.free-rego-check").controller("freeRegoCheckController",e)}(),function(){"use strict";function e(e,a,r){var o=this;o.productCode="FREEREGCHK",o.sessionStorage=r.getStorage(o.productCode),o.tAndCsAgreed="tAndCsAgreed",this.goToNextState=function(e,t){return"rms.freeRegoCheck.details"===a.current.name?e&&e.vehicles?a.go("rms.freeRegoCheck.multiple",t):a.go("rms.freeRegoCheck.display",t):"rms.freeRegoCheck.multiple"===a.current.name?a.go("rms.freeRegoCheck.display",t):void 0},this.goToPrevState=function(e){return"rms.freeRegoCheck.display"===a.current.name?e&&e.vehicles?a.go("rms.freeRegoCheck.multiple"):a.go("rms.freeRegoCheck.details"):"rms.freeRegoCheck.multiple"===a.current.name?a.go("rms.freeRegoCheck.details"):void 0},this.getVehicleListByPlateNumber=function(a){var r={transactionToken:a.transactionToken,plateNumber:a.plateNumber},o={remoteAction:"RMSWrapperCtrl.postVehicleListForFreeRegoCheck",params:[JSON.stringify(r)],resultMap:t};return e.vf(o)},this.getVehicleRego=function(a,r){var o={transactionToken:a,plateNumber:r.NSWPlateNumber,plateType:r.plateType,VINLast4Digits:(r.vinNumber||r.chassisNumber).slice(-4)},i={remoteAction:"RMSWrapperCtrl.postVehicleRegoForFreeRegoCheck",params:[JSON.stringify(o)],resultMap:t};return e.vf(i)},this.historyCheckEligibility=function(a){var r={transactionToken:a.transactionToken,plateNumber:a.vehicle.NSWPlateNumber,plateType:a.vehicle.plateType},o={remoteAction:"RMSWrapperCtrl.getVehicleHistoryCheckEligibility",params:[JSON.stringify(r)],resultMap:t};return e.vf(o)},this.setTermsAndConditionsAgreed=function(){return o.sessionStorage.setItem(o.tAndCsAgreed,!0),!0},this.getTermsAndConditionsAgreed=function(){var e=o.sessionStorage.getItem(o.tAndCsAgreed);return null!==e}}function t(e){var t=e.statusObject;return t.isNotEligible=(t.conditionalRegistrations||[]).length>0,t.registrationExpiryDate&&(t.registrationExpired=moment(t.registrationExpiryDate).isBefore()),t.vehicleReportDetail&&(t.vehicle=angular.extend({},t.vehicle,t.vehicleReportDetail.vehicle)),t.vehicle&&(t.vehicle.hasConditionalRegistrations=t.isNotEligible),t}e.$inject=["rmsTransactionService","$state","snswSessionStorage"],angular.module("rms.free-rego-check").service("freeRegoCheckService",e)}(),function(){"use strict";function e(e,t){return t.vehicles?void 0:e.reject({state:"rms.freeRegoCheck.details",message:"No vehicle selected"})}function t(e,t){return t.vehicle?void 0:e.reject({state:"rms.freeRegoCheck.details",message:"No vehicle selected"})}function a(e,t,a){return"rms.freeRegoCheck.linkRMS"===a.current.name||t.continueWithoutLinking?e.resolve():t.isAuthenticated&&!t.isLinkedToRms?e.reject({state:"rms.freeRegoCheck.linkRMS"}):t.isAuthenticated&&!t.hasEmail?e.reject({state:"rms.addEmail",transactionAgency:"Free Registration Check",message:"User does not have Roads and Maritime Services email"}):e.resolve()}function r(e,t){return e.checkRMSConnectivity()["catch"](function(){t.go("rmsUnavailable")})}function o(o,i){i.when("/rms/freeRegoCheck",["$state",function(e){return e.go("rms.freeRegoCheck.details",{},{location:"replace"})}]),o.state("rms.freeRegoCheck",{"abstract":!0,url:"/freeRegoCheck",views:{rms:{templateUrl:"rms/views/transaction.html",controller:"freeRegoCheckController as transaction"}},data:{title:"Registration check"}}).state("rms.freeRegoCheck.details",{url:"/details",views:{transaction:{template:'<free-rego-check-details transaction="transaction"></free-rego-check-details>'}},params:{hidePreviousHistory:""},resolve:{canAccess:a}}).state("rms.freeRegoCheck.multiple",{url:"/multiple",views:{transaction:{template:'<free-rego-check-multiple transaction="transaction"></free-rego-check-multiple>'}},resolve:{display:e}}).state("rms.freeRegoCheck.display",{url:"/display",views:{transaction:{template:'<free-rego-check-display transaction="transaction"></free-rego-check-display>'}},resolve:{display:t}}).state("rms.freeRegoCheck.linkRMS",{url:"/linkRMS",views:{transaction:{template:"<rms-pre-link></rms-pre-link>"}},params:{returnState:"rms.freeRegoCheck.details",allowGuest:!0},resolve:{checkRMSConnectivity:r}})}a.$inject=["$q","user","$state"],e.$inject=["$q","model"],t.$inject=["$q","model"],r.$inject=["rmsTransactionService","$state"],o.$inject=["$stateProvider","$urlRouterProvider"],angular.module("rms.free-rego-check").config(o)}(),function(){"use strict";angular.module("rms").config(["$stateProvider","$urlRouterProvider","SNIPPETS",function(e,t,a){e.state("nod",{url:"/nod",parent:"rmsHome",resolve:{token:["vf","isAuthenticated","isLinkedToRms","ipAddress","commonUtil","siteId",function(e,t,a,r,o,i){return r?e.call({remoteAction:"rmsNODCtrl.createNODTransaction",params:[r,i]}).then(function(e){return e&&e.statusObject?o.failRmsIsNotLinked(e)?null:e.statusObject:(console.log("rmsNODCtrl.createNODTransaction failed!"),null)})["catch"](function(e){return o.failRmsIsNotLinked(e),null}):null}],checkUserEligibilityAndEmailSuccess:["$rootScope","isAuthenticated","isLinkedToRms","token","commonUtil",function(e,t,a,r,o){return a&&t&&r?o.checkUserEligibilityAndEmail(e.stateDirection,r,"Notice of Disposal"):void 0}]},views:{"base@rmsHome":{controller:"NodBaseController",templateUrl:"rms/nod/views/nod.html"}},data:{title:"Notice of Disposal",progressMax:5}}).state("nod.guest",{url:"/login",isPublic:!0,parent:"nod",data:{progressNow:0},views:{form:{controller:"transAuthWithTokenController as transAuth",templateUrl:"rms/views/transAuth.html"}},resolve:{noPageLeaveAlert:["pageLeaveAlert",function(e){e.destroy()}]},params:{returnState:"nod.vehicleDetails",returnGuestState:"nod.card",isGuest:!0}}).state("nod.linkToRMS",{url:"/linkToRMS",parent:"nod",isPublic:!0,data:{progressNow:0},views:{form:{template:"<rms-pre-link></rms-pre-link>"}},params:{allowGuest:!0,returnState:"nod.card"}}).state("nod.card",{isPublic:!0,url:"/cardDetails",parent:"nod",views:{form:{controller:"NodCardDetailsController as vm",templateUrl:"rms/nod/views/nodForm.html"}},data:{progressNow:1,pageHeader:a.RMS.NOD.CARDDETAILS_PAGEHEADER},params:{isGuest:!1}}).state("nod.vehicleDetails",{isPublic:!0,parent:"nod",url:"/vehicleDetails",views:{form:{controller:"NodVehicleDetailsController as vm",templateUrl:"rms/nod/views/nodForm.html"}},data:{progressNow:2,pageHeader:a.RMS.NOD.VEHICLEDETAILS_PAGEHEADER},params:{isGuest:!1}}).state("nod.disposalDetails",{isPublic:!0,parent:"nod",url:"/disposalDetails",views:{form:{controller:"NodDisposalDetailsController as vm",templateUrl:"rms/nod/views/nodForm.html"}},data:{progressNow:3,pageHeader:a.RMS.NOD.DISPOSALDETAILS_PAGEHEADER}}).state("nod.confirmDetails",{parent:"nod",isPublic:!0,url:"/confirmDetails",views:{form:{controller:"NodConfirmDetailsController as vm",templateUrl:"rms/nod/views/nodForm.html"}},data:{progressNow:4,pageHeader:a.RMS.NOD.CONFIRMDETAILS_PAGEHEADER}})}])}(),function(){"use strict";function e(e,t,a){e.state("payment",{name:"payment",url:"/payment/:transactionToken",isPublic:!0,views:{main:{templateUrl:"rms/payment/views/payment.html",controller:"paymentController as vm"}},data:{title:"RMS | Payment",progressMax:5},resolve:{isAuthenticated:["userService",function(e){return e.isAuthenticated()}],transactionToken:["$stateParams",function(e){return e.transactionToken}],receiptData:["receiptService","transactionToken",function(e,t){return e.getReceiptData(t)}],updateAllInfoSession:["isAuthenticated","commonUtil","transactionToken",function(e,t,a){return user.isAuthenticated&&a?t.updateAllInfoSession(a):void 0}]}}).state("payment.receipt",{url:"/receipt",parent:"payment",isPublic:!0,views:{form:{templateUrl:"rms/payment/views/paymentForm.html",controller:"receiptController as vm"}},data:{title:"RMS | Payment Receipt"}}).state("payment.receipt.nod",{url:"/nod",parent:"payment.receipt",isPublic:!0,views:{"form-details":{templateUrl:"rms/payment/views/paymentDetails.html",controller:"receiptNodController as vm"}},data:{title:"Submit a notice of disposal for a vehicle",progressMax:5}}).state("payment.receipt.renewRego",{url:"/renewRegistration",parent:"payment.receipt",isPublic:!0,views:{"form-details":{templateUrl:"rms/payment/views/paymentDetails.html",controller:"receiptRenewRegoController as vm"}},data:{title:a.RMS.RENEWREGISTRATION.RENEWREGISTRATIONPROCESS,pageHeader:"Registration Renewal",progressMax:5}}).state("payment.receipt.transferRego",{url:"/transferRegistration",parent:"payment.receipt",isPublic:!0,views:{"form-details":{templateUrl:"rms/payment/views/paymentDetails.html",controller:"receiptTransferRegoController as vm"}},data:{title:a.RMS.TRANSFERREGO.TRANSFERREGOPROCESS,progressMax:5}}).state("payment.receipt.renewLicence",{url:"/renewLicence",parent:"payment.receipt",isPublic:!0,views:{"form-details":{templateUrl:"rms/payment/views/paymentDetails.html",controller:"receiptRenewLicenceController as vm"}},data:{title:a.RMS.RENEWLICENCE.RENEWLICENCEPROCESS,progressMax:6,pageHeader:a.RMS.RECEIPT.RENEWLICENCEHEADER}}).state("payment.bpay",{url:"/bpay",parent:"payment",isPublic:!0,views:{form:{templateUrl:"rms/payment/views/paymentDetails.html",controller:"bpayController as vm"}},data:{title:"RMS | BPay Notice"}})}e.$inject=["$stateProvider","$urlRouterProvider","SNIPPETS"],angular.module("rms").config(e)}(),function(){"use strict";function e(e,t,a){e.state("renewLicence",{parent:"rmsHome",url:"/renewLicence","abstract":!0,views:{"base@rmsHome":{templateUrl:"rms/renewLicence/views/renewLicence.html",controller:"renewLicenceController"}},data:{title:a.RMS.RENEWLICENCE.RENEWLICENCEPROCESS,progressMax:6},resolve:{startLoader:["snswLoading",function(e){var t={5:a.GLOBAL.LOADER.CHECKINGDETAILS,30:a.GLOBAL.LOADER.PATIENCE};return e.init(t),null}],token:["ipAddress","renewLicenceService",function(e,t){return t.createRenewLicenceTransaction(e)}],checkUserEligibilityAndEmailSuccess:["$rootScope","isAuthenticated","isLinkedToRms","token","commonUtil",function(e,t,a,r,o){return a&&t&&r?o.checkUserEligibilityAndEmail(e.stateDirection,r,"Renew Licence"):void 0}],licenceOptions:["isAuthenticated","token","renewLicenceDetailsService","checkUserEligibilityAndEmailSuccess",function(e,t,a,r){return e&&t&&r?a.getLicence(t.statusObject)["catch"](function(e){return{error:e.response}}):null}],customerInfo:["isAuthenticated","token","renewLicenceDetailsService","checkUserEligibilityAndEmailSuccess","licenceOptions","$log",function(e,t,a,r,o,i){return i.debug("licenceOptions has been resolved: ",o),e&&t&&r?a.getCustomerInfo(t.statusObject)["catch"](function(e){return{error:e.response}}):null}],declaration:["isAuthenticated","ipAddress","token","renewLicenceDeclareService","licenceOptions","token",function(e,t,a,r,o){return o&&a&&o.licenceInfo&&o.licenceInfo.declaration&&"Y"===o.licenceInfo.declaration.existingDeclaration?r.getDeclaration(a.statusObject,o.licenceInfo.declaration.declarationId,o.licenceInfo.declaration.licenceId)["catch"](function(e){return{error:e.response}}):null}],declarationForm:["isAuthenticated","token","renewLicenceDeclareService","checkUserEligibilityAndEmailSuccess","declaration",function(e,t,a,r,o){return e&&t&&r&&!o?a.getDeclarationForm(t.statusObject)["catch"](function(e){return console.log("renewLicenceDeclareService.getDeclarationForm.catchcalled"),{error:e.response}}):null}],stopLoader:["snswLoading","licenceOptions","declarationForm","$log",function(e,t,a,r){return r.debug(t,a),e.reset(),null}]}}).state("renewLicence.tla",{url:"/login",parent:"renewLicence",isPublic:!0,views:{form:{templateUrl:"rms/views/transAuth.html",controller:"transAuthWithTokenController as transAuth"}},data:{progressNow:0},params:{returnState:"renewLicence.details",isGuest:!1}}).state("renewLicence.linkRMS",{url:"/linkRMS",parent:"renewLicence",views:{form:{template:"<rms-pre-link></rms-pre-link>"}},params:{returnState:"renewLicence.details",allowGuest:!1}}).state("renewLicence.details",{parent:"renewLicence",url:"/licenceDetails",isPublic:!0,views:{form:{templateUrl:"rms/renewLicence/views/renewLicenceForm.html",controller:"renewLicenceDetailsController"}},data:{progressNow:1,pageHeader:"Renewal details"}}).state("renewLicence.details.ineligible",{parent:"renewLicence",url:"/licenceDetails/ineligible",isPublic:!0,views:{form:{templateUrl:"rms/renewLicence/views/renewLicenceForm.html",controller:"renewLicenceDetailsController"}},params:{validateFinal:null},data:{progressNow:6,pageHeader:a.RMS.RENEWLICENCE.APPLICATIONINPERSON}}).state("renewLicence.declare",{url:"/licenceDeclare",parent:"renewLicence",views:{form:{templateUrl:"rms/renewLicence/views/renewLicenceForm.html",controller:"renewLicenceDeclareController"}},data:{progressNow:2,pageHeader:"Declaration details"}}).state("renewLicence.confirm",{url:"/licenceConfirm",parent:"renewLicence",views:{form:{templateUrl:"rms/renewLicence/views/renewLicenceForm.html",controller:"renewLicenceConfirmController"}},data:{progressNow:3,pageHeader:"Review and confirm your declaration",pageHeaderAlt:"Declaration submitted"}}).state("renewLicence.status",{url:"/licenceStatus/:transactionToken",parent:"renewLicence",views:{form:{templateUrl:"rms/renewLicence/views/renewLicenceForm.html",controller:"renewLicenceStatusController"}},data:{progressNow:4,pageHeader:"Review and submit your renewal application"},resolve:{transactionToken:["$stateParams",function(e){return e.transactionToken}],modelData:["renewLicenceStatusService","transactionToken",function(e,t){return t?e.getContext(t):void 0}]},params:{isGuest:!0}})}e.$inject=["$stateProvider","$urlRouterProvider","SNIPPETS"],angular.module("rms.renew-licence").config(e)}(),function(){"use strict";function e(e,t,a){e.state("renewRegistration",{parent:"rmsHome",url:"/renewRegistration","abstract":!0,views:{"base@rmsHome":{templateUrl:"rms/renewRegistration/views/renewRegistration.html",controller:"renewRegistrationController"}},data:{title:"Renew a motor vehicle registration",progressMax:5},resolve:{token:["ipAddress","renewRegistrationService",function(e,t){
return t.createRenewRegoTransaction(e)}],checkUserEligibilityAndEmailSuccess:["$rootScope","isAuthenticated","isLinkedToRms","token","commonUtil",function(e,t,a,r,o){return a&&t&&r?o.checkUserEligibilityAndEmail(e.stateDirection,r,"Renew a motor vehicle registration"):void 0}],regoOptions:["isAuthenticated","isLinkedToRms","token","renewRegistrationService","checkUserEligibilityAndEmailSuccess",function(e,t,a,r,o){return e&&t&&a&&o?r.getRego(a.statusObject)["catch"](function(e){return e}):[]}]}}).state("renewRegistration.guest",{url:"/login",parent:"renewRegistration",isPublic:!0,data:{progressNow:0},views:{form:{templateUrl:"rms/views/transAuth.html",controller:"transAuthWithTokenController as transAuth"}},params:{returnState:"renewRegistration.selectRegistration",isGuest:!0}}).state("renewRegistration.linkToRMS",{url:"/linkToRMS",parent:"renewRegistration",isPublic:!0,data:{progressNow:0},views:{form:{template:"<rms-pre-link></rms-pre-link>"}},params:{allowGuest:!0,returnState:"renewRegistration.selectRegistration"}}).state("renewRegistration.selectRegistration",{url:"/selectRegistration",parent:"renewRegistration",isPublic:!0,views:{form:{templateUrl:"rms/renewRegistration/views/renewRegistrationForm.html",controller:"renewRegistrationSelectRegistrationController"}},data:{progressNow:1,pageHeader:a.RMS.RENEWREGISTRATION.SELECTREGISTRATION.PAGEHEADER}}).state("renewRegistration.usageCTP",{url:"/usageCTP",parent:"renewRegistration",isPublic:!0,views:{form:{templateUrl:"rms/renewRegistration/views/renewRegistrationForm.html",controller:"renewRegistrationUsageCtpController"}},data:{progressNow:2,pageHeader:a.RMS.RENEWREGISTRATION.USAGECTP.PAGEHEADER}}).state("renewRegistration.registrationSummary",{url:"/registrationSummary/:transactionToken",parent:"renewRegistration",isPublic:!0,views:{form:{templateUrl:"rms/renewRegistration/views/renewRegistrationForm.html",controller:"renewRegistrationSummaryController"}},data:{progressNow:3,pageHeader:a.RMS.RENEWREGISTRATION.SUMMARY.PAGEHEADER},resolve:{transactionToken:["$stateParams",function(e){return e.transactionToken}],modelData:["renewRegistrationService","transactionToken",function(e,t){return t?e.getContext(t):void 0}]}})}e.$inject=["$stateProvider","$urlRouterProvider","SNIPPETS"],angular.module("rms.renew-rego").config(e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c){function u(e,t,a,r){e.preventDefault(),g.fromLinkingPage||(g.fromLinkingPage=n.isFromLinkingPage(r));var o={"rms.replaceLicence.details":{pageHeading:"Replacement details",pageHeadingStyle:"",progress:{now:1,max:5}},"rms.replaceLicence.declarationDetails":{pageHeading:"Declaration details",pageHeadingStyle:"",progress:{now:2,max:5}},"rms.replaceLicence.checkDeclaration":{pageHeading:"Review and confirm your declaration",pageHeadingStyle:"",progress:{now:2,max:5}},"rms.replaceLicence.submittedDeclaration":{pageHeading:"Declaration submitted",pageHeadingStyle:"",progress:{now:2,max:5}},"rms.replaceLicence.ineligibleReplacement":{pageHeading:"Please finish your application in person",pageHeadingStyle:"",progress:{now:3,max:3}},"rms.replaceLicence.confirm":{pageHeading:"Check your details",pageHeadingStyle:"",progress:{now:3,max:5}},"rms.replaceLicence.receipt":{pageHeading:"NSW Driver Licence replacement receipt",pageHeadingStyle:"hide",progress:{now:5,max:5}}};angular.extend(m,{pageHeading:"",pageHeadingStyle:"",progress:{now:0,max:5}},o[t.name])}function d(e){return n.startTransaction(s.transactionName,e,e.transactionToken)}function p(){c.destroy(),o.goToLandingPage()}var m=this,g=n.getModel();t.$on("$stateChangeSuccess",u),angular.extend(m,{name:"Replace NSW Driver Licence",user:e,model:g,startTransaction:d,back:function(){return l.history.back()},quitPrimaryAction:p})}e.$inject=["user","$scope","$state","snswModal","redirectService","$location","replaceLicenceService","rmsTransactionService","$window","pageLeaveAlert"],angular.module("rms.replace-licence").controller("replaceLicenceController",e)}(),function(){"use strict";function e(e,t,a,r,o,i){function s(t){var a={remoteAction:"RMSWrapperCtrl.getReplaceLicenceEligiblity",params:[JSON.stringify({transactionToken:t.transactionToken})],resultMap:function(e){return angular.extend(e.statusObject,{message:e.statusMessage})}};return e.vf(a)}function n(e){var t=e.messages||[];return t.length?t.some(function(e){return"ERROR"===e.severity}):!1}this.transactionName="REPLACELIC",this.validateRequestReplaceLicenceFinal=function(t){var a={remoteAction:"RMSWrapperCtrl.validateRequestReplaceLicenceFinal",params:[JSON.stringify(t)]};return e.vf(a)},this.getReplaceLicenceDetails=function(){return e.startTransaction(this.transactionName,{}).then(s).then(e.updateModel)["catch"](function(e){return r.reject({state:"rms.ineligible",returnState:"rms.replaceLicence",transactionTitle:"Replace Licence",message:e.response.statusMessage,quitText:"Quit"})})},this.validateRequestReplaceLicenceInitial=function(t){var a={transactionToken:t.transactionToken,replacementReason:t.replaceReason};t.pensioner&&(a.concessionDetails=angular.copy(t.concessionDetails),a.concessionDetails.benefitCard.type=t.pensionerType);var r={remoteAction:"RMSWrapperCtrl.validateRequestReplaceLicenceInitial",params:[JSON.stringify(a)],resultMap:function(e){return angular.extend(e.statusObject,{statusMessage:e.statusMessage})}};return e.vf(r)},this.activeLicenceCategories=function(e){return"Active"===e.licenceStatus},this.inactiveLicenceCategories=function(e){return"Active"!==e.licenceStatus},this.categoryError=function(e){return n(e)},this.categorySuccess=function(e){return!n(e)},this.interimLicenceOnly=function(e){return e=e||[],e.filter(this.activeLicenceCategories).some(function(e){var t=e.messages||[];return t.some(function(e){return"ACTIVE_REFUSAL_PRESENT"===e.code||"ACTIVE_SANCTION_EXISTS"===e.code})})},this.getGlItems=function(e,t){var a=o(t)(e)||[];return a.map(function(e){return e.glItems.map(function(e){var t;return t="80101"===e.glAccountCode?"Replace NSW Driver Licence Rebate":"Replace NSW Driver Licence",{name:t,amount:e.amount}})}).concatAll()},this.onSubmitDeclaration=function(r){function o(t){return i.destroy(),e.updateModel({checkDeclarationResponse:t,declarationJustSubmitted:!0}),"Y"===t.eligibilityStatus?a.go("rms.replaceLicence.confirm"):a.go("rms.replaceLicence.ineligibleReplacement")}t.log("on submit");var s,n=r.transaction.model;s="Y"===n.declarationDetailsResponse.existingDeclaration?n.declarationDetailsResponse.declarations:this.assembleDeclarationsWithAnswers(n.declarationAnswers,n.declarations);var l={transactionToken:n.transactionToken,replacementReason:n.replaceReason,declarationData:{existingDeclaration:n.declarationDetailsResponse.existingDeclaration,declarations:s}};return this.validateRequestReplaceLicenceFinal(l).then(o)},this.assembleDeclarationsWithAnswers=function(e,t){var a=angular.copy(t);return Object.keys(e).forEach(function(t){a[t].response.answers=[e[t]]}),a},this.getQuestionConfirmations=function(e,t){var a,r,o,i,s=[];if(e.declarations)for(a=0;a<e.declarations.length;a++)r=e.declarations[a].question,i=[{label:r.text,text:e.declarationAnswers[a],additional:!1}],s.push(i);else for(a=0;a<t.declarations.length;a++){var n=t.declarations[a];r=n.question,o=n.response,i=[{label:r.text,text:o.answers[0],additional:!1}],s.push(i)}return s},this.getAnsweredQuestionsFields=function(e){return[{key:"confirmations",type:"data-list",wrapper:[],templateOptions:{isNumbered:!0,isHighlighted:!0,isCondensed:!1,options:{data:e},isNotSeparated:!1}}]}}e.$inject=["rmsTransactionService","$log","$state","$q","$parse","pageLeaveAlert"],angular.module("rms.replace-licence").service("replaceLicenceService",e)}(),function(){"use strict";function e(e,t){function a(e,t,a,r){return t.isAuthenticated&&!a.transactionToken?e.getReplaceLicenceDetails():r.resolve()}function r(e,t,a){return t.isAuthenticated&&t.isLinkedToRms&&t.hasEmail?e.resolve():t.isAuthenticated?"rms.replaceLicence.linkRMS"===a.current.name?e.resolve():t.isLinkedToRms?t.hasEmail?e.resolve():e.reject({state:"rms.addEmail",transactionAgency:"Replace NSW driver licence",message:"User does not have Roads and Maritime Services email"}):e.reject({state:"rms.replaceLicence.linkRMS"}):e.reject({state:"rms.replaceLicence.login",message:"User is not logged In"})}function o(e,t,a,r,o){return r.token?o.getContext(r.token)["catch"](function(){return t.reject({state:"rms.replaceLicence.login",message:"Transaction expired"})}):t.resolve()}function i(e,t,a,r){return r.token?t.getReceiptDetails(r.token).then(a.updateModel).then(function(e){return e.statusObject})["catch"](function(){return e.reject({state:"rms.replaceLicence.login",message:"Transaction expired"})}):e.reject({state:"rms.replaceLicence.login",message:"Invalid token"})}function s(e,t){return e.checkRMSConnectivity()["catch"](function(){t.go("rmsUnavailable")})}function n(e,t,a){return!a.declarationDetailsResponse&&angular.isUndefined(t.token)?e.reject({state:"rms.replaceLicence.details",message:"No declaration submitted"}):void 0}function l(e){return["model","$q",function(t,a){"ngInject";return t.declarationJustSubmitted?a.reject({state:e,message:"Declaration already submitted"}):void 0}]}r.$inject=["$q","user","$state"],a.$inject=["replaceLicenceService","user","model","$q"],n.$inject=["$q","$stateParams","model"],o.$inject=["model","$q","$state","$stateParams","rmsTransactionService"],i.$inject=["$q","receiptService","rmsTransactionService","$stateParams"],s.$inject=["rmsTransactionService","$state"],t.when("/rms/replaceLicence",["$state",function(e){return e.go("rms.replaceLicence.details",{},{location:"replace"})}]),e.state("rms.replaceLicence",{url:"/replaceLicence","abstract":!0,views:{rms:{controller:"replaceLicenceController as transaction",templateUrl:"rms/views/transaction.html"}},data:{title:"Replace NSW Driver Licence"}}),e.state("rms.replaceLicence.details",{url:"/details",views:{transaction:{template:'<replace-licence-details transaction="transaction"></replace-licence-details>',controller:["$scope","licenceDetails",function(e,t){angular.merge(e.transaction,t)}]}},resolve:{canAccess:r,licenceDetails:a}}),e.state("rms.replaceLicence.declarationDetails",{url:"/declaration",views:{transaction:{template:'<replace-licence-declaration-details transaction="transaction"></replace-licence-declaration-details>'}},resolve:{canAccess:l("rms.replaceLicence.details"),declarationDetailsResponse:n}}),e.state("rms.replaceLicence.checkDeclaration",{url:"/checkDeclaration",views:{transaction:{template:'<replace-licence-check-declaration transaction="transaction"></replace-licence-check-declaration>'}},resolve:{canAccess:l("rms.replaceLicence.submittedDeclaration"),declarationDetailsResponse:n}}),e.state("rms.replaceLicence.submittedDeclaration",{url:"/submittedDeclaration",views:{transaction:{template:'<replace-licence-submitted-declaration transaction="transaction"></replace-licence-submitted-declaration>'}},resolve:{declarationDetailsResponse:n}}),e.state("rms.replaceLicence.confirm",{url:"/confirm?token",views:{transaction:{template:'<replace-licence-confirm-details transaction="transaction" existing-model="existingModel"></replace-licence-confirm-details>',controller:["$scope","existingModel",function(e,t){e.existingModel=t}]}},resolve:{existingModel:o,declarationDetailsResponse:n}}),e.state("rms.replaceLicence.receipt",{url:"/receipt?token",views:{transaction:{template:'<replace-licence-receipt transaction="transaction" receipt-data="receiptData"></replace-licence-receipt>',controller:["$scope","receiptData",function(e,t){e.receiptData=t}]}},resolve:{receiptData:i}}),e.state("rms.replaceLicence.ineligibleReplacement",{url:"/ineligibleReplacement",views:{transaction:{template:'<replace-licence-ineligible-replacement transaction="transaction"></replace-licence-ineligible-replacement>'}},resolve:{declarationDetailsResponse:n}}),e.state("rms.replaceLicence.login",{url:"/login",views:{transaction:{template:'<rms-trans-auth transaction="transaction"></rms-trans-auth>'}},params:{returnState:"rms.replaceLicence.details"}}),e.state("rms.replaceLicence.linkRMS",{url:"/linkRMS",views:{transaction:{template:"<rms-pre-link></rms-pre-link>"}},params:{returnState:"rms.replaceLicence.details",allowGuest:!1},resolve:{checkRMSConnectivity:s}})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("rms.replace-licence").config(e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l){function c(){i.destroy(),r.go("rms.replaceRegCert.details")}function u(){""===f.quitState?o.quitTransaction({body:b}).then(function(){i.destroy(),s.goToLandingPage()}):r.go(f.quitState)}function d(t,a,r,o){t.preventDefault();var i={"rms.replaceRegCert.tla":{pageHeading:"NSW Driver Licence or NSW Photo Card details",progress:{now:e.isAuthenticated?0:1,max:h}},"rms.replaceRegCert.details":{pageHeading:"Vehicle details",progress:{now:e.isAuthenticated?1:2,max:h},quitState:o&&"rms.addEmail"===o.name?"rms.addEmail":""},"rms.replaceRegCert.confirmation":{pageHeading:"Check your details",progress:{now:e.isAuthenticated?2:3,max:h}},"rms.replaceRegCert.payment":{pageHeading:"Payment Details",progress:{now:e.isAuthenticated?3:4,max:h}},"rms.replaceRegCert.receipt":{pageHeading:"Registration product replacement receipt",pageHeadingStyle:"hide",progress:{now:e.isAuthenticated?4:5,max:h}}};angular.extend(f,{pageHeading:"",progress:{now:0,max:2}},i[a.name])}function p(){f.user.isTLA=!0,r.go("rms.replaceRegCert.details")}function m(e){return l.startTransaction(v,e).then(g)}function g(e){return angular.extend(t,e)}var f=this,b="If you quit, any unsaved changes will be lost.",h=e.isAuthenticated?4:5,v=n.transactionName;a.$on("$stateChangeSuccess",d),angular.extend(f,{name:"Replace registration product",user:e,allowGuest:!0,back:c,quit:u,tlaSuccess:p,model:angular.extend(t),alert:l.alert,updateModel:g,startTransaction:m,pspPostURL:""})}e.$inject=["user","model","$scope","$state","snswModal","pageLeaveAlert","redirectService","replaceRegCertService","rmsTransactionService"],angular.module("rms.replace-reg-cert").controller("replaceRegCertController",e)}(),function(){"use strict";function e(e,t,a){function r(e){var t={transactionToken:e.transactionToken},r={remoteAction:"RMSWrapperCtrl.getEligibleVehiclesForReplaceRegCert",params:[JSON.stringify(t)],resultMap:function(e){return e.statusObject}};return a.vf(r)}this.transactionName="REPLACEREGO",this.getReplaceRegoReasonCodes=function(){var e={remoteAction:"RMSWrapperCtrl.getReplaceRegoReasonCodes",params:[],resultMap:function(e){return e.statusObject}};return a.vf(e)},this.isUserEligible=function(){return a.startTransaction(this.transactionName,{}).then(r)["catch"](function(e){return t.reject({state:"rms.ineligible",transactionTitle:"Replace Registration Certificate",quitText:"Quit",message:e.message})})}}e.$inject=["vf","$q","rmsTransactionService"],angular.module("rms.replace-reg-cert").service("replaceRegCertService",e)}(),function(){"use strict";function e(e,t){function a(e,t,a,r,o,i){return r.isAuthenticated&&!o.transactionToken&&angular.isUndefined(o.eligibleVehicles)?a.isUserEligible():!o.transactionToken&&r.isTLA?e.reject({state:"rms.replaceRegCert.login",message:"Transaction expired"}):e.resolve({})}function r(e,t,a){return t.getReplaceRegoReasonCodes()}function o(e,t,a,r,o,i,s){return t.isTLA=!t.isAuthenticated,t.isAuthenticated||t.isTLA?t.isLinkedToRms||t.isTLA?t.hasEmail||t.isTLA?e.resolve():e.reject({state:"rms.addEmail",transactionAgency:"Replace Registration Certificate",returnState:"rms.replaceRegCert.details",message:"User does not have Roads and Maritime Services email"}):angular.isDefined(t.continueWithoutLinking)&&t.continueWithoutLinking?o.startTransaction(i.transactionName,r).then(function(e){return angular.extend(r,e)}).then(s.guestLogin).then(function(){return e.reject({state:"rms.replaceRegCert.tla"})})["catch"](function(t){return e.reject(t)}):e.reject({state:"rms.replaceRegCert.linkRMS",message:"User is not linked to Rms"}):e.reject({state:"rms.replaceRegCert.login",message:"User is not logged In"})}function i(e,t,a){return a.validVehicle||t.token?e.resolve():e.reject({state:"rms.replaceRegCert.details",message:"No vehicle selected"})}function s(e,t,a,r){return a.token?r.getContext(a.token)["catch"](function(){return e.reject({state:"rms.replaceRegCert.login",message:"Transaction expired"})}):e.resolve()}function n(e,t,a){return a.token?t.getReceiptDetails(a.token).then(function(e){return e.statusObject})["catch"](function(){return e.reject({state:"rms.replaceRegCert.login",message:"Transaction expired"})}):e.reject({state:"rms.replaceRegCert.login",message:"Transaction expired"})}function l(e,t){return e.checkRMSConnectivity()["catch"](function(){t.go("rmsUnavailable")})}o.$inject=["$q","user","$stateParams","model","rmsTransactionService","replaceRegCertService","TransAuthService"],a.$inject=["$q","$stateParams","replaceRegCertService","user","model","canAccess"],r.$inject=["$q","replaceRegCertService","canAccess"],s.$inject=["$q","$state","$stateParams","rmsTransactionService"],i.$inject=["$q","$stateParams","model"],n.$inject=["$q","receiptService","$stateParams"],l.$inject=["rmsTransactionService","$state"],t.when("/rms/replaceRegCert","/rms/replaceRegCert/details"),e.state("rms.replaceRegCert",{"abstract":!0,url:"/replaceRegCert",views:{rms:{templateUrl:"rms/views/transaction.html",controller:"replaceRegCertController as transaction"}},params:{token:""},data:{title:"Service NSW"}}).state("rms.replaceRegCert.details",{url:"/details",views:{transaction:{template:'<replace-reg-cert-details transaction="transaction" eligibility-definition="eligibilityDefinition" reason-codes="reasonCodes"></replace-reg-cert-details>',controller:["$scope","eligibilityDefinition","reasonCodes",function(e,t,a){e.eligibilityDefinition=t,e.reasonCodes=a}]}},resolve:{canAccess:o,eligibilityDefinition:a,reasonCodes:r}}).state("rms.replaceRegCert.confirmation",{url:"/confirmation?token",views:{transaction:{template:'<replace-reg-cert-confirmation transaction="transaction" existing-model="existingModel"></replace-reg-cert-confirmation>',controller:["$scope","existingModel",function(e,t){e.existingModel=t}]}},resolve:{canAccess:o,existingModel:s,validVehicle:i}}).state("rms.replaceRegCert.receipt",{url:"/receipt?token",views:{transaction:{template:'<replace-reg-cert-receipt transaction="transaction" receipt-data="receiptData"></replace-reg-cert-receipt>',controller:["$scope","receiptData",function(e,t){t.paymentFeeDetails.gstAmount=t.paymentFeeDetails.gstAmount||0,e.receiptData=t}]}},resolve:{canAccess:o,receiptData:n}}).state("rms.replaceRegCert.login",{url:"/login",views:{transaction:{template:'<rms-trans-auth transaction="transaction"></rms-trans-auth>'}},params:{returnState:"rms.replaceRegCert.details"}}).state("rms.replaceRegCert.tla",{url:"/tla",views:{transaction:{template:'<rms-card-details transaction="transaction"></rms-card-details>'}}}).state("rms.replaceRegCert.linkRMS",{url:"/linkRMS",views:{transaction:{template:"<rms-pre-link></rms-pre-link>"}},params:{returnState:"rms.replaceRegCert.details",allowGuest:!0},resolve:{checkRMSConnectivity:l}})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("rms.replace-reg-cert").config(e)}(),function(){"use strict";function e(e,t,a,r){e.state("reprintLicence",{parent:"rmsHome",url:"/reprintLicence",views:{"base@rmsHome":{templateUrl:"rms/reprintLicence/views/reprintLicence.html",controller:"reprintLicenceController as reprintLicence"}},data:{title:a.RMS.REPRINTLICENCE.REPRINTLICENCETITLE,progressMax:1},resolve:{token:["ipAddress","reprintLicenceService",function(e,t){return t.createInterimLicenceTransaction(e)["catch"](function(e){return{error:e.response}})}],checkUserEligibilityAndEmailSuccess:["$rootScope","isLinkedToRms","isAuthenticated","token","commonUtil",function(e,t,a,r,o){return t&&a&&r?o.checkUserEligibilityAndEmail(e.stateDirection,r,"Interim Licence"):!0}],customerInfo:["isAuthenticated","token","reprintLicenceService","checkUserEligibilityAndEmailSuccess",function(e,t,a,r){return e&&r?a.getCustomerInfo(t.statusObject)["catch"](function(e){return{error:e.response}}):null}],reprintLicenceOptions:["customerInfo","isAuthenticated","token","reprintLicenceService","checkUserEligibilityAndEmailSuccess",function(e,t,a,r,o){return t&&o&&e.statusObject?r.getInterimLicence(a.statusObject)["catch"](function(e){return{error:e.response}}):[]}],receiptData:["receiptService","token","customerInfo","reprintLicenceOptions",function(e,t,a,r){return e.getReceiptData(t.statusObject)}]}}).state("reprintLicence.tla",{url:"/login",parent:"reprintLicence",isPublic:!0,views:{form:{templateUrl:"rms/views/transAuth.html",controller:"transAuthWithTokenController as transAuth"}},data:{progressNow:0},params:{returnState:"reprintLicence.form",isGuest:!1}}).state("reprintLicence.form",{parent:"reprintLicence",url:"/form",isPublic:!0,views:{form:{templateUrl:"rms/reprintLicence/views/reprintLicenceForm.html",controller:"reprintLicenceFormController as reprintLicenceForm"}},data:{progressNow:1,pageHeader:a.RMS.REPRINTLICENCE.REPRINTLICENCEPROCESS}}).state("reprintLicence.file",{})}e.$inject=["$stateProvider","$urlRouterProvider","SNIPPETS","user"],angular.module("rms").config(e)}(),function(){"use strict";function e(e,t,a,r){t.when("/rms/trans/retrieveDeclaration","/rms/trans/retrieveDeclaration/form"),e.state("retrieveDeclaration",{parent:"rmsHome","abstract":!0,url:"/retrieveDeclaration",views:{"base@rmsHome":{templateUrl:"rms/retrieveDeclaration/views/retrieveDeclaration.html",controller:"retrieveDeclarationController as retrieveDeclaration"}},data:{title:a.RMS.RETRIEVEDECLARATION.RETRIEVEDECLARATIONPROCESS,progressMax:1,processName:a.RMS.RETRIEVEDECLARATION.RETRIEVEDECLARATIONPROCESS,loginState:"retrieveDeclaration.tla"},resolve:{token:["ipAddress","retrieveDeclarationService",function(e,t){return t.createDeclarationPDFTransaction(e)["catch"](function(e){return{error:e.response}})}],checkUserEligibilityAndEmailSuccess:["$rootScope","isLinkedToRms","isAuthenticated","token","commonUtil",function(e,t,a,r,o){return t&&a&&r?o.checkUserEligibilityAndEmail(e.stateDirection,r,"Interim Licence"):!0}],customerInfo:["isAuthenticated","token","retrieveDeclarationService","checkUserEligibilityAndEmailSuccess",function(e,t,a,r){return e&&r?a.getCustomerInfo(t.statusObject)["catch"](function(e){return{error:e.response}}):null}],retrieveDeclarationOptions:["customerInfo","isAuthenticated","token","retrieveDeclarationService","checkUserEligibilityAndEmailSuccess",function(e,t,a,r,o){return t&&o&&e.statusObject?r.getLatestDeclarationPDF(a.statusObject)["catch"](function(e){return{error:e.response}}):[]}]}}).state("retrieveDeclaration.tla",{url:"/login",parent:"retrieveDeclaration",isPublic:!0,views:{form:{templateUrl:"rms/views/transAuth.html",controller:"transAuthWithTokenController as transAuth"}},data:{progressNow:0},params:{returnState:"retrieveDeclaration.form",isGuest:!1}}).state("retrieveDeclaration.form",{parent:"retrieveDeclaration",url:"/form",isPublic:!0,views:{form:{templateUrl:"rms/retrieveDeclaration/views/retrieveDeclarationForm.html",controller:"retrieveDeclarationFormController as retrieveDeclarationForm"}},data:{title:"Retrieve declaration",progressNow:1,pageHeader:a.RMS.RETRIEVELICENCEDECLARATION.PAGEHEADER}}),t.when("/rms/trans/retrieveReplaceLicenceDeclaration","/rms/trans/retrieveReplaceLicenceDeclaration/form"),e.state("retrieveReplaceLicenceDeclaration",{parent:"rmsHome","abstract":!0,url:"/retrieveReplaceLicenceDeclaration",views:{"base@rmsHome":{templateUrl:"rms/retrieveDeclaration/views/retrieveDeclaration.html",controller:"retrieveDeclarationController as retrieveDeclaration"}},data:{title:"Replace NSW Driver Licence declaration",progressMax:1,processName:"Retrieve declaration for a replacement NSW Driver Licence",loginState:"retrieveReplaceLicenceDeclaration.tla"},resolve:{token:["ipAddress","retrieveDeclarationService",function(e,t){return t.createDeclarationPDFTransaction(e)["catch"](function(e){return{error:e.response}})}],checkUserEligibilityAndEmailSuccess:["$rootScope","isLinkedToRms","isAuthenticated","token","commonUtil",function(e,t,a,r,o){return t&&a&&r?o.checkUserEligibilityAndEmail(e.stateDirection,r,"Interim Licence"):!0}],customerInfo:["isAuthenticated","token","retrieveDeclarationService","checkUserEligibilityAndEmailSuccess",function(e,t,a,r){return e&&r?a.getCustomerInfo(t.statusObject)["catch"](function(e){return{error:e.response}}):null}],retrieveDeclarationOptions:["customerInfo","isAuthenticated","token","retrieveDeclarationService","checkUserEligibilityAndEmailSuccess",function(e,t,a,r,o){return t&&o&&e.statusObject?r.getLatestReplaceLicenceDeclarationPDF(a.statusObject)["catch"](function(e){return{error:e.response}}):[]}]}}).state("retrieveReplaceLicenceDeclaration.tla",{url:"/login",parent:"retrieveReplaceLicenceDeclaration",isPublic:!0,views:{form:{templateUrl:"rms/views/transAuth.html",controller:"transAuthWithTokenController as transAuth"}},data:{progressNow:0},params:{returnState:"retrieveReplaceLicenceDeclaration.form",isGuest:!1}}).state("retrieveReplaceLicenceDeclaration.form",{parent:"retrieveReplaceLicenceDeclaration",url:"/form",isPublic:!0,views:{form:{templateUrl:"rms/retrieveDeclaration/views/retrieveReplaceLicenceDeclarationForm.html",controller:"retrieveReplaceLicenceDeclarationFormController as retrieveDeclarationForm"}},data:{title:"Retrieve declaration",progressNow:1,pageHeader:"Retrieve declaration for a replacement NSW Driver Licence"}})}e.$inject=["$stateProvider","$urlRouterProvider","SNIPPETS","user"],angular.module("rms").config(e)}(),function(){"use strict";function e(e,t,a){e.transErrorInfo={}}e.$inject=["$scope","$rootScope","pageLeaveAlert"],angular.module("rms").controller("rmsHomeController",e)}(),function(){"use strict";function e(e,t,a){function r(t){var a={remoteAction:"RMSTransactionService.getDemeritPoints",params:[t],resultMap:function(e){return{demeritPoint:e.statusObject}}};return e.call(a)}function o(){var t={remoteAction:"RMSTransactionService.isTransactionEligibile"};return e.call(t)}function i(){return a.startDemeritPointTransaction()}return{getDemeritPoints:r,isAllowedToSeePoints:o,startTransaction:i}}e.$inject=["vf","$q","rmsTransactionService"],angular.module("rms.services").factory("demeritPointService",e)}(),function(){"use strict";function e(){function e(e){a=e}function t(){return a}var a;return{setAcceptTerms:e,getAcceptTerms:t}}angular.module("rms.services").factory("termsService",e)}(),function(){"use strict";function e(e,t,a,r){function o(){var e=t.defer();return a(function(){e.resolve(r)},0),e.promise}return{get:o}}e.$inject=["$http","$q","$timeout","encryptedIpAddress"],angular.module("rms.services").factory("ipAddressService",e)}(),function(){"use strict";function e(e,o,i,s,n,l,c,u,d){function p(){var e={remoteAction:"RMSTransactionService.hasRMSEmail"};return C(e)}function m(){var t={remoteAction:"RMSTransactionService.isLinkedWithRMS"};return e.call(t)}function g(e){var t={remoteAction:"RMSTransactionService."+e,params:[o,c]};return C(t)}function f(e,t){var a={remoteAction:"RMSWrapperCtrl.createRMSTransaction",params:[JSON.stringify({ipAddress:o,transactionName:e,transactionToken:t,outletNumber:c})]};return C(a)}function b(t){var a={remoteAction:"RMSWrapperCtrl.cancelRMSTransaction",params:[JSON.stringify({transactionToken:t})]};return e.call(a)}function h(){return g(t)}function v(){return g(a)}function y(){return g(r)}function S(){return l.resolve()}function C(t){function a(e){var t=e.response||{};return"RMS_TRANSACTION_TIME_OUT"===t.statusMessage?n.transactionTimeout():l.reject(e)}return e.call(angular.merge({resultMap:function(e){return e.statusObject}},t))["catch"](a)}function E(e,t){var a={remoteAction:"rmsTransactionCtrl.saveContext",params:[e,JSON.stringify(t)],resultMap:function(){return t}};return C(a)}function M(e){var t={remoteAction:"rmsTransactionCtrl.getContext",params:[e],resultMap:function(e){return JSON.parse(e.statusObject)}};return C(t)}function A(e){var t={remoteAction:"RMSWrapperCtrl.submitForPayment",params:[JSON.stringify(e)]};return C(t)}function N(e,t,a){return f(e,a).then(function(e){return angular.extend(t,{transactionToken:e})})}function T(e){var t={remoteAction:"RMSWrapperCtrl.validateTransaction",params:[JSON.stringify({transactionToken:e})]};return C(t)}function R(e){return e&&e.vehicle&&u.addUnique(angular.extend({},e.vehicle,{registrationExpiryDate:e.registrationExpiryDate})),e}function O(){return k}function D(){return[].splice.call(arguments,0,0,k),angular.extend.apply(void 0,arguments)}function w(){for(var e in k)k.hasOwnProperty(e)&&delete k[e];return k}function I(e){return e&&"rms.addEmail"===e.name||"linkRMSAddEmail"===e.name}var k={};return{alert:d.alert,cancelTransaction:b,checkRMSConnectivity:S,getContext:M,getModel:O,hasEmail:p,isCustomerLinkedToMA:m,resetModel:w,saveContext:E,savePlateSessionState:R,startChangeDetailsTransaction:h,startChangeMobileEmailTransaction:y,startDemeritPointTransaction:v,startTransaction:N,submitForPayment:A,updateModel:D,isFromLinkingPage:I,validateTransaction:T,vf:C}}e.$inject=["vf","encryptedIpAddress","$window","snswSiteUrl","snswModal","$q","siteId","previousPlateSearch","alertService"];var t="createChangeAddressTransaction",a="createCheckDemeritPointsTransaction",r="createChangeContactDetailsTransaction";angular.module("rms.services").factory("rmsTransactionService",e)}(),function(){"use strict";function e(e,t){this.getPdfFile=function(t,a){var r={remoteAction:"RMSWrapperCtrl.getPdfFile",params:[JSON.stringify({fileName:t,transactionToken:a})],resultMap:function(e){return{fileName:t,fileData:e.statusObject}}};return e.call(r)},this.openPdf=function(e){if(t.navigator&&t.navigator.msSaveOrOpenBlob){for(var a=atob(e.fileData),r=new ArrayBuffer(a.length),o=new Uint8Array(r),i=0;i<a.length;i++)o[i]=a.charCodeAt(i);var s=new Blob([r],{type:"application/pdf"});t.navigator.msSaveOrOpenBlob(s,e.fileName)}else t.location.href="data:application/pdf;base64,"+e.fileData},this.getPdfAttachment=function(t,a,r){var o={remoteAction:"rmsPSPServiceCtrl.getAttachmentFile",params:[t,a,r]};return e.call(o)}}e.$inject=["vf","$window"],angular.module("rms.services").service("rmsPdfService",e)}(),function(){"use strict";function e(e){function t(e,t){return!angular.equals(e,t)}var a="FREEREGCHK",r=6,o=e.getStorage(a,r);return o.setIsUniqueFn(t),o}e.$inject=["snswArraySessionStorage"],angular.module("rms.services").factory("previousPlateSearch",e)}(),function(){"use strict";function e(e){function t(e,t){return e.RMSReceiptNumber!==t.RMSReceiptNumber||e.SNSWReceiptNumber!==t.SNSWReceiptNumber}var a="VEHHISTCHK",r=6,o=e.getStorage(a,r);return o.setIsUniqueFn(t),o}e.$inject=["snswArraySessionStorage"],angular.module("rms.services").factory("purchasedReportList",e)}(),function(){"use strict";angular.module("rms").config(["$stateProvider",function(e){e.state("survey",{resolve:{isAuthenticated:["userService",function(e){return e.isAuthenticated()}]},url:"/survey/:transactionToken",isPublic:!0,views:{main:{templateUrl:"rms/survey/views/survey.html",controller:"surveyController as survey"}},data:{title:"Survey"}}).state("surveySummary",{resolve:{isAuthenticated:["userService",function(e){return e.isAuthenticated()}]},url:"/surveySummary",isPublic:!0,views:{main:{templateUrl:"rms/survey/views/surveySummary.html",controller:"surveySummaryController as surveySummary"}},data:{title:"Survey"}})}])}(),function(){"use strict";function e(e,t,a){e.state("transferRego",{parent:"rmsHome",url:"/transferRegistration","abstract":!0,views:{"base@rmsHome":{templateUrl:"rms/transferRego/views/transferRego.html",controller:"transferRegoController"}},data:{title:"Transfer a vehicle registration",progressMax:5},resolve:{token:["ipAddress","transferRegoService",function(e,t){return t.createTransactionToken(e)}],checkUserEligibilityAndEmailSuccess:["$rootScope","isLinkedToRms","isAuthenticated","token","commonUtil",function(e,t,a,r,o){
return t&&a&&r?o.checkUserEligibilityAndEmail(e.stateDirection,r,"Transfer a vehicle registration"):void 0}],regoOptions:["isAuthenticated","isLinkedToRms","token","transferRegoService","checkUserEligibilityAndEmailSuccess",function(e,t,a,r,o){return e&&t&&a&&o?r.getRego(a.statusObject)["catch"](function(e){return e}):null}]}}).state("transferRego.tla",{url:"/login",parent:"transferRego",isPublic:!0,views:{transferRegoForm:{templateUrl:"rms/views/transAuth.html",controller:"transAuthWithTokenController as transAuth"}},data:{progressNow:0},params:{returnState:"transferRego.boughtVehicle",isGuest:!1}}).state("transferRego.linkRMS",{url:"/linkAccount",parent:"transferRego",isPublic:!0,views:{transferRegoForm:{templateUrl:"rms/views/checkDemerit/checkDemeritRMSLink.html",controller:"rmsLinkingController as rmsLinking"}},params:{returnState:"transferRego.boughtVehicle"}}).state("transferRego.boughtVehicle",{url:"/boughtVehicle",parent:"transferRego",isPublic:!0,views:{transferRegoForm:{templateUrl:"rms/transferRego/views/transferRegoForm.html",controller:"boughtVehicleController"}},data:{progressNow:1,pageHeader:a.RMS.TRANSFERREGO.BOUGHTVEHICLEHEADER}}).state("transferRego.transferDetails",{url:"/transferDetails",parent:"transferRego",views:{transferRegoForm:{templateUrl:"rms/transferRego/views/transferRegoForm.html",controller:"transferDetailsController"}},isPublic:!0,data:{progressNow:2,pageHeader:a.RMS.TRANSFERREGO.TRANSFERDETAILSHEADER}}).state("transferRego.transferConfirm",{url:"/transferConfirm/:transactionToken",parent:"transferRego",views:{transferRegoForm:{templateUrl:"rms/transferRego/views/transferRegoForm.html",controller:"transferConfirmController"}},data:{progressNow:3,pageHeader:a.RMS.TRANSFERREGO.TRANSFERCONFIRMHEADER},isPublic:!0,resolve:{transactionToken:["$stateParams",function(e){return e.transactionToken}],modelData:["transferRegoService","transactionToken",function(e,t){return t?e.getContext(t):void 0}]}})}e.$inject=["$stateProvider","$urlRouterProvider","SNIPPETS"],angular.module("rms.transfer-rego").config(e)}(),function(){"use strict";function e(e,t){function a(e,t,a){return"rms.vehicleHistoryReport.linkRMS"===a.current.name||t.continueWithoutLinking?e.resolve():t.isAuthenticated&&!t.isLinkedToRms?e.reject({state:"rms.vehicleHistoryReport.linkRMS"}):t.isAuthenticated&&!t.hasEmail?e.reject({state:"rms.addEmail",transactionAgency:"Vehicle History Check",message:"User does not have Roads and Maritime Services email"}):e.resolve()}function r(e,t){return t.vehicles?void 0:e.reject({state:"rms.vehicleHistoryReport.details",message:"No vehicle selected"})}function o(e,t){return t.vehicle?void 0:e.reject({state:"rms.vehicleHistoryReport.details",message:"No vehicle selected"})}function i(e,t,a,r){return!e.vehicle&&a.token?r.getContext(a.token).then(r.updateModel)["catch"](function(){return t.reject({state:"rms.vehicleHistoryReport.details",message:"Transaction expired"})}):e.vehicle?void 0:t.reject({state:"rms.vehicleHistoryReport.details",message:"No vehicle selected"})}function s(e,t){return e.checkRMSConnectivity()["catch"](function(){t.go("rmsUnavailable")})}function n(e,t,a){return a.token?t.getReceiptDetails(a.token).then(function(e){return e.statusObject}).then(function(e){return e.autoEmailAddress?t.sendTransactionPDFEmail(e.autoEmailAddress,a.token,e.autoUpdateRMS).then(function(){return e.hasEmailSentSuccessfully=!0,e.autoUpdateRMS&&(e.transactionDetails.customerEmailAddress=e.autoEmailAddress),e})["catch"](function(){return e.hasEmailSentSuccessfully=!1,e}):e})["catch"](function(){return e.reject({state:"rms.vehicleHistoryReport.details",message:"Transaction expired"})}):e.reject({state:"rms.vehicleHistoryReport.details",message:"Invalid token"})}a.$inject=["$q","user","$state"],r.$inject=["$q","model"],o.$inject=["$q","model"],i.$inject=["model","$q","$stateParams","rmsTransactionService"],n.$inject=["$q","receiptService","$stateParams"],s.$inject=["rmsTransactionService","$state"],t.when("/rms/vehicleHistoryReport",["$state",function(e){return e.go("rms.vehicleHistoryReport.details",{},{location:"replace"})}]),e.state("rms.vehicleHistoryReport",{"abstract":!0,url:"/vehicleHistoryReport",views:{rms:{templateUrl:"rms/views/transaction.html",controller:"vehicleHistoryReportController as transaction"}},data:{title:"Vehicle history report"}}).state("rms.vehicleHistoryReport.details",{url:"/details",views:{transaction:{template:'<free-rego-check-details transaction="transaction"></free-rego-check-details>'}},resolve:{canAccess:a}}).state("rms.vehicleHistoryReport.multiple",{url:"/multiple",views:{transaction:{template:'<free-rego-check-multiple transaction="transaction"></free-rego-check-multiple>'}},resolve:{display:r}}).state("rms.vehicleHistoryReport.display",{url:"/display",views:{transaction:{template:'<free-rego-check-display transaction="transaction"></free-rego-check-display>'}},resolve:{display:o}}).state("rms.vehicleHistoryReport.confirm",{url:"/confirm?token",views:{transaction:{template:'<vehicle-history-report-confirm transaction="transaction"></vehicle-history-report-confirm>'}},resolve:{display:i}}).state("rms.vehicleHistoryReport.receipt",{url:"/receipt?token",views:{transaction:{template:'<vehicle-history-report-receipt transaction="transaction" receipt-data="receiptData" transaction-token="transactionToken"></vehicle-history-report-receipt>',controller:["$scope","receiptData","$stateParams",function(e,t,a){e.receiptData=t,e.transactionToken=a.token}]}},resolve:{receiptData:n,display:i}}).state("rms.vehicleHistoryReport.linkRMS",{url:"/linkRMS",views:{transaction:{template:"<rms-pre-link></rms-pre-link>"}},params:{returnState:"rms.vehicleHistoryReport.details",allowGuest:!0},resolve:{checkRMSConnectivity:s}})}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("rms.vehicle-history").config(e)}(),function(){"use strict";function e(e,t,a,r,o){function i(e,t){e.preventDefault();var a="rms.freeRegoCheck.display"===r.getModel().returnState,o={"rms.vehicleHistoryReport.details":{pageHeading:"",pageHeadingStyle:"",progress:{now:1,max:5}},"rms.vehicleHistoryReport.multiple":{pageHeading:"Select vehicle",pageHeadingStyle:"",progress:{now:2,max:5}},"rms.vehicleHistoryReport.confirm":{pageHeading:"Check your details",pageHeadingStyle:"",progress:{now:a?1:3,max:a?3:5}},"rms.vehicleHistoryReport.receipt":{progress:{now:a?3:5,max:a?3:5}},"rms.vehicleHistoryReport.display":{pageHeading:"Free Registration Result",pageHeadingStyle:"",progress:{now:3,max:3}}};angular.extend(l,{pageHeading:"",progress:{now:0,max:2}},o[t.name])}function s(e){e()}function n(){c.forEach(s)}var l=this,c=[t.$on("$stateChangeSuccess",i)];t.$on("$destroy",n),angular.extend(l,{name:"Vehicle history report",code:"VEHHISTCHK",hasCaptcha:!1,user:e,model:r.getModel(),goToNextState:o.goToNextState,goToPrevState:o.goToPrevState})}e.$inject=["user","$scope","$state","rmsTransactionService","vehicleHistoryReportService"],angular.module("rms.vehicle-history").controller("vehicleHistoryReportController",e)}(),function(){"use strict";function e(e,t,a){this.goToNextState=function(t){var a={"rms.vehicleHistoryReport.details":function(){return t.vehicles?e.go("rms.vehicleHistoryReport.multiple"):t.isNotEligible?e.go("rms.vehicleHistoryReport.display"):e.go("rms.vehicleHistoryReport.confirm")},"rms.vehicleHistoryReport.multiple":function(){return t.isNotEligible?e.go("rms.vehicleHistoryReport.display"):e.go("rms.vehicleHistoryReport.confirm")}};return a[e.current.name]()},this.goToPrevState=function(t){var a={"rms.vehicleHistoryReport.confirm":function(){return t.returnState?e.go(t.returnState):t.vehicles?e.go("rms.vehicleHistoryReport.multiple"):e.go("rms.vehicleHistoryReport.details")},"rms.vehicleHistoryReport.multiple":function(){return e.go("rms.vehicleHistoryReport.details")},"rms.vehicleHistoryReport.display":function(){return t.vehicles?e.go("rms.vehicleHistoryReport.multiple"):e.go("rms.vehicleHistoryReport.details")}};return a[e.current.name]()},this.changeVehicle=function(t){return t.returnState?t.vehicles?e.go("rms.freeRegoCheck.multiple"):e.go("rms.freeRegoCheck.details"):t.vehicles?e.go("rms.vehicleHistoryReport.multiple"):e.go("rms.vehicleHistoryReport.details")},this.eligibility=function(e){return e.isNotEligible=e.conditionallyRegistered,e},this.alreadyPurchased=function(e){return a.list().find(function(t){return e.NSWPlateNumber===t.vehicle.NSWPlateNumber&&e.plateType===t.vehicle.plateType})}}e.$inject=["$state","rmsTransactionService","purchasedReportList"],angular.module("rms.vehicle-history").service("vehicleHistoryReportService",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{dashboard:"=",bankDetails:"="},restrict:"AE",transclude:!0,templateUrl:"sip/bankDetails/bank-details.html",controller:"bankDetailsController as bankDetails"}}angular.module("sip").directive("sipBankDetails",e)}(),function(){"use strict";function e(e,t){function a(e){var t=angular.lowercase(e.templateOptions.label),a=e.templateOptions.maxlength;return"Please enter your "+t+" using no more than "+a+" character(s)."}function r(e){var t=angular.lowercase(e.templateOptions.label);return"Invalid "+t+". Please enter using number(s) only without special character(s) or space(s)."}function o(e){var t=angular.lowercase(e.templateOptions.label);return"Please enter your "+t+"."}function i(){return e.go("sip.dashboard",{},{reload:!0})}function s(e){var t=e.response||e;c.alert={type:"danger",heading:"Error!",text:e.message,messages:t.statusObject||[]}}function n(e){return t.setBankDetails(e).then(i)["catch"](s)}function l(){return e.go("sip.dashboard",{},{reload:!0})}var c=this,u=c.dashboard.isBankDetailsAvailable?"Edit your bank account details":"Submit your bank account details",d={formState:{validation:{messages:{maxlength:a,pattern:r,requiredUser:o}}}},p=angular.extend({transactionToken:c.dashboard.transactionToken},c.bankDetails),m=[{key:"bsb",type:"input",wrapper:["label","hint","validation","bootstrap-row-col"],templateOptions:{required:!0,maxlength:6,pattern:"[0-9]*",label:"BSB",bootstrapColClassNames:"col-md-9",hint:"Enter the number without spaces or symbols"},validation:{messages:{required:'"Please enter your BSB."',pattern:'"Invalid BSB. Please enter using number(s) only without special character(s) or space(s)."',maxlength:'"Please enter your BSB using no more than 6 character(s)."'}}},{key:"accountNumber",type:"input",wrapper:["label","hint","validation","bootstrap-row-col"],templateOptions:{required:!0,minlength:6,maxlength:10,pattern:"[0-9]*",label:"Account number",bootstrapColClassNames:"col-md-9",hint:"Enter the number without spaces or symbols"},validation:{messages:{required:"formState.validation.messages.requiredUser(options)",pattern:"formState.validation.messages.pattern(options)",maxlength:"formState.validation.messages.maxlength(options)"}}},{key:"accountName",type:"input",wrapper:["label","validation","bootstrap-row-col"],templateOptions:{required:!0,pattern:"[a-zA-Z0-9 ]*",label:"Account name",bootstrapColClassNames:"col-md-9"},validation:{messages:{required:"formState.validation.messages.requiredUser(options)"}}}];angular.extend(c,{model:p,fields:m,onSubmit:n,options:d,pageSubHeading:u,goToControlPanel:l})}e.$inject=["$state","bankDetailsService"],angular.module("sip").controller("bankDetailsController",e)}(),function(){"use strict";function e(e){this.setBankDetails=function(t){var a={remoteAction:"SIPScholarshipCtrl.setBankDetails",params:[JSON.stringify(t)],resultMap:function(e){return e.statusObject}};return e.call(a)},this.getBankDetails=function(t){var a={remoteAction:"SIPScholarshipCtrl.getBankDetails",params:[JSON.stringify({transactionToken:t})],resultMap:function(e){return e.statusObject}};return e.call(a)}}e.$inject=["vf"],angular.module("sip").service("bankDetailsService",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{dashboard:"="},restrict:"AE",transclude:!0,templateUrl:"sip/dashboard/sip-dashboard.html",controller:"sipDashboard as dashboard"}}angular.module("sip").directive("sipDashboard",e)}(),function(){"use strict";function e(e,t,a){angular.extend(this,this.dashboard),this.verifyDocument=this.isApplicationReadyToEdit&&!this.nameMismatch,this.enterBankDetails=this.verifyDocument&&this.isDVSAlreadyDone,this.completed=this.enterBankDetails&&this.isBankDetailsAvailable,this.finish=function(){t.open({heading:"Do more online",body:"We have hundreds of transactions available across multiple government agencies. Want to do more?",primaryButton:"Do more online",secondaryButton:"No thanks, I'm done",twoLineButtonsOnMobile:!0}).then(function(){e.go("dashboard")})["catch"](a.logOut)}}e.$inject=["$state","snswModal","redirectService"],angular.module("sip").controller("sipDashboard",e)}(),function(){"use strict";function e(e,t){this.getStatusesForControlPanel=function(){var a={remoteAction:"SIPScholarshipCtrl.getStatusesForControlPanel",params:[JSON.stringify({ipAddress:t,productCode:"SIP_SCHOLARSHIP_APP"})],resultMap:function(e){return e.statusObject}};return e.call(a)}}e.$inject=["vf","encryptedIpAddress"],angular.module("sip").service("sipDashboardService",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{linkingInfo:"=",dashboard:"="},restrict:"AE",transclude:!0,templateUrl:"sip/dvs/sip-dvs.html",controller:"sipDvsController as dvs"}}angular.module("sip").directive("sipDvs",e)}(),function(){"use strict";function e(e){this.successState="sip.dashboard",this.quitPrimaryAction=function(){return e.go("sip.dashboard",{},{reload:!0})}}e.$inject=["$state"],angular.module("sip").controller("sipDvsController",e)}(),function(){"use strict";function e(e,t){this.getArticleContent=function(a){var r={remoteAction:"SIPScholarshipCtrl.getArticleContent",params:[JSON.stringify({transactionToken:a.transactionToken||""})],resultMap:function(e){return e.statusObject}};return e.call(r)["catch"](function(e){return t.resolve(e.message)})}}e.$inject=["vf","$q"],angular.module("sip").service("articleContentService",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{model:"=",dashboard:"="},restrict:"AE",transclude:!0,templateUrl:"sip/scholarshipApplication/scholarship-application.html",controller:"scholarshipApplicationController as application"}}angular.module("sip").directive("scholarshipApplication",e)}(),function(){"use strict";function e(e,t,a){function r(e){var a=t.generate(e);return a.isBefore(moment().subtract(15,"years"))}function o(e){var t=angular.lowercase(e.templateOptions.label),a=e.templateOptions.maxlength;return"Please enter your "+t+" using no more than "+a+" character(s)."}function i(e){var t=angular.lowercase(e.templateOptions.label);return"Invalid "+t+". Please enter using letter(s) or hyphen(s) only with no special character(s)."}function s(e){var t=angular.lowercase(e.templateOptions.label);return"Please enter your "+t+"."}function n(e){var t=angular.lowercase(e.templateOptions.label);return"You need to accept the "+t+" to submit your application."}function l(e,t){var a=t||"DD/MM/YYYY",r=angular.lowercase(e.templateOptions.label);return"Invalid "+r+". Please enter as "+a+"."}function c(e){var t=angular.lowercase(e.templateOptions.label);return"Invalid "+t+". The date you entered is in the future."}function u(){return e.go("sip.dvs")}function d(e){var t=e.response||e;g.alert={type:"danger",heading:"Error!",text:e.message,messages:t.statusObject||[]}}function p(){return e.go("sip.dashboard",{},{reload:!0})}function m(e){return a.submitDetails(e).then(u)["catch"](d)}var g=this,f=g.dashboard.isApplicationReadyToEdit?"Edit your Scholarship application":"Apply for a scholarship";g.model.transactionToken=g.dashboard.transactionToken;var b={formState:{partialDate:t,underAge:r,validation:{messages:{accept:n,maxlength:o,pattern:i,requiredUser:s,validDate:l,maximumDate:c}}}};angular.extend(g,{fields:a.fields(g.dashboard),options:b,onSubmit:m,pageSubHeading:f,goToControlPanel:p})}e.$inject=["$state","partialDate","scholarshipApplicationService"],angular.module("sip").controller("scholarshipApplicationController",e)}(),function(){"use strict";function e(e,t,a,r){this.getApplicantDetails=function(t){var a={remoteAction:"SIPScholarshipCtrl.getApplicantDetails",params:[JSON.stringify({transactionToken:t})],resultMap:function(e){var t=e.statusObject;return t.birthDate&&(t.birthDate=moment(t.birthDate).format("L")),t}};return e.call(a)},this.submitDetails=function(a){var r=angular.copy(a);r.birthDate=t.filter(a.birthDate);var o={remoteAction:"SIPScholarshipCtrl.submitDetails",params:[JSON.stringify(r)],resultMap:function(e){return e.statusObject}};return e.call(o)},this.fields=function(e){return r.get(e)}}e.$inject=["vf","partialDate","encryptedIpAddress","scholarshipApplicationFieldsService"],angular.module("sip").service("scholarshipApplicationService",e)}(),function(){"use strict";function e(e,t,a,r){var o,i=function(e){return o||(o=a.getArticleContent(e)),o};this.get=function(a){var o=a.isApplicationReadyToEdit&&a.isDVSAlreadyDone;return[{wrapper:["fieldset"],fieldGroup:[{key:"firstName",type:"input",wrapper:["label","hint","validation","bootstrap-row-col"],templateOptions:{label:"First name",required:!0,maxlength:50,disabled:o,pattern:"[a-zA-Z0-9 '-]*",bootstrapColClassNames:"col-md-9",hint:"Enter your first name exactly as it appears on your enrolment documents"},validation:{messages:{required:"formState.validation.messages.requiredUser(options)",pattern:"formState.validation.messages.pattern(options)",maxlength:"formState.validation.messages.maxlength(options)"}}},{key:"lastName",type:"input",wrapper:["label","hint","validation","bootstrap-row-col"],templateOptions:{label:"Last name (surname)",required:!0,maxlength:40,disabled:o,pattern:"[a-zA-Z0-9 '-]*",bootstrapColClassNames:"col-md-9",hint:"Enter your last name (surname) exactly as it appears on your enrolment documents"},validation:{messages:{required:"formState.validation.messages.requiredUser(options)",pattern:"formState.validation.messages.pattern(options)",maxlength:"formState.validation.messages.maxlength(options)"}}},{key:"commitmentId",type:"input",wrapper:["label","hint","validation","bootstrap-row-col"],templateOptions:{label:"Commitment ID",required:!0,maxlength:20,pattern:"[a-zA-Z0-9]*",bootstrapColClassNames:"col-md-9",hint:"Enter your commitment ID exactly as it appears on your enrolment documents. You need to enter a 9 digit number starting with the letter C"},validation:{messages:{required:"formState.validation.messages.requiredUser(options)",pattern:"formState.validation.messages.pattern(options)",maxlength:"formState.validation.messages.maxlength(options)"}}},{key:"birthDate",type:"input",wrapper:["label","hint","validation","bootstrap-row-col"],templateOptions:{label:"Date of birth",required:!0,bootstrapColClassNames:"col-md-9",hint:"Enter your date of birth as DD/MM/YYYY"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue, options)",message:'formState.validation.messages.validDate(options, "DD/MM/YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.validation.messages.maximumDate(options)"},underAge:{expression:"formState.underAge($viewValue)",message:'"Invalid date of birth. You must be over 15 to apply for a scholarship."'}},validation:{messages:{required:"formState.validation.messages.requiredUser(options)"}},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]}},{key:"email",type:"input",wrapper:["label","validation","bootstrap-row-col"],templateOptions:{label:"Email address",required:!0,type:"email",bootstrapColClassNames:"col-md-9"},validation:{messages:{required:"formState.validation.messages.requiredUser(options)",email:'"Invalid email address. Please enter using the format example@email.com."'}}},{key:"mobile",type:"input",wrapper:["label","hint","validation","bootstrap-row-col"],templateOptions:{label:"Mobile phone",pattern:r.mobileNumber,bootstrapColClassNames:"col-md-9",hint:"Enter your mobile number if you'd like to receive SMS updates"},expressionProperties:{"templateOptions.required":"model.smsUpdate"},validation:{messages:{required:"formState.validation.messages.requiredUser(options)",pattern:'"Invalid mobile phone. Please enter using numbers 0-9 only with no special character(s)."'}}}],templateOptions:{legend:"Student details"}},{wrapper:["fieldset"],fieldGroup:[{noFormControl:!0,template:"<p>We'll send notifications about your scholarship application to your email address</p><p>Would you also like to receive updates via SMS?</p>"},{key:"smsUpdate",type:"checkbox-label-with-action",templateOptions:{label:"SMS updates",labels:[{text:"Yes, send me SMS updates"}]}}],templateOptions:{legend:"Preferred contact method:"}},{key:"privacyPolicy",type:"checkbox-label-with-action",templateOptions:{required:!0,label:"Privacy Policy",labels:[{text:"I understand my details may be shared with industry third parties. Please read our"},{text:"privacy policy",action:function(){return e.open({heading:"Privacy Policy",secondaryButton:"Close",body:t.get("sip/scholarshipApplication/privacyPolicy.html")})}},{text:"to understand how Service NSW manages your information. *"}]},validation:{messages:{required:"formState.validation.messages.accept(options)"}}},{key:"termsAndConditions",type:"checkbox-label-with-action",templateOptions:{required:!0,label:"Terms and Conditions",labels:[{text:"I agree to the"},{text:"Terms and Conditions",action:function(t){return i(t).then(function(t){return e.open({heading:"Terms and Conditions",body:t.termsAndConditionsContent})})}},{text:"*"}]},validation:{messages:{required:"formState.validation.messages.accept(options)"}}}]}}e.$inject=["snswModal","$templateCache","articleContentService","regex"],angular.module("sip").service("scholarshipApplicationFieldsService",e)}(),function(){"use strict";function e(e,t,a,r,o){function i(e){return e.push({address:m,dpid:void 0,notListed:!0}),e}function s(e,a,r,o){var s=t.getAddress({query:e,type:a,filterState:r});return o||(s=s.then(i)),s}function n(t){var a=t.formControl.$viewValue;a&&""!==a||l(t),e.$emit("address-changed",{value:a,optionsKey:t.key}),t.validation.show=!1}function l(e){e.value(""),e.updateInitialValue(),e.resetModel()}function c(e){o(function(){n(e),e.validation.show=void 0})}function u(e,t){var a,r,i,s=8,n=46;-1!==[s,n].indexOf(e.keyCode)&&(a=e.target,r=a.selectionStart,i=a.selectionEnd,o(function(){t.value(a.value),t.updateInitialValue(),t.resetModel(),e.keyCode===s&&r>=i&&r--,a.selectionEnd=a.selectionStart=r}))}var d=this,p=r.GLOBAL.ADDRESSLOOKUP,m=p.NOTLISTED,g={},f=3;angular.extend(d,{addressChange:n,getAddress:s,minCharLength:f,modelOptions:g,resetAddress:l,onBlur:c,onKeyDown:u},p)}e.$inject=["$scope","DataSanService","addressFieldsSvc","SNIPPETS","$timeout"],angular.module("ui-patterns").controller("addressInputController",e)}(),function(){"use strict";angular.module("ui-patterns").controller("cardExamplesController",["$scope","SNIPPETS","$modalInstance","resourcePath",function(e,t,a,r){e.lastNameCard=r+"/images/last-name-card.png",e.driversLicenceNumber=r+"/images/drivers-licence-number.png",e.photoCardNumber=r+"/images/photo-card-number.png",e.numberBackOfCard=r+"/images/number-back-of-card.png",e.photoCardNumberBack=r+"/images/photo-card-number-back.png",e.heading=t.RMS.CHANGEDETAILS.CARDEXAMPLESMODAL.TITLE,e.body=t.RMS.CHANGEDETAILS.CARDEXAMPLESMODAL.BODY,e.close=function(){a.close()}}])}(),function(){"use strict";angular.module("ui-patterns").controller("cardNumberModalController",["$scope","SNIPPETS","$modalInstance","resourcePath",function(e,t,a,r){e.numberBackOfCard=r+"/images/number-back-of-card.png",e.heading=t.RMS.CHANGEDETAILS.CARDNUMBERMODAL.TITLE,e.close=function(){a.close()}}])}(),function(){"use strict";function e(e){e.labels&&!e.label&&(e.to.label=e.to.labels.reduce(function(e,t){return e+" "+t.text},""))}e.$inject=["$scope"],angular.module("ui-patterns").controller("checkboxLabelWithModalController",e)}(),function(){"use strict";angular.module("ui-patterns").controller("declarationButtonsController",["$scope","$timeout","$filter","declarationButtonsService",function(e,t,a,r){var o=this;o.focusHash={},e.getTextAreaId=function(t){var a,r=e.to.options.key;return a="add-"+r+"-"+t},e.onClick=function(t){if(e.model[e.to.options.key]={id:t.id,text:t.text},"no"===t.text.toLowerCase()){var o=a("filter")(e.fields,function(t){return t.key===e.to.options.key})[0];o.pristine=!0,o.formControl&&(o.formControl.$dirty=o.formControl.$touched=!1)}r.setMyVisibleQuestions(e.to.options.key,"yes"===t.text.toLowerCase()?1:0)},e.activeRadioButton=function(t){var a=e.model[e.to.options.key];return a&&a.id===t.id},e.getIndexNumber=function(){var t,a=e.to.index,o=0;for(t=0;a>=t;t++)o+=r.myVisibleQuestions[t];return o},e.showToggleButton=function(){var t=e.to.options.displayType;return"toggle"===t},e.showRadioButton=function(){var t=e.to.options.displayType;return"radio-inline"===t||"radio-block"===t},e.getRadionButtonStyle=function(){return e.to.options.displayType},e.showAdditional=function(a,r){var i=e.model[e.to.options.key],s=a.dependency&&i&&i.id===a.dependency,n=e.getTextAreaId(r);return s?o.focusHash[n]||(o.focusHash[e.getTextAreaId(r)]=!0,t(function(){var e=document.getElementById(n);e&&(e.value&&""!==e.value||e&&e.focus())},200)):o.focusHash[n]=!1,s}}]).service("declarationButtonsService",function(){var e=this;e.myVisibleQuestions=null,e.initVisibleQuestions=function(t){var a,r;if(!e.myVisibleQuestions)for(e.myVisibleQuestions=new Array(t.length),e.hashQuestionTrigger={},a=0;a<t.length;a++)r=t[a],e.myVisibleQuestions[a]=r.deps&&r.deps.dependency?0:1,e.hashQuestionTrigger[r.deps.dependency]=r.key},e.setMyVisibleQuestions=function(t,a){var r=e.hashQuestionTrigger[t];r&&(e.myVisibleQuestions[parseInt(r,10)-1]=a)}})}(),function(){"use strict";function e(e){e.to.labels&&!e.to.label&&(e.to.label=e.to.labels.reduce(function(e,t){return e+" "+t.text},""))}e.$inject=["$scope"],angular.module("ui-patterns").controller("generateLabelFromLabelsController",e)}(),function(){"use strict";angular.module("ui-patterns").controller("snswModalController",["$rootScope","$scope","$state","SNIPPETS","$window","$modalInstance","$sce","pageLeaveAlert","logoutUrl","user","snswSiteUrl",function(e,t,a,r,o,i,s,n,l,c,u){t.SNIPPETS=r,t.body&&(t.body=s.trustAsHtml(t.body)),t.close=function(){i.dismiss("close")},t.cancel=function(){if("RMS_TRANSACTION_TIME_OUT"===t.statusMessage){var e=o.location.origin?o.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");window.location.href=c&&c.isAuthenticated?e+l:u}else i.dismiss("cancel"),t.$parent.secondaryLink&&(n.destroy(),o.location.href=t.$parent.secondaryLink),t.$parent.secondaryState&&(n.destroy(),a.go(t.$parent.secondaryState,t.$parent.secondaryStateparams))},t["continue"]=function(){i.close(),n.destroy(),t.$parent.primaryLink&&(n.destroy(),o.location.href=t.$parent.primaryLink)},t.returnMessageStyle=function(e){return"WARNING"===e?"alert alert-warning":void 0},t.toggleModalBody=function(e){e.preventDefault(),t.toggleShowInitial=!t.toggleShowInitial}}])}(),function(){"use strict";function e(e){function t(t){var a=e.options.validation.messages[t];return a?a(e.fc.$viewValue,e.fc.$modelValue,e):void 0}e.options.data.getValidationMessage=t}e.$inject=["$scope"],angular.module("ui-patterns").controller("validationSummaryController",e)}(),function(){"use strict";angular.module("ui-patterns").directive("snswActivityPanel",function(){return{restrict:"E",scope:{step:"="},templateUrl:"ui-patterns/directives/snswActivityPanel.html"}})}(),function(){"use strict";angular.module("ui-patterns").directive("snswDashboardCard",function(){return{transclude:!0,replace:!0,scope:{},templateUrl:"ui-patterns/directives/snswDashboardCard.html",link:function(e,t,a,r){e.attrs=a}}})}(),function(){"use strict";angular.module("ui-patterns").directive("snswDisableAutoFill",function(){return{restrict:"A",transclude:!1,link:function(e,t,a){var r=Math.floor(1e5*Math.random()).toString();t.after('<input style="display:none" type="password" name="'+r+'" class="disable-auto-fill-2" />').after('<input style="display:none" type="text" name="'+r+'" class="disable-auto-fill-1" />')}}})}(),function(){"use strict";angular.module("ui-patterns").directive("snswDynamicContent",["$compile","pageLeaveAlert","$state","commonUtil",function(e,t,a,r){return{restrict:"E",replace:!0,link:function(r,o,i){i.html=i.html.replace(/&quot;/g,'"'),i.html=i.html.replace(/\&lt;/g,"<"),i.html=i.html.replace(/\&gt;/g,">"),i.html=i.html.replace(/<a href=\"http([^"']*)\"(\s+target=\"?_blank?\")?/g,function(e,t,a){return a?"<a ng-click=openModal()":'<a ng-click=openLink("http'+t+'")'}),i.html=i.html.replace(/^'/g,"").replace(/'$/,"").replace(/'/g,"&#39;"),i.html="'"+i.html+"'",i.$observe("html",function(t){t=t.replace(/&quot;/g,'"'),t=t.replace(/\&lt;/g,"<"),t=t.replace(/\&gt;/g,">"),t=t.replace(/<a href=\"https?([^"']*)\"(\s+target=\"?_blank?\")?/g,function(e,t,a){return a?"<a ng-click=openModal()":'<a ng-click=openLink("http'+t+'")'}),t=t.replace(/<a href=\"file:\/\/([^"']*)\"/g,function(e,t){return'<a ng-click=openFile("'+t+'")'}),t=t.replace(/^'/g,"").replace(/'$/,"").replace(/'/g,"&#39;"),o.html(t),e(o.contents())(r)}),r.openLink=function(e){r.to&&r.to.openLink?r.to.openLink(e):(t.listen(),a.get("file").externalUrl=e,a.go("file"),t.destroy())},r.openModal=function(){r.to&&r.to.openModal&&r.to.openModal()},r.openFile=function(e){r.to&&r.to.openFile&&r.to.openFile(e)}}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswErrorMessages",["$sce","pageLeaveAlert","$state","$rootScope",function(e,t,a,r){return{restrict:"E",replace:!0,scope:{messages:"="},templateUrl:"ui-patterns/directives/snswErrorMessages.html",link:function(o,i,s){angular.isUndefined(o.messages)&&r.$watch("errorMessages",function(e){o.messages=e}),o.hasErrorMessage=function(){return!!(o.messages&&o.messages.length>0)},o.getErrorMessageStyle=function(e){var t=e.severity?e.severity.toLowerCase():"error";return"error"===t?"alert-danger":"warning"===t||"info"===t||"information"===t?"alert-info":"success"===t?"alert-success":void 0};o.allMessages=function(){return o.messages},o.getMessage=function(t){return e.trustAsHtml(t.message)},o.openLink=function(e){t.listen(),a.get("file").externalUrl=e,a.go("file"),t.destroy()}}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswFeedbackForm",["$rootScope","$stateParams","userService","snswSiteUrl","$window",function(e,t,a,r,o){return{replace:!0,templateUrl:"ui-patterns/directives/snswFeedbackForm.html",scope:{hideHr:"@?"},link:{pre:function(t){function i(){return[{key:"whatDoing",type:"input",wrapper:["label","validation","bootstrap-row-col"],templateOptions:{label:"What you were doing",maxlength:255,placeholder:" ",bootstrapColClassNames:"col-xs-12"}},{key:"whatWrong",type:"input",wrapper:["label","validation","bootstrap-row-col"],templateOptions:{label:"What went wrong",maxlength:255,placeholder:" ",bootstrapColClassNames:"col-xs-12"}}]}function s(){t.success=!0,t.error=!1}function n(){t.error=!0}t.showFeedbackForm=!1,t.snswSiteUrl=r,t.options={},t.model={},t.success=!1,t.error=!1,t.fields=i(),t.onSubmit=function(){a.submitFeedbackForm(t.model.whatDoing,t.model.whatWrong,o.location.href,navigator.userAgent.toString()).then(s)["catch"](n)};var l=e.$on("$viewContentLoading",function(){t.showFeedbackForm=!1,t.success=!1,t.error=!1,t.options.resetModel(),t.form.$setPristine(),t.form.$setUntouched(),t.fields=i()});t.$on("$destroy",l)}}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswFooterBlock",["user","SNIPPETS","snswSiteUrl",function(e,t,a){return{restrict:"E",transclude:!0,replace:!0,templateUrl:"ui-patterns/directives/snswFooterBlock.html",link:{pre:function(e,r,o){e.snswSiteUrl=a,e.auth=!1,e.SNIPPETS=t,e.HEADINGS=t.GLOBAL.HEADINGS,e.showWebsiteInformation=!1,
e.toggleWebsiteInformation=function(){e.showWebsiteInformation=!e.showWebsiteInformation}}}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswFooterBlockButton",function(){return{restrict:"E",transclude:!0,replace:!0,scope:{iconType:"@",iconSize:"@"},templateUrl:"ui-patterns/directives/snswFooterBlockButton.html",link:{pre:function(e,t,a,r){}}}})}(),function(){"use strict";angular.module("ui-patterns").directive("snswFooterBlockInfoLinks",["snswSiteUrl",function(e){return{transclude:!1,replace:!0,templateUrl:"ui-patterns/directives/snswFooterBlockInfoLinks.html",link:{pre:function(t,a,r){t.snswSiteUrl=e}}}}])}(),function(){"use strict";function e(e){return{restrict:"E",transclude:!0,replace:!0,scope:{firstStep:"&",lastStep:"&",leftAction:"&",rightAction:"&",formHasError:"&",vertical:"&",leftDisabled:"&",leftHidden:"&",leftTitle:"&",rightDisabled:"&",rightHidden:"&",rightTitle:"&",leftClassName:"=",rightClassName:"=",formIsBlocked:"&"},controller:["$scope",function(t){t.getLeftTitle=function(){return t.leftTitle()?t.leftTitle():t.firstStep()?"Quit":"Back"},t.getRightTitle=function(){return t.rightTitle()?t.rightTitle():"Next"},t.isLeftDisabled=function(){return e.isLoading?!0:t.leftDisabled()},t.isRightDisabled=function(){return e.isLoading?!0:t.rightDisabled()}}],templateUrl:"ui-patterns/directives/snswFormCmdBar.html"}}e.$inject=["$rootScope"],angular.module("ui-patterns").directive("snswFormCmdbar",e)}(),function(){"use strict";function e(e,t){var a=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,r={email:{name:"email",label:t.GLOBAL.FORMS.EMAIL.LABELFORPRIMARYEMAIL,validationRegex:a,validationError:t.GLOBAL.FORMS.EMAIL.VALIDATION.ERRORMESSAGE,showValidation:!0},alternateEmail:{name:"alternateEmail",label:t.GLOBAL.FORMS.EMAIL.LABELFORALTERNATEEMAIL,validationRegex:a,validationError:t.GLOBAL.FORMS.EMAIL.VALIDATION.ERROR,showValidation:!0},otherEmail:{name:"otherEmail",label:t.GLOBAL.FORMS.EMAIL.LABELFOROTHEREMAIL,validationRegex:a,validationError:t.GLOBAL.FORMS.EMAIL.VALIDATION.ERROR,showValidation:!0}};return r[e]||{}}angular.module("ui-patterns").directive("snswFormFieldEmail",["SNIPPETS",function(t){return{transclude:!1,replace:!0,templateUrl:"ui-patterns/directives/snswFormFieldEmail.html",scope:{ngModel:"=",ngFocus:"&?",ngChange:"&?",hideLabel:"=?"},require:"^form",link:{pre:function(a,r,o,i){o.field=o.field||"email",o.mode=o.mode||"edit";var s=e(o.field,t);angular.forEach(s,function(e,t){o[t]||(o[t]=e)}),a.fc=i,a.attrs=o,angular.isUndefined(o.required)||r.find("input").attr("required","required").attr("aria-required","true")}}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswFormFieldLabel",function(){return{transclude:!0,replace:!0,scope:{},templateUrl:"ui-patterns/directives/snswFormFieldLabel.html"}})}(),function(){"use strict";angular.module("ui-patterns").directive("snswFormFieldPassword",["SNIPPETS","$sce","$timeout",function(e,t,a){return{transclude:!1,replace:!0,templateUrl:"ui-patterns/directives/snswFormFieldPassword.html",scope:{ngModel:"=",disableHint:"=",ngDisabled:"="},require:"^form",link:{pre:function(r,o,i,s){var n={password:{name:"password",label:e.GLOBAL.FORMS.PASSWORD.LABEL,validationRegex:e.GLOBAL.FORMS.PASSWORD.VALIDATIONREGEX,validationError:e.GLOBAL.FORMS.PASSWORD.VALIDATION.HINT,validationHint:e.GLOBAL.FORMS.PASSWORD.VALIDATION.HINT,showStrength:!1,showForgot:!1,showValidation:!0},confirmPassword:{name:"confirmPassword",label:e.GLOBAL.FORMS.CONFIRMPASSWORD.LABEL,showStrength:!1,validationError:e.GLOBAL.FORMS.CONFIRMPASSWORD.VALIDATION.HINT}};"true"===i.showStrength&&(i.showStrength=!0),"true"===i.showForgot&&(r.showForgot=!0),i.field=i.field||"password",i.mode=i.mode||"edit";var l=n[i.field]||{};angular.forEach(l,function(e,t){i[t]||(i[t]=e)}),r.fc=s,r.passwordVisible=!1,r.togglePasswordVisible=function(e){r.passwordVisible=!r.passwordVisible},i.showStrength===!0&&(r.showStrength=!1,r.onKeyDown=function(e){a(function(){r.showStrength=e.target.value.length>0,r.$apply()})}),r.attrs=i,r.attrs.validationError=t.trustAsHtml(r.attrs.validationError),angular.isUndefined(i.required)||o.find("input").attr("required","").attr("aria-required","true")}}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswFormFieldPhone",["SNIPPETS","countryCodes","regex",function(e,t,a){return{transclude:!1,replace:!0,templateUrl:"ui-patterns/directives/snswFormFieldPhone.html",scope:{ngModel:"=",ngShow:"=",ngHide:"=",ngDisabled:"=",id:"=",ariaLabel:"="},require:"^form",link:{pre:function(r,o,i,s){r.countryCodes=t,r.regex=a.mobileCodeNumber,r.placeholder=i.placeholder||e.GLOBAL.FORMS.MOBILEPHONE.PLACEHOLDER,r.fc=s,r.attrs=i,r.SNIPPETS=e}}}}])}(),function(){"use strict";function e(){function e(e,r,o){e.pattern=o.regex,e.score=10,e.progressClass="progress-bar-danger",e.labelText="Weak",e.width=10,a=r,e.$watch("password",function(r){e.score=t(r,e.pattern),e.score<=33&&(e.progressClass="progress-bar-danger",e.labelText="Weak",e.width=10),e.score>33&&e.score<100&&(e.progressClass="progress-bar-info",e.labelText="Good",e.width=60),e.score>=100&&(e.progressClass="progress-bar-password-strong",e.labelText="Strong",e.width=100),a[0].getElementsByClassName("progress-bar")[0].setAttribute("style","width: "+e.width+"%;")})}function t(e,t){var a=0;if(t?e.search(t)>-1&&(a+=20):(e.length>5&&(a+=10),e.length>10&&(a+=10)),a>0){var r=/.*[a-z]/,o=/.*[A-Z]/,i=/.*[\d]/,s=/.*[\W]/;a+=e.match(r)?20:0,a+=e.match(o)?20:0,a+=e.match(i)?20:0,a+=e.match(s)?20:0}return a}var a,r={restrict:"E",transclude:!1,replace:!0,scope:{password:"@",regex:"@"},templateUrl:"ui-patterns/directives/snswFormPasswordStrengthIndicator.html",link:e};return r}angular.module("ui-patterns").directive("snswFormPasswordStrengthIndicator",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{form:"=",fields:"="},restrict:"E",replace:!0,templateUrl:"ui-patterns/directives/snswFormlyValidationSummary.html",controllerAs:"vm",controller:function(){function e(e){var t=Object.keys(e.formControl.$error).map(function(t){return e.data.getValidationMessage(t)}).join(", ");return t}function t(){var e=[];return angular.forEach(r.fields,a,e),r.count=e.length,e}function a(e){var t=r.form||{},o=e.formControl||{};o.$invalid&&t.$submitted&&this.push(e),e.fieldGroup&&angular.forEach(e.fieldGroup,a,this)}var r=this;angular.extend(r,{getValidationSummary:e,invalidFields:t,count:0})}}}angular.module("ui-patterns").directive("snswFormlyValidationSummary",e)}(),function(){"use strict";angular.module("ui-patterns").directive("snswHeaderBlock",["resourcePath","$rootScope","user","snswSiteUrl","snswModal","SNIPPETS","$sce","redirectService","logoutUrl","$location","$window",function(e,t,a,r,o,i,s,n,l,c,u){return{replace:!0,templateUrl:"ui-patterns/directives/snswHeaderBlock.html",link:function(s){s.HEADINGS=i.GLOBAL.HEADINGS,s.snswSiteUrl=r,s.resourcePath=e,s.isUserAuthenticated=a&&a.isAuthenticated,s.showSearchBar=!0,s.loginUrl=n.loginUrl("dashboard"),s.logoutUrl=l,s.$on("hideSearchBar",function(){s.showSearchBar=!1}),s.$on("showSearchBar",function(){s.showSearchBar=!0}),s.logoutConfirm=function(e){e.preventDefault(),t.forceRedirect=!0,o.open({heading:i.MYACCOUNT.LOGOUTCONFIRMMODAL.HEADING,body:i.MYACCOUNT.LOGOUTCONFIRMMODAL.AREYOUSURE,primaryButton:i.MYACCOUNT.LOGOUTCONFIRMMODAL.LOGOUT}).then(function(e){var t=u.location.origin?u.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");window.location.href=t+l})},s.showMenu=function(){t.$broadcast("showMenu",!angular.element(document.getElementsByTagName("BODY")).hasClass("showmenu"))}}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswIcon",function(){return{restrict:"E",transclude:!1,replace:!0,scope:{id:"@",ariaLabel:"@",iconSize:"@",classNames:"@"},templateUrl:"ui-patterns/directives/snswIcon.html",link:function(e,t,a){e.classNames=a.hasOwnProperty("classNames")?a.classNames:"",e.iconClass=a.hasOwnProperty("iconType")?e.iconClass="fa-"+a.iconType:e.iconClass="fa-question-circle",e.iconSizeClass=a.hasOwnProperty("iconSize")?"fa-"+a.iconSize:""}}})}(),function(){"use strict";angular.module("ui-patterns").directive("inputCurrency",["$filter",function(e){return{restrict:"A",require:"ngModel",scope:{digitsMaxLength:"="},link:function(t,a,r,o){var i,s=function(e){if(e.$modelValue){for(var t=e.$modelValue,a=e.$formatters,r=a.length;r--;)t=a[r](t);e.$viewValue!==t&&(e.$viewValue=t,e.$render())}};a.on("focus",function(){i=!0,s(o)}),a.on("blur",function(){i=!1,s(o)}),o.$parsers.push(function(e){if(void 0===e||""===e)return"";var a=e.replace(/[^0-9]/g,"");return t.digitsMaxLength>0&&(a=a.slice(0,t.digitsMaxLength)),a!==e&&(o.$setViewValue(a),o.$render()),e=a,"string"==typeof e&&(e=e.replace(/\.\d\d$/,""),e=e.replace(/, */,""),e=parseInt(e,10)),e}),o.$formatters.push(function(t){return i===!0?t:(t&&(t=e("currency")(t,""),t=t.replace(/\.00/,"")),t)})}}}])}(),function(){"use strict";function e(){return{scope:{},restrict:"AE",transclude:!0,replace:!0,bindToController:{label:"=",unboldLabel:"=",labelValue:"=",boldLabelValue:"=",filter:"=",isNotFormGroup:"="},templateUrl:"ui-patterns/directives/snswLabelValue.html",controllerAs:"to",controller:["$scope","$interpolate",function(e,t){var a=this;if(a.filter){var r=t("{{ value | "+a.filter+"}}");a.labelValue&&(a.labelValue=r({value:a.labelValue})),a.boldLabelValue&&(a.boldLabelValue=r({value:a.boldLabelValue}))}}]}}angular.module("ui-patterns").directive("snswLabelValue",e)}(),function(){"use strict";function e(){return{scope:{},restrict:"E",replace:!0,bindToController:{filterBy:"=",licenceDetails:"="},templateUrl:"ui-patterns/directives/snswLicenceDetails.html",controllerAs:"snswLicenceDetails",controller:function(){this.hasErrorMessage=function(e){return e=e||[],e.some(function(e){return"ERROR"===e.severity})}}}}angular.module("ui-patterns").directive("snswLicenceDetails",e)}(),function(){"use strict";angular.module("ui-patterns").directive("snswLoader",["$sce","snswLoading",function(e,t){return{replace:!1,templateUrl:"ui-patterns/directives/snswLoader.html",link:function(a){a.htmlContent="",t.onMessage(a,function(t){a.htmlContent=e.trustAsHtml(t)})}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswMenu",["SNIPPETS","$rootScope","user","isPoliceVisible","snswSiteUrl",function(e,t,a,r,o){return{restrict:"E",replace:!0,templateUrl:"ui-patterns/directives/snswMenu.html",link:function(i){i.SNIPPETS=e,i.snswSiteUrl=o,i.isUserAuthenticated=a&&a.isAuthenticated,i.isPoliceVisible=r,t.showMenu=!1;var s=angular.element(document.getElementsByTagName("BODY"));t.$on("showMenu",function(e,t){s.toggleClass("showmenu",t),t||(s.addClass("showmenu_animation_pending"),setTimeout(function(){s.removeClass("showmenu_animation_pending")},300))}),angular.element(document.getElementsByClassName("panel")[0]).on("click tap",function(){t.$broadcast("showMenu",!1)}),i.onClick=function(){t.$broadcast("showMenu",!1)}}}}])}(),function(){"use strict";function e(){return{scope:{},restrict:"AE",transclude:!0,bindToController:{options:"="},templateUrl:"ui-patterns/directives/snswMessagePanel.html",controllerAs:"to",controller:function(){}}}angular.module("ui-patterns").directive("snswMessagePanel",e)}(),function(){"use strict";angular.module("ui-patterns").directive("snswMoreInfoPanel",function(){return{scope:{},restrict:"AE",transclude:!0,bindToController:{heading:"=",body:"="},controllerAs:"moreInfo",templateUrl:"ui-patterns/directives/snswMoreInfoPanel.html",controller:function(){var e=this;e.isOpen=!1,e.toggleMoreInfo=function(){e.isOpen=!e.isOpen}}}})}(),function(){"use strict";angular.module("ui-patterns").directive("snswMyAccountTabs",function(){return{restrict:"E",replace:!1,scope:{newUser:"@","class":"@"},link:function(e){e.showAllTabs=function(){return"true"!==e.newUser}},templateUrl:"ui-patterns/directives/snswMyAccountTabs.html"}})}(),function(){"use strict";angular.module("ui-patterns").directive("snswNotifications",function(){return{restrict:"E",replace:!0,transclude:!0,scope:{},templateUrl:"ui-patterns/directives/snswNotifications.html",link:function(e,t,a){e.type=a.type||"info",e.dismissable=angular.isUndefined(a.dismissable)?!0:"true"===a.dismissable,e.close=function(){t.remove()}}}})}(),function(){"use strict";angular.module("ui-patterns").directive("snswPageHeading",["SNIPPETS",function(e){return{transclude:!0,replace:!0,scope:{title:"@"},templateUrl:"ui-patterns/directives/snswPageHeading.html",link:function(t,a,r){t.attrs=r,t.SNIPPETS=e}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswPagePanel",["SNIPPETS",function(e){return{transclude:!0,replace:!0,scope:{},templateUrl:"ui-patterns/directives/snswPagePanel.html",link:function(e,t,a,r){e.attrs=a,a.buttonOptions&&(e.attrs.buttonSrefOpts={successState:a.buttonOptions,header:a.title})}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswPageSubHeading",function(){return{transclude:!0,scope:{},templateUrl:"ui-patterns/directives/snswPageSubHeading.html",link:{pre:function(e,t,a,r){}}}})}(),function(){"use strict";angular.module("ui-patterns").directive("snswPanelDefault",function(){return{restrict:"E",transclude:!0,scope:{},templateUrl:"ui-patterns/directives/snswPanelDefault.html",link:function(e,t,a){}}})}(),function(){"use strict";angular.module("ui-patterns").directive("snswPassword",["SNIPPETS",function(e){return{restrict:"E",transclude:!0,scope:{id:"@",name:"@",ariaLabel:"@",ngModel:"=",ngPattern:"=",ngDisabled:"=",ngBlur:"=",ngFocus:"="},templateUrl:"ui-patterns/directives/snswPassword.html",link:function(t,a,r){t.SNIPPETS=e,t.passwordVisible=!1,t.togglePasswordVisible=function(){t.passwordVisible=!t.passwordVisible},t.disablePaste=function(e){e.preventDefault()},angular.isUndefined(r.required)||a.find("input").attr("required","").attr("aria-required","true")}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswPaymentHeader",["resourcePath",function(e){return{restrict:"E",transclude:!1,replace:!0,scope:{},templateUrl:"ui-patterns/directives/snswPaymentHeader.html",link:{pre:function(t,a,r,o){t.resourcePath=e}}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswPrintButton",["SNIPPETS",function(e){function t(e,t,a){t.on("click",function(){window.print()})}return{restrict:"E",templateUrl:"ui-patterns/directives/snswPrintButton.html",link:t}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswPrintPdfButton",["rmsPdfService",function(e){function t(t){t.printReceipt=function(){window.print()},t.printPDF=function(){e.getPdfAttachment(t.transactionToken,t.fileName,null).then(function(a){var r={fileData:a.statusObject.base64Body,fileName:t.fileName};return e.openPdf(r)})}}return{restrict:"E",scope:{transactionToken:"=?",fileName:"@",printPdfLabel:"@"},templateUrl:"ui-patterns/directives/snswPrintPdfButton.html",link:t}}])}(),function(){"use strict";function e(){return{scope:{},restrict:"E",transclude:!0,bindToController:{body:"@?"},templateUrl:"ui-patterns/directives/snswPrivacyModalLink.html",controllerAs:"to",controller:["snswModal","$templateCache",function(e,t){this.openModal=function(){var a={};this.body&&(a.body=t.get(this.body)),e.privacyStatement(a)}}]}}angular.module("ui-patterns").directive("snswPrivacyModalLink",e)}(),function(){"use strict";angular.module("ui-patterns").directive("snswProducts",["dashboardService","$state","$sce","SNIPPETS",function(e,t,a,r){return{replace:!0,scope:{items:"=",showEverything:"="},templateUrl:"ui-patterns/directives/snswProducts.html",link:function(o,i,s,n){o.cachedItems=null,o.hasMoreItems=!1,o.getItems=function(){return o.cachedItems||(o.cachedItems=[]),o.cachedItems.length||(o.showEverything?o.cachedItems=o.items:o.items&&(o.cachedItems=o.items.length>2?o.items.slice(0,2):o.items,o.hasMoreItems=o.items.length>2)),o.cachedItems},o.hasItems=function(){if(!o.getItems)return!1;var e=o.getItems();return e?0!==e.length:!1},o.getBodyCopy=function(){var e="";return o.hasItems()?o.showEverything&&(e=r.MYACCOUNT.DASHBOARD.FULLWALLET):e=o.showEverything?r.MYACCOUNT.DASHBOARD.VERBOSEEMPTYWALLET:r.MYACCOUNT.DASHBOARD.EMPTYWALLET,a.trustAsHtml(e)},o.getPlateNumber=function(e){return e.plate.plateNumber},o.getLicenceNumber=function(e){return e.number},o.getDateOfBirth=function(e){return e.dateOfBirth},o.getFormattedExpiryDate=function(t){return e.getFormattedExpiryDate(t)},o.getAddress=function(t){return e.removeAroundBrackets(t.unstructuredAddressText)},o.getNameOnLicence=function(t){var a=t.customerName?t.customerName.givenName+(t.customerName.middleName&&""!==t.customerName.middleName?" "+e.removeAroundBrackets(t.customerName.middleName)+" ":" ")+t.customerName.familyName:null;return a},o.getDemeritPoints=function(e){return e.totalDemeritPoints?e.totalDemeritPoints.total:null},o.isRegistrationInfo=function(t){return e.isRegistrationInfo(t)},o.getExpireLabel=function(t){return e.isRegistrationInfo(t)?"Vehicle Rego":"Driver Licence"},o.getLicenceClass=function(t){return e.getLicenceClass(t)},o.getLicenceTypeOrRegoType=function(t){var a;return a=e.isRegistrationInfo(t)?t.plate&&t.registeredVehicle&&t.registeredVehicle.vehicleModel?t.plate.plateNumber+", "+t.registeredVehicle.vehicleModel.model.code:null:e.getLicenceClass(t)},o.getVehicleModel=function(e){return e.registeredVehicle&&e.registeredVehicle.vehicleModel?e.registeredVehicle.vehicleModel.model.code:null},o.getVehicleVINChassisNumber=function(e){return e.registeredVehicle?e.registeredVehicle.last4DigitalOfVINChassisNumber:null},o.getTareWeight=function(e){var t=e.registeredVehicle?e.registeredVehicle.tareWeight:null;return t},o.getGVM=function(e){return e.registeredVehicle?e.registeredVehicle.GVM:null},o.getUsage=function(e){return e.registrationUsage&&e.registrationUsage.usageType?e.registrationUsage.usageType.description:null},o.getCTPExpiryDate=function(t){if(!t.appliedCTPPolicy||!t.appliedCTPPolicy.CTPExpiryDate)return null;var a=new Date(t.appliedCTPPolicy.CTPExpiryDate);return e.getFriendlyDateString(a)},o.getInsurer=function(e){if(!e.appliedCTPPolicy||!e.appliedCTPPolicy.CTPInsurer)return null;var t=e.appliedCTPPolicy.CTPInsurer;return t.insurerName+", "+t.insurerCode},o.getVehicleDescription=function(e){var t=e.registeredVehicle.vehicleModel.manufactureYear+" "+e.registeredVehicle.primaryColour.description+" "+e.registeredVehicle.vehicleModel.model.description+" "+e.registeredVehicle.vehicleModel.bodyShape.description;return t},o.renew=function(a){e.startRenew(a,t)},o.renewDoable=function(t){return e.renewDoable(t)}}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswPspSubmitForm",["$sce","pspURL",function(e,t){return{restrict:"E",replace:!0,scope:{},templateUrl:"ui-patterns/directives/snswPspSubmitForm.html",link:{pre:function(a,r,o,i){a.pspURL=e.trustAsResourceUrl(t)}}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswRadioTabbable",["$state",function(e){var t={};return{restrict:"A",link:{pre:function(e,a,r){var o=a[0],i=t[o.name]=t[o.name]||[];i.push(o),o.addEventListener("keydown",function(e){setTimeout(function(){var t=i.indexOf(e.target);9===e.keyCode&&(t<i.length-1&&!e.shiftKey?i[t+1].focus():t>0&&e.shiftKey&&i[t-1].focus())})})}}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswReCaptcha",["$document","$timeout","snswReCaptchaService",function(e,t,a){return{restrict:"A",require:"?^^form",scope:{response:"=?ngModel",key:"=",theme:"=?",size:"=?",tabindex:"=?",onCreate:"&",onSuccess:"&",onExpire:"&"},link:function(r,o,i,s){function n(){s&&s.$setValidity("recaptcha",null),c&&(t.cancel(c),c=null),l()}function l(){angular.element(e[0].querySelectorAll(".pls-container")).parent().remove()}if(!i.hasOwnProperty("key"))throw new Error('You need to set the "key" attribute to your public reCaptcha key. If you don\'t have a key, please get one from https://www.google.com/recaptcha/admin/create');r.widgetId=null;var c,u=r.$watch("key",function(e){if(e){if(40!==e.length)throw new Error('You need to set the "key" attribute to your public reCaptcha key. If you don\'t have a key, please get one from https://www.google.com/recaptcha/admin/create');var l=function(e){t(function(){s&&s.$setValidity("recaptcha",!0),r.response=e,r.onSuccess({response:e,widgetId:r.widgetId})}),c=t(function(){s&&s.$setValidity("recaptcha",!1),r.response="",r.onExpire({widgetId:r.widgetId})},12e4)};a.create(o[0],e,l,{theme:r.theme||i.theme||null,tabindex:r.tabindex||i.tabindex||null,size:r.size||i.size||null}).then(function(e){s&&s.$setValidity("recaptcha",!1),r.widgetId=e,r.onCreate({widgetId:e}),r.$on("$destroy",n)}),u()}})}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswReceiptDoMore",["pageLeaveAlert","$state","$sce","SNIPPETS","logoutUrl","redirectService","snswSiteUrl","snswModal",function(e,t,a,r,o,i,s,n){return{restrict:"E",transclude:!1,replace:!0,scope:{isauthenticated:"@",link:"@"},templateUrl:"ui-patterns/directives/snswReceiptDoMore.html",link:{pre:function(e){e.SNIPPETS=r,e.snswSiteUrl=s,e.register=function(){t.go("createAccount")},e.getRegister=function(){return a.trustAsHtml(r.RMS.RECEIPT.DOMORE.REGISTERBODYLABEL)},e.logout=function(){n.open({heading:r.MYACCOUNT.LOGOUTCONFIRMMODAL.HEADING,body:r.MYACCOUNT.LOGOUTCONFIRMMODAL.AREYOUSURE+(document.getElementsByClassName("ng-dirty").length>0?r.MYACCOUNT.LOGOUTCONFIRMMODAL.YOUWILLLOSE:""),primaryButton:r.MYACCOUNT.LOGOUTCONFIRMMODAL.LOGOUT}).then(i.logOut)}}}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswReceiptLogo",["resourcePath","SNIPPETS",function(e,t){return{restrict:"E",transclude:!1,replace:!0,scope:{hidePrintButton:"=?",displayPrintPdfButton:"=?",transactionToken:"=?",fileName:"=?",printPdfLabel:"=?"},templateUrl:"ui-patterns/directives/snswReceiptLogo.html",link:{pre:function(a){a.SNIPPETS=t,a.resourcePath=e,a.glItems&&(a.transferGLItems=JSON.parse(a.glItems))}}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswReceiptMessage",["SNIPPETS",function(e){return{restrict:"E",transclude:!1,replace:!0,scope:{receiptMessage:"@"},templateUrl:"ui-patterns/directives/snswReceiptMessage.html",link:{pre:function(t,a,r,o){t.SNIPPETS=e}}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswSearchBlock",["resourcePath","SNIPPETS","snswSiteUrl","$sce",function(e,t,a,r){return{replace:!0,scope:{small:"@"},templateUrl:"ui-patterns/directives/snswSearchBlock.html",link:function(o){o.HEADINGS=t.GLOBAL.HEADINGS,o.resourcePath=e,o.searchFormAction=r.trustAsResourceUrl(a+"search-results")}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswSurveyPanel",["snswSiteUrl",function(e){return{templateUrl:"ui-patterns/directives/snswSurveyPanel.html",link:{pre:function(t,a,r){t.snswSiteUrl=e}}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswTab",["$state",function(e){return{restrict:"E",transclude:!1,replace:!0,scope:{uiSref:"@",title:"=?"},templateUrl:"ui-patterns/directives/snswTab.html",link:{pre:function(t,a,r){var o=e.get(t.uiSref);o&&(t.title=t.title||o.tabTitle||o.data.title,e.current&&(t.active=o.name===e.current.name||o.name===e.current.parentName)),t.href=r.href||""}}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswTabs",["$state",function(e){return{restrict:"E",transclude:!0,replace:!0,scope:{"class":"@"},templateUrl:"ui-patterns/directives/snswTabs.html",link:{pre:function(e,t,a){}}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswTimeline",["dashboardService","$state",function(e,t){return{replace:!0,scope:{items:"=",showEverything:"="},templateUrl:"ui-patterns/directives/snswTimeline.html",link:function(a,r,o,i){a.cachedItems=null,a.hasMoreItems=!1,a.renew=function(a){e.startRenew(a,t)},a.getItems=function(){var t,r,o=new Date,i=0;if(a.cachedItems||(a.cachedItems=[]),!a.cachedItems.length)if(a.showEverything)a.cachedItems=a.items;else{for(t=0;t<a.items.length;t++)r=a.items[t],e.getExpiryDate(r)>=o&&(i++,!a.cachedItems.length&&t>0&&a.cachedItems.push(a.items[t-1]),a.cachedItems.push(r));i?i>=2&&i<a.cachedItems.length&&a.cachedItems.shift():t>0&&!a.cachedItems.length&&a.cachedItems.push(a.items[t-1]),a.items.length>2&&(a.hasMoreItems=!0),i>2&&(a.cachedItems=a.cachedItems.slice(0,2))}return a.cachedItems},a.getFormattedExpiryDate=function(t){return e.getFormattedExpiryDate(t)},a.getExpireLabel=function(t){return t.isAccoutCreated?"MyServiceNSW":e.isRegistrationInfo(t)?"Vehicle rego expires":"Driver Licence expires"},a.isPassedEvent=function(t){var a=e.getExpiryDate(t),r=new Date;return r>a},a.getLicenceTypeOrRegoType=function(t){var a;return a=t.isAccoutCreated?"Account created":e.isRegistrationInfo(t)?t.plate.plateNumber+", "+t.registeredVehicle.vehicleModel.model.code:"Licence class: "+t.licenceClass.code},a.renewDoable=function(t){return e.renewDoable(t)}}}}])}(),function(){"use strict";function e(){return{scope:{},bindToController:{form:"=?",fields:"="},templateUrl:"ui-patterns/directives/snswValidationSummary.html",controllerAs:"vm",controller:function(){function e(e){var t=Object.keys(e.formControl.$error).map(function(t){return e.data.getValidationMessage(t)}).join(", ");return t}function t(){var e=[];return angular.forEach(r.fields,a,e),r.count=e.length,e}function a(e){var t=r.form||{},o=e.formControl||{};o.$invalid&&(t.$submitted||o.$touched)&&this.push(e),e.fieldGroup&&angular.forEach(e.fieldGroup,a,this)}var r=this;angular.extend(r,{getValidationSummary:e,invalidFields:t,count:0})}}}angular.module("ui-patterns").directive("snswValidationSummary",e)}(),function(){"use strict";angular.module("ui-patterns").directive("snswVehicleDetails",["SNIPPETS",function(e){return{restrict:"AE",transclude:!1,scope:{vehicle:"=",isVehicleRadioButton:"@"},templateUrl:"ui-patterns/directives/snswVehiclePlate.html",link:{pre:function(t){var a=t.vehicle||{};t.vehiclePlateNumber=a.NSWPlateNumber,t.vehicleDescription=(a.manufactureYear||"")+" "+(a.vehicleColour||"")+" "+(a.manufacturer||"")+" "+(a.model||"")+" "+(a.bodyShape||""),t.vehicleVinChassis=a.vin||a.vinNumber||a.chassisNumber||"",t.vehicleExpiry=a.registrationExpiryDate,t.SNIPPETS=e}}}}])}(),function(){"use strict";angular.module("ui-patterns").directive("snswVehiclePlate",["SNIPPETS",function(e){return{restrict:"E",transclude:!1,replace:!0,scope:{isVehicleRadioButton:"@",vehiclePlateNumber:"@",vehicleDescription:"@",vehicleVinChassis:"@",vehicleExpiry:"@"},templateUrl:"ui-patterns/directives/snswVehiclePlate.html",link:{pre:function(t,a,r,o){t.SNIPPETS=e,t.vehiclePlateNumber=t.vehiclePlateNumber.toUpperCase(),t.vehicleDescription=t.vehicleDescription.toUpperCase()}}}}])}(),function(){"use strict";angular.module("ui-patterns-filters").filter("integer",["$filter",function(e){return function(t,a){return null!==t&&void 0!==t?e("number")(t,0)+" "+a:""}}])}(),function(){"use strict";function e(){return function(e,t){return moment(e).format(t)}}angular.module("ui-patterns-filters").filter("moment",e)}(),function(){"use strict";angular.module("ui-patterns-services").factory("commonUtil",["vf","$state","$stateParams","$http","redirectService","$rootScope","snswModal","SNIPPETS","siteId","$log",function(e,t,a,r,o,i,s,n,l,c){var u={getSeverity:function(e){return e.severity?e.severity.toLowerCase():"error"},encodeOneMessage:function(e){return e&&e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")},encodeAllMessages:function(e){var t;for(t=0;t<e.length;t++)e[t].message&&(e[t].message=u.encodeOneMessage(e[t].message))},escapeOneMessage:function(e){return e&&e.replace(/"/g,"&quot;").replace(/'/,"&#39;")},escapeAllMessages:function(e){var t;for(t=0;t<e.length;t++)e[t].message&&(e[t].message=u.escapeOneMessage(e[t].message))},tryLinkRMS:function(){t.go("linkRMS")},tryLinkRMSStart:function(){i.stateDirection&&i.stateDirection.toState&&i.stateDirection.toState.name?o.go("linkRMSOptions",i.stateDirection.toState.name):u.tryLinkRMS()},extractErrorMessages:function(e,t){var a=[],r=e.response?e.response:e;return r&&r.statusObject&&r.statusObject.errorDetails&&r.statusObject.errorDetails.causes?a=r.statusObject.errorDetails.causes:r&&r.statusObject&&r.statusObject.messages?a=r.statusObject.messages:r&&r.statusObject&&r.statusObject.transactionEligibility&&r.statusObject.transactionEligibility.messages?a=r.statusObject.transactionEligibility.messages:r&&r.statusMessage&&r.statusCode&&2e3!==r.statusCode?a=[{message:r.statusMessage,severity:"ERROR"}]:r&&r.statusObject&&r.statusObject.transactionInfo&&r.statusObject.transactionInfo.processResponse&&"undefined"!=typeof r.statusObject.transactionInfo.processResponse.messages&&(a=r.statusObject.transactionInfo.processResponse.messages),t||u.encodeAllMessages(a),u.escapeAllMessages(a),a},successResult:function(e,t,a){if(!e.statusObject)return[];var r=u.extractErrorMessages(e,a);window.scrollTo(0,0);for(var o=0;o<r.length;o++)r[o].message&&("error"===u.getSeverity(r[o])?r[o]&&r[o].code&&"NO_CTP_ESAFETY_DETAILS"===r[o].code||t.errorMessages.push(r[o]):e.statusObject.transactionInfo&&"undefined"!=typeof e.statusObject.transactionInfo.processResponse.messages?t.errorMessages.push(r[o]):"NO_CTP_ESAFETY_DETAILS"!==e.statusMessage&&t.model.errorMessages.push(r[o]))},failRmsTransactionTimeout:function(e){var t=!e.statusCode&&e.response?e.response:e;if(t.statusCode&&"RMS_TRANSACTION_TIME_OUT"===t.statusMessage){var a=u.extractErrorMessages(e,!0);return s.open({heading:n.RMS.ERROR.TIMEOUTHEADING,statusMessage:"RMS_TRANSACTION_TIME_OUT",errorMessages:a,secondaryButton:n.GLOBAL.ACTIONS.OK,primaryButton:null}),!0}return!1},failRmsIsNotLinked:function(e){var t=!e.statusCode&&e.response?e.response:e;return t.statusCode&&2003===t.statusCode?(u.tryLinkRMSStart(),!0):!!u.failRmsTransactionTimeout(e)},failResult:function(e){return window.scrollTo(0,0),function(t){c.debug("commonUtil.failResult called"),u.failRmsIsNotLinked(t)?c.debug("Not linked in RMS"):e.errorMessages=u.extractErrorMessages(t)}},createMaDashboardTransaction:function(t){return e.call({remoteAction:"maDashboardCtrl.createMaDashboardTransaction",params:[t,l]})},checkUserEligibility:function(t){return e.call({remoteAction:"rmsTransactionCtrl.rmsEligibilityCheck",params:[t]})["catch"](function(){return!0})},updateAllInfoSession:function(t){return e.call({remoteAction:"rmsTransactionCtrl.updateAllInfoSessionJson",params:[t]})["catch"](function(){return!0})},checkUserEligibilityAndEmail:function(a,r,o){return r?(r.statusObject&&(r=r.statusObject),a.fromState||(a.fromState={}),a.fromState.name&&""!==!a.fromState.name||(a.fromState.name="linkRMS"),e.call({remoteAction:"rmsTransactionCtrl.rmsEligibilityCheck",params:[r]}).then(function(i){var s=u.extractErrorMessages(i,!0),n={stateDirection:a,errorMessages:s,pageHeadingTitle:o};if(i.statusObject&&i.statusObject.transactionEligibility){if("Y"===i.statusObject.transactionEligibility.eligibilityStatus)return e.call({remoteAction:"rmsTransactionCtrl.updateAllInfoSessionJson",params:[r]}),!0;if("N"===i.statusObject.transactionEligibility.eligibilityStatus)return t.go("error",{transErrorInfo:{hidePageHeader:!0,style:"error",messages:s}}),!1}return i.statusObject&&""!==i.statusObject?(n.emailToRegister=i.statusObject,n.token=r,t.go("linkRMSNeedEmail",n),null):!0})["catch"](function(e){var a=u.extractErrorMessages(e,!0);return t.go("error",{transErrorInfo:{style:"error",messages:a}}),null})):!1}};return u}])}(),function(){"use strict";var e=[{value:"+61",label:"+61"},{value:"+1",label:"+1"},{value:"+7",label:"+7"},{value:"+20",label:"+20"},{value:"+27",label:"+27"},{value:"+30",label:"+30"},{value:"+31",label:"+31"},{value:"+32",label:"+32"},{value:"+33",label:"+33"},{value:"+34",label:"+34"},{value:"+36",label:"+36"},{value:"+39",label:"+39"},{value:"+40",
label:"+40"},{value:"+41",label:"+41"},{value:"+43",label:"+43"},{value:"+44",label:"+44"},{value:"+45",label:"+45"},{value:"+46",label:"+46"},{value:"+47",label:"+47"},{value:"+48",label:"+48"},{value:"+49",label:"+49"},{value:"+51",label:"+51"},{value:"+52",label:"+52"},{value:"+53",label:"+53"},{value:"+54",label:"+54"},{value:"+55",label:"+55"},{value:"+56",label:"+56"},{value:"+57",label:"+57"},{value:"+58",label:"+58"},{value:"+60",label:"+60"},{value:"+62",label:"+62"},{value:"+63",label:"+63"},{value:"+64",label:"+64"},{value:"+65",label:"+65"},{value:"+66",label:"+66"},{value:"+81",label:"+81"},{value:"+82",label:"+82"},{value:"+84",label:"+84"},{value:"+86",label:"+86"},{value:"+90",label:"+90"},{value:"+91",label:"+91"},{value:"+92",label:"+92"},{value:"+93",label:"+93"},{value:"+94",label:"+94"},{value:"+95",label:"+95"},{value:"+98",label:"+98"},{value:"+211",label:"+211"},{value:"+212",label:"+212"},{value:"+213",label:"+213"},{value:"+216",label:"+216"},{value:"+218",label:"+218"},{value:"+220",label:"+220"},{value:"+221",label:"+221"},{value:"+222",label:"+222"},{value:"+223",label:"+223"},{value:"+224",label:"+224"},{value:"+225",label:"+225"},{value:"+226",label:"+226"},{value:"+227",label:"+227"},{value:"+228",label:"+228"},{value:"+229",label:"+229"},{value:"+230",label:"+230"},{value:"+231",label:"+231"},{value:"+232",label:"+232"},{value:"+233",label:"+233"},{value:"+234",label:"+234"},{value:"+235",label:"+235"},{value:"+236",label:"+236"},{value:"+237",label:"+237"},{value:"+238",label:"+238"},{value:"+239",label:"+239"},{value:"+240",label:"+240"},{value:"+241",label:"+241"},{value:"+242",label:"+242"},{value:"+243",label:"+243"},{value:"+244",label:"+244"},{value:"+245",label:"+245"},{value:"+246",label:"+246"},{value:"+247",label:"+247"},{value:"+248",label:"+248"},{value:"+249",label:"+249"},{value:"+250",label:"+250"},{value:"+251",label:"+251"},{value:"+252",label:"+252"},{value:"+253",label:"+253"},{value:"+254",label:"+254"},{value:"+255",label:"+255"},{value:"+256",label:"+256"},{value:"+257",label:"+257"},{value:"+258",label:"+258"},{value:"+260",label:"+260"},{value:"+261",label:"+261"},{value:"+262",label:"+262"},{value:"+263",label:"+263"},{value:"+264",label:"+264"},{value:"+265",label:"+265"},{value:"+266",label:"+266"},{value:"+267",label:"+267"},{value:"+268",label:"+268"},{value:"+269",label:"+269"},{value:"+290",label:"+290"},{value:"+291",label:"+291"},{value:"+297",label:"+297"},{value:"+298",label:"+298"},{value:"+299",label:"+299"},{value:"+350",label:"+350"},{value:"+351",label:"+351"},{value:"+352",label:"+352"},{value:"+353",label:"+353"},{value:"+354",label:"+354"},{value:"+355",label:"+355"},{value:"+356",label:"+356"},{value:"+357",label:"+357"},{value:"+358",label:"+358"},{value:"+359",label:"+359"},{value:"+370",label:"+370"},{value:"+371",label:"+371"},{value:"+372",label:"+372"},{value:"+373",label:"+373"},{value:"+374",label:"+374"},{value:"+375",label:"+375"},{value:"+376",label:"+376"},{value:"+377",label:"+377"},{value:"+378",label:"+378"},{value:"+379",label:"+379"},{value:"+380",label:"+380"},{value:"+381",label:"+381"},{value:"+382",label:"+382"},{value:"+385",label:"+385"},{value:"+386",label:"+386"},{value:"+387",label:"+387"},{value:"+389",label:"+389"},{value:"+420",label:"+420"},{value:"+421",label:"+421"},{value:"+423",label:"+423"},{value:"+500",label:"+500"},{value:"+501",label:"+501"},{value:"+502",label:"+502"},{value:"+503",label:"+503"},{value:"+504",label:"+504"},{value:"+505",label:"+505"},{value:"+506",label:"+506"},{value:"+507",label:"+507"},{value:"+508",label:"+508"},{value:"+509",label:"+509"},{value:"+590",label:"+590"},{value:"+591",label:"+591"},{value:"+592",label:"+592"},{value:"+593",label:"+593"},{value:"+594",label:"+594"},{value:"+595",label:"+595"},{value:"+596",label:"+596"},{value:"+597",label:"+597"},{value:"+598",label:"+598"},{value:"+599",label:"+599"},{value:"+670",label:"+670"},{value:"+672",label:"+672"},{value:"+673",label:"+673"},{value:"+674",label:"+674"},{value:"+675",label:"+675"},{value:"+676",label:"+676"},{value:"+677",label:"+677"},{value:"+678",label:"+678"},{value:"+679",label:"+679"},{value:"+680",label:"+680"},{value:"+681",label:"+681"},{value:"+682",label:"+682"},{value:"+683",label:"+683"},{value:"+685",label:"+685"},{value:"+686",label:"+686"},{value:"+687",label:"+687"},{value:"+688",label:"+688"},{value:"+689",label:"+689"},{value:"+690",label:"+690"},{value:"+691",label:"+691"},{value:"+692",label:"+692"},{value:"+850",label:"+850"},{value:"+852",label:"+852"},{value:"+853",label:"+853"},{value:"+855",label:"+855"},{value:"+856",label:"+856"},{value:"+880",label:"+880"},{value:"+886",label:"+886"},{value:"+960",label:"+960"},{value:"+961",label:"+961"},{value:"+962",label:"+962"},{value:"+963",label:"+963"},{value:"+964",label:"+964"},{value:"+965",label:"+965"},{value:"+966",label:"+966"},{value:"+967",label:"+967"},{value:"+968",label:"+968"},{value:"+971",label:"+971"},{value:"+972",label:"+972"},{value:"+973",label:"+973"},{value:"+974",label:"+974"},{value:"+975",label:"+975"},{value:"+976",label:"+976"},{value:"+977",label:"+977"},{value:"+992",label:"+992"},{value:"+993",label:"+993"},{value:"+994",label:"+994"},{value:"+995",label:"+995"},{value:"+996",label:"+996"},{value:"+998",label:"+998"},{value:"+1242",label:"+1242"},{value:"+1246",label:"+1246"},{value:"+1264",label:"+1264"},{value:"+1268",label:"+1268"},{value:"+1284",label:"+1284"},{value:"+1340",label:"+1340"},{value:"+1345",label:"+1345"},{value:"+1441",label:"+1441"},{value:"+1473",label:"+1473"},{value:"+1649",label:"+1649"},{value:"+1664",label:"+1664"},{value:"+1671",label:"+1671"},{value:"+1684",label:"+1684"},{value:"+1721",label:"+1721"},{value:"+1758",label:"+1758"},{value:"+1767",label:"+1767"},{value:"+1784",label:"+1784"},{value:"+1868",label:"+1868"},{value:"+1869",label:"+1869"},{value:"+1876",label:"+1876"}];angular.module("ui-patterns-services").constant("countryCodes",e)}(),function(){"use strict";angular.module("ui-patterns-services").factory("focus",["$timeout","$window",function(e,t){return function(a){e(function(){var e=t.document.getElementById(a);e&&e.focus()})}}])}(),function(){"use strict";angular.module("ui-patterns-services").factory("pageLeaveAlert",["$window","$rootScope","$state","snswModal","$log","SNIPPETS","$parse",function(e,t,a,r,o,i,s){function n(e){return t.forceRedirect?void u():p}function l(o,s,n,l,c){if(t.forceRedirect)return void u();o.preventDefault(),t.isLoading=!1;var p,m,g,f;n&&n.callToAction&&"cancel"===n.callToAction?(p=i.MYACCOUNT.PAGELEAVECONFIRMMODAL.HEADING,m=i.MYACCOUNT.PAGELEAVECONFIRMMODAL.YOUWILLLOSE,g=i.GLOBAL.ACTIONS.YES,f=i.GLOBAL.ACTIONS.NO):s&&"quit"===s.name?(p=i.MYACCOUNT.PROFILE.QUITPOPOUTHEADER,m=i.MYACCOUNT.PROFILE.QUITPOPOUTCOPY,g=i.GLOBAL.ACTIONS.QUIT):(p=i.MYACCOUNT.PROFILE.CANCELPOPOUTHEADER,m=i.MYACCOUNT.PROFILE.CANCELPOPOUTCOPY,g=i.GLOBAL.ACTIONS.OK),r.open({heading:p,body:m,buttonLeftAligned:!0,primaryButton:g,secondaryButton:f?f:i.GLOBAL.ACTIONS.CANCEL}).then(function(t){d(),s.externalUrl?(o.preventDefault(),e.location.href=s.externalUrl):a.go(s,n)})}function c(a){var r=function(e,t,r,o,i){a&&t.name&&o.name&&a.call(this,o,t)||l(e,t,r,o,i)};m||(e.onbeforeunload=n,d=t.$on("$stateChangeStart",r),m=!0)}function u(){e.onbeforeunload=function(){},m&&(d(),m=!1)}var d=null,p=s("MYACCOUNT.PROFILE.CANCELPOPOUTCOPY")(i),m=!1,g={setMessage:function(e){p=e},listen:function(e){o.log("pageLeaveAlert.listen called"),c(e)},destroy:function(){o.log("pageLeaveAlert.destroy called"),u()}};return g}])}(),function(){"use strict";angular.module("ui-patterns-services").service("pinCodeAPI",["vf",function(e){this.send=function(t,a){var r={remoteAction:t,params:a};return e.call(r)},this.verify=function(t,a,r){var o;o=-1!==t.indexOf("maPersonalProfileService")?[a,r]:[a];var i={remoteAction:t,params:o};return e.call(i)},this.cancel=function(t){var a={remoteAction:t};return e.call(a)}}])}(),function(){"use strict";function e(e,t){function a(t,a){this.sessionStorage=e.getStorage("array"),this.keyName=t,this.maxNum=a}function r(e,t){return e.getItem(t)||[]}function o(e,t,a,r){e.setItem(t,a.slice(0,r))}a.prototype={add:function(e){var t=r(this.sessionStorage,this.keyName);t.unshift(e),o(this.sessionStorage,this.keyName,t,this.maxNum)},setIsUniqueFn:function(e){this.isUniqueFn=e},addUnique:function(e){if(!angular.isFunction(this.isUniqueFn))return void t.error("Please run set isUniqueFn function before run addUnique()");var a=r(this.sessionStorage,this.keyName),i=angular.bind(null,this.isUniqueFn,e),s=a.filter(i);s.unshift(e),o(this.sessionStorage,this.keyName,s,this.maxNum)},list:function(){return r(this.sessionStorage,this.keyName)},clear:function(){return this.sessionStorage.removeItem(this.keyName),[]},getInfo:function(){return{keyName:this.keyName,maxNum:this.maxNum}}},this.getStorage=function(e,t){return"undefined"!=typeof t&&null!==t||(t=6),new a(e,t)}}e.$inject=["snswSessionStorage","$log"],angular.module("ui-patterns-services").service("snswArraySessionStorage",e)}(),function(){"use strict";angular.module("ui-patterns-services").service("snswLoading",["$rootScope","$q","$timeout",function(e,t,a){var r="snswLoading:init";this.init=function(o){return e.isSNSWLoading=!0,t.all(Object.keys(o).map(function(t){return a(1e3*t).then(function(){e.$broadcast(r,o[t])})}))},this.onMessage=function(e,t){e.$on(r,function(e,a){t(a)})},this.reset=function(){e.isSNSWLoading=!1}}])}(),function(){"use strict";angular.module("ui-patterns-services").service("snswModal",["$modal","$rootScope","SNIPPETS","user","redirectService","TermsConditions",function(e,t,a,r,o,i){this.open=function(a){return e.open({templateUrl:"ui-patterns/views/snswModal.html",controller:"snswModalController",backdrop:"static",keyboard:!1,scope:angular.merge(t.$new(!0),a||{})}).result},this.confirmation=function(e){return this.open(angular.merge({header:"Confirmation",secondaryButton:a.GLOBAL.ACTIONS.NO,primaryButton:a.GLOBAL.ACTIONS.YES},e))},this.quitTransaction=function(e){return this.open(angular.merge({heading:"Are you sure you want to quit?",body:"If you quit, any unsaved changes will be lost.",secondaryButton:"Cancel",primaryButton:"Quit"},e))},this.termsAndConditions=function(e){return this.open(angular.merge({heading:a.RMS.CHANGEDETAILS.TERMSCONDITIONSHEADING,body:a.RMS.CHANGEDETAILS.TERMSCONDITIONSBODY,secondaryButton:a.GLOBAL.ACTIONS.CLOSE},e))},this.remoteTermsAndConditions=function(e){var t=this;return i.getTermsAndConditionsContent(e).then(function(a){return t.termsAndConditions(angular.merge({body:a},e))})},this.privacyStatement=function(e){return this.open(angular.merge({heading:a.RMS.CHANGEDETAILS.PRIVACYPOLICYHEADING,body:a.RMS.CHANGEDETAILS.PRIVACYPOLICYBODY,secondaryButton:a.GLOBAL.ACTIONS.CLOSE},e))},this.transactionTimeout=function(e){var t="There has been no activity for the last 15 minutes or more. For your security, you have been logged out of your MyServiceNSW Account and are being returned to the Service NSW homepage.",i="There has been no activity for the last 15 minutes or more. For your security, you are being returned to the Service NSW homepage.",s=r.isAuthenticated?"logOut":"goToLandingPage",n=r.isAuthenticated?t:i;return this.open(angular.merge({heading:"Your session has timed out.",body:n,secondaryButton:a.GLOBAL.ACTIONS.OK},e))["finally"](o[s])},this.etbTransactionTimeout=function(e){return this.open(angular.merge({heading:"Your session has timed out.",body:"There has been no activity for the last 15 minutes or more. For your security, you have been logged out of your Small Business Navigator.",secondaryButton:"Close",primaryButton:""},e))}}])}(),function(){"use strict";angular.module("ui-patterns-services").service("snswReCaptchaService",["$window","$q",function(e,t){function a(){return o?t.when(o):s}function r(){if(!o)throw new Error("reCaptcha has not been loaded yet.")}var o,i=t.defer(),s=i.promise;return e.vcRecaptchaApiLoaded=function(){o=e.grecaptcha,i.resolve(o)},e.grecaptcha&&e.vcRecaptchaApiLoaded(),{create:function(e,t,r,o){return o.callback=r,o.sitekey=t,a().then(function(t){return t.render(e,o)})},reload:function(e){r(),o.reset(e)},getResponse:function(e){return r(),o.getResponse(e)}}}])}(),function(){"use strict";function e(){var e=[{template:"<h2>Construction Certificate</h2>"},{template:"<h3>Principal Certifying Authority</h3>"},{template:"<p>Please provide information about your selected Principal Certifying Authority and builder for your new development.</p>"},{template:"<hr><p><b>Principal Certifying Authority</b></p>"},{key:"ccCouncilPrincipalCertifyingAuthorityFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Will Council be the Principal Certifying Authority?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"ccOccupationCertificateApplicationFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Was an Occupation Certificate applied for?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"ccAccreditedCertifier",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If no, name of accredited certifier",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"ccAccreditationNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Accreditation number",required:!1,pattern:"[0-9]{1,6}",patternValidationMessage:"Please use numerals only",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"ccAccreditedCertifierCompany",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Company",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"ccAccreditedCertifierAddress",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Postal address",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccAccreditedCertifierSuburb",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Suburb",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"ccAccreditedCertifierPostcode",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Postcode",required:!1,maxlength:4,pattern:"[0-9]{4}",patternValidationMessage:"Invalid postcode. Please use 4 numbers only.",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"ccAccreditedCertifierPhone",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Phone",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"ccAccreditedCertifierMobile",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Mobile",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"ccAccreditedCertifierEmail",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Email",required:!1,maxlength:80,pattern:"^[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$",patternValidationMessage:"Invalid email address. Please enter an email address using the format example@email.com",bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccAccreditedCertifierFax",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fax",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{template:"<hr><p><b>Consent reference</b></p>"},{key:"ccDevelopmentApplicationNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Development Application number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"ccDADeterminationDate",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"DA determination date",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{template:"<hr><p><b>Building classification</b></p>"},{key:"ccBuildingClassificationBCA",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Building Code of Australia",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{template:"<hr><p><b>Builder's details</b></p>"},{key:"ccBuilderName",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Builder's name",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccOwnerBuilderLicencePermitNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Contractor licence/permit number in case of owner builder",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"ccBuilderAddress",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Builder's street address",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccBuilderSuburb",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Suburb",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"ccBuilderPostcode",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Postcode",required:!1,maxlength:4,pattern:"[0-9]{4}",patternValidationMessage:"Invalid postcode. Please use 4 numbers only.",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"ccBuilderPhone",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Phone",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"ccBuilderMobile",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Mobile",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"ccBuilderEmail",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Email",required:!1,maxlength:80,pattern:"^[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$",patternValidationMessage:"Invalid email address. Please enter an email address using the format example@email.com",bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccBuilderFax",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fax",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}}],t=[{template:"<h2>Construction Certificate</h2>"},{template:"<h3>Development details</h3>"},{template:"<p>Please provide information about the building works that will be undertaken at your premises, including details of materials used for construction.</p>"},{template:"<hr><p><b>Property details</b></p>"},{template:"<p><b>Use of property</b></p>"},{key:"ccDualOccupancySiteFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Does the site contain a dual occupancy?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"ccGrossFloorAreaOfProposedAdditionOrNewBuilding",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Gross floor area of the proposed addition or new building (m2)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"ccProposedUsesOfBuildings",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Proposed use of all parts of the building(s)/land",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"ccNumberOfPre-existingDwellings",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Number of pre-existing dwellings",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"ccNumberOfDwellingsToBeDemolished",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Number of dwellings to be demolished",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{template:"<p><b>Building classification and type of occupation</b></p>"},{key:"ccBuildingClassification",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Building Class (e.g. Class 6 - A shop or other building for the sale of goods by retail or the supply of services direct to the public.)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"ccOccupationType",type:"radio",wrapper:["bootstrap-row-col","validation"],templateOptions:{label:"Type of occupation",required:!1,options:[{value:"OccupationType_FIN",label:"Final"},{value:"OccupationType_INT",label:"Interim"}],bootstrapColClassNames:"col-xs-12 col-sm-2"}},{template:"<hr><p><b>Development description and proposed details</b></p>"},{key:"ccDevelopmentDescriptionNumberOfStoreysOfTheProposedBuilding",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Number of storeys of the proposed building",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"ccDevelopmentDescriptionSignage",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Signage/advertising",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"ccDevelopmentDescriptionUseOfLandBuilding",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Use of land/building",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"ccDevelopmentDescriptionCarryingOutWorks",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Carrying out of works",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{template:"<hr><p><b>Materials for construction</b></p>"},{wrapper:["bootstrap-row-col","validation","label","fieldset"],templateOptions:{label:"Select the material that best describes what will be used to construct the walls",placeholder:"Please select",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"},fieldGroup:[{key:"MaterialForWallConstruction_BV",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Brick veneer"}]}},{key:"MaterialForWallConstruction_FB",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Full brick"}]}},{key:"MaterialForWallConstruction_SB",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Single brick"}]}},{key:"MaterialForWallConstruction_CB",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Concrete block"}]}},{key:"MaterialForWallConstruction_CM",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Concrete/masonry"}]}},{key:"MaterialForWallConstruction_CONC",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Concrete"}]}},{key:"MaterialForWallConstruction_ST",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Steel"}]}},{key:"MaterialForWallConstruction_FC",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Fibrous cement"}]}},{key:"MaterialForWallConstruction_HP",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Hardiplank"}]}},{key:"MaterialForWallConstruction_TW",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Timber/weatherboard"}]}},{key:"MaterialForWallConstruction_CA",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Cladding-aluminium"}]}},{key:"MaterialForWallConstruction_CG",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Curtain glass"}]}},{key:"MaterialForWallConstruction_OTH",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Other"}]}},{key:"MaterialForWallConstruction_UNK",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Unknown"}]}}]},{wrapper:["bootstrap-row-col","validation","label","fieldset"],templateOptions:{label:"Select the material that best describes what will be used to construct the roof",placeholder:"Please select",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"},fieldGroup:[{key:"MaterialForRoofConstruction_AL",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Aluminium"}]}},{key:"MaterialForRoofConstruction_CONC",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Concrete"}]}},{key:"MaterialForRoofConstruction_CT",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Concrete tile"}]}},{key:"MaterialForRoofConstruction_FC",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Fibrous cement"}]}},{key:"MaterialForRoofConstruction_FG",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Fibreglass"}]}},{key:"MaterialForRoofConstruction_MT",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Masonry/terracotta shingle tile"}]}},{key:"MaterialForRoofConstruction_SL",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Slate"}]}},{key:"MaterialForRoofConstruction_ST",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Steel"}]}},{key:"MaterialForRoofConstruction_TT",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Terracotta tile"}]}},{key:"MaterialForRoofConstruction_OTH",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Other"}]}},{key:"MaterialForRoofConstruction_UNK",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Unknown"}]}}]},{wrapper:["bootstrap-row-col","validation","label","fieldset"],templateOptions:{label:"Select the material that best describes what will be used to construct the floors",placeholder:"Please select",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"},fieldGroup:[{key:"MaterialForFloorConstruction_CONC",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Concrete"}]}},{key:"MaterialForFloorConstruction_TIMB",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Timber"}]}},{key:"MaterialForFloorConstruction_OTH",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Other"}]}},{key:"MaterialForFloorConstruction_UNK",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Unknown"}]}}]},{wrapper:["bootstrap-row-col","validation","label","fieldset"],templateOptions:{label:"Select the material that best describes what will be used to construct the frame",placeholder:"Please select",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"},fieldGroup:[{key:"MaterialForFrameConstruction_TIMB",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Timber"}]}},{key:"MaterialForFrameConstruction_ST",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Steel"}]}},{key:"MaterialForFrameConstruction_OTH",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Other"}]}},{key:"MaterialForFrameConstruction_UNK",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Unknown"}]}}]}],a=[{template:"<h2>Construction Certificate</h2>"},{template:"<h3>Fire Safety Schedule</h3>"},{template:"<p>Please provide details of the proposed fire safety measures for the proposed development. A Fire Safety Schedule and a current annual Fire Safety Statement is required for all existing buildings.</p>"},{template:"<hr><p><b>Fire Safety Schedule</b></p><p>Please select if the following measures are existing, proposed to be upgraded or not applicable. If you're proposing to upgrade the Fire Safety Measure, please enter the proposed standard of performance (e.g. AS2118).</p>"},{key:"ccFireSafetyAccessPanelsToFireResistingShafts",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Access panels, doors and hoppers to fire resisting shafts",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardAccessPanelsToFireResistingShafts",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyAutomaticFailSafeDevices",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Automatic fail safe devices",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardAutomaticFailSafeDevices",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyAutomaticFireDetectionAlarm",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Automatic fire detection and alarm systems",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardAutomaticFireDetectionAlarm",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyAutomaticFireSuppression",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Automatic fire suppression systems",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardAutomaticFireSuppression",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyBuildingOccupantWarning",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Building occupant warning system",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardBuildingOccupantWarning",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyFireSeals",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Fire seals (protecting openings in fire resisting building components)",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardFireSeals",
type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyEmergencyLifts",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Emergency lifts",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardEmergencyLifts",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyEmergencyWarningIntercom",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Emergency warning intercom",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardEmergencyWarningIntercom",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyExitSign",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Exit signs",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardExitSign",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyFireSmokeAlarms",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Fire and smoke alarms",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardFireSmokeAlarms",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyFireControlCentres",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Fire control centres and rooms",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardFireControlCentres",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyFireDampers",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Fire dampers",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardFireDampers",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyFireDoors",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Fire doors",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardFireDoors",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyFireHydrants",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Fire hydrants",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardFireHydrants",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyFireShutters",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Fire shutters",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardFireShutters",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyFireWindows",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Fire windows",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardFireWindows",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyHoseReel",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Hose reel systems",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardHoseReel",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyIlluminatedExitSign",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Illuminated exit sign as emergency lighting",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardIlluminatedExitSign",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyLightweightConstruction",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Lightweight construction",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardLightweightConstruction",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyMechanicalAirHandling",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Mechanical air handling systems",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardMechanicalAirHandling",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyPerimeterEmergencyVehicleAccess",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Perimeter vehicle access for emergency vehicles",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardPerimeterEmergencyVehicleAccess",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyPortableFireExtinguishers",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Portable fire extinguishers",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardPortableFireExtinguishers",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetySafetyCurtains",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Safety curtains in proscenium openings",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardSafetyCurtains",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetySmokeHeatVents",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Smoke and heat vents",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardSmokeHeatVents",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetySmokeDampers",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Smoke dampers",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardSmokeDampers",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetySmokeHeatDetectors",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Smoke detectors and heat detectors",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardSmokeHeatDetectors",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetySmokeDoors",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Smoke doors",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardSmokeDoors",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetySolidCoreDoors",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Solid core doors",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardSolidCoreDoors",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyStandbyPowers",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Stand-by power systems",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardStandbyPowers",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyWallWettingSprinkler",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Wall wetting sprinkler and drencher systems",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardWallWettingSprinkler",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyWarningOperationalSigns",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Warning and Operational signs",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardWarningOperationalSigns",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyOther1",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Other - 1",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardOther1",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccFireSafetyOther2",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fire Safety Measure - Other - 2",required:!1,options:["Existing","Not Applicable","Proposed"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"ccFireSafetyPerformanceStandardOther2",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If proposed, please enter the proposed standard of performance (e.g. AS2118)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}}];return{page1:e,page2:t,page3:a}}angular.module("easyToDoBusiness").factory("daConstructionFormService",e)}(),function(){"use strict";function e(){var e=[{template:"<h2>Notice of Commencment of Works and additional construction needs</h2>"},{template:"<h3>Development details</h3>"},{template:"<p>Please provide information about your development when you are ready to commence construction.</p>"},{template:"<hr><p><b>Construction Certificate</b></p>"},{key:"cwCouncilConstructionCertificate",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Did Council issue the Construction Certificate?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cwConstructionCertifierAccreditationNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If Council did not issue your Construction Certificate, enter your Accreditation number and Certifier Name.",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"cwConstructionCertifierName",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Certifier name",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"cwConstructionCertificate",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Construction Certificate reference number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"cwConstructionCertificateDeterminationDate",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Construction Certificate determination date",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{template:"<hr><p><b>Description of proposed development</b></p>"},{key:"cwDevelopmentDetailsBuildingWork",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Building work",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cwDevelopmentDetailsSubdivisionWork",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Subdivision work",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cwDevelopmentDetailsLocationId",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Location ID within existing building",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{template:"<hr><p><b>Compliance with development consent</b></p>"},{key:"cwComplianceDevelopmentConsent",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"All conditions of consent are satisfied prior to the commencement of works?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{template:"<hr><p><b>Commencement of Works</b></p>"},{key:"cwCommencementWorkDate",type:"input",data:{},wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Date",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"cwCommencementWorkTime",type:"input",wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Time",hint:"Enter time in 24 hour format",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}}],t=[{template:"<h2>Hoarding Application</h2>"},{template:"<h3>Property and applicant details</h3>"},{template:"<p>Please complete the below form if you are going to be erecting hoardings around the construction site during development. </p>"},{template:"<hr><p><b>Site contact details</b></p>"},{key:"haApplicant24HourEmergencyContact",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"24 hour emergency contact name and phone number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{template:"<hr><p><b>Hoarding contractor details</b></p>"},{key:"haContractorFamilyNameOrCompany",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Hoarding company",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"haContractorGivenNames",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Contractor's full name",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"haContractorCompanyContactPerson",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Hoarding company's contact",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"haContractorPostalAddress",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Postal address",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-5"}},{key:"haContractorSuburb",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Suburb",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"haContractorPostcode",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Postcode",required:!1,maxlength:4,pattern:"[0-9]{4}",patternValidationMessage:"Invalid postcode. Please use 4 numbers only.",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"haContractorHomePhone",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Home phone",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"haContractorOfficePhone",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Office phone",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"haContractorMobile",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Mobile",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"haContractorFax",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fax",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"haContractorEmail",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Email",required:!1,maxlength:80,pattern:"^[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$",patternValidationMessage:"Invalid email address. Please enter an email address using the format example@email.com",bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"haContractorAfterHoursPhoneContact",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"After hours phone contact",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{template:"<hr><p><b>Hoarding details</b></p>"},{key:"haHoardingDetailsTypeAFenceType",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Type A - fence type",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"haHoardingDetailsTypeBCOverheadType",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Type B & C - overhead type",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"haHoardingDetailsSingleStoreyOnsiteShed",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Single storey on-site shed",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"haHoardingDetailsDoubleStoreyOnsiteShed",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Double storey on-site shed",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"haHoardingDetailsWithinCityCentre",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Within city centre (see LEP 2007)",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"haHoardingDetailsWithTrafficBarrier",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"With traffic barrier",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"haHoardingDetailsWithTrafficBarrierAlongKerbside",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"With traffic barrier along kerbside",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"haHoardingDetailsLengthOfProposedHoarding",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Length of proposed hoarding  (m)",required:!1,pattern:"[0-9]{1,6}",patternValidationMessage:"Please use numerals only",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"haHoardingPeriodFromDate",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Start date of hoarding period",hint:"Enter date as DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"haHoardingPeriodToDate",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"End date of hoarding period",hint:"Enter date as DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{template:"<hr><p><b>Delivery options</b></p>"},{key:"haHoardingDeliveryCollectFromOffice",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Collect from office",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"haHoardingDeliveryPost",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Post to applicant",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"haHoardingDeliveryDXMail",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"DX mail to applicant",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}}],a=[{template:"<h2>Application for temporary road and/or footpath occupancy</h2>"},{template:"<h3>Property and applicant details</h3>"},{template:"<p>Please provide additional details if your development works will impact any pedestrian areas or road access. </p>"},{template:"<hr><p><b>Location of occupancy</b></p>"},{key:"trfAreaOfOccupancy",type:"select",className:"form-group",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Area of occupancy",placeholder:"Please select",required:!1,options:[{value:"AreaOfOccupancy_FOOT",label:"Footpath with restricted pedestrian access (Attach Locality Sketch #2)"},{value:"AreaOfOccupancy_PARK",label:"Park vehicle only, without working on the road reserve (Attach Locality Sketch)"},{value:"AreaOfOccupancy_ROAD",label:"Road and/or footpath with no pedestrian access (Attach a Traffic Control Plan)"}],bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"trfOccupancyLocationStreetAddress",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street address where work is to be performed",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"trfOccupancyLocationAtBetweenCrossStreetNames",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Cross street names",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{template:"<hr><p><b>Dates and time of occupancy</b></p>"},{template:"<p>A permit can be obtained for a maximum of 5 working days. However, permits can be issued for a longer period if the works involved with the construction or restoration of footpaths and/or road pavements. </p><p>In certain streets works can only be performed during off-peak hours. For details please contact Traffic & Transport Services on (02) 9806 5768.</p>"},{key:"trfOccupancyStartDate",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Date proposed occupancy starts",hint:"Enter date as DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"trfOccupancyEndDate",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Date proposed occupancy ends",hint:"Enter date as DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"trfOccupancyStartTime",type:"input",wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Time proposed occupancy starts",hint:"Enter time in 24 hour format, like 1745 for 5:45pm",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"trfOccupancyEndTime",type:"input",wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Time proposed occupancy ends",hint:"Enter time in 24 hour format, like 1745 for 5:45pm",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"trfOccupancyApprovedBuildingHours",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Approved building hours of the site (if any)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{template:"<hr><p><b>Activity details</b></p>"},{key:"trfActivityPurpose",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Purpose of the occupancy",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"trfAffectedAreaLength",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Length of the affected area (from start to end of road tapering)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"trfAffectedAreaWidth",type:"input",wrapper:["bootstrap-row-col","validation","label"],
templateOptions:{label:"Width of the affected area",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"trfAffectedAreaKerbsideLanes",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Number of kerbside lane(s) affected",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"trfAffectedAreaTravelLanes",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Number of travel lane(s) affected",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"trfActivityMobileCraneSetup",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Does this work require mobile crane set-up?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"trfActivityGrossWeightCrane",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Gross weight of the crane in tonnes",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"trfActivityWithin100mTrafficSignals",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Is the occupied area within 100 metres of traffic signals?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"trfActivityBusLanesOrServices",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Does the occupied area affect bus lanes or bus services?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"trfActivityTaxiZone",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Does the occupied area affect a taxi zone?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"trfActivityAccessToProperties",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Does the occupied area affect the access to properties?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"trfActivityFootpathRoadSurfaceOpening",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Does this work require opening of footpath/road surface?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{template:"<hr><p><b>Site contact details</b></p>"},{key:"trfSiteContactWorksiteSupervisorName",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Name of worksite supervisor",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"trfSiteContactMobileNo",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Mobile number",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{template:"<hr><p><b>Public liability insurance details</b></p>"},{key:"trfInsuranceDetailsPublicLiabilityPolicyNo",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Public liability policy number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"trfInsuranceCompanyName",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Name of insurance company",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"trfInsurancePeriodFrom",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Start date of insurance",hint:"Enter date as DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"trfInsurancePeriodTo",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"End date of insurance",hint:"Enter date as DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"trfInsuranceIndemnityLimit",type:"input",wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Limit of Indemnity ($)",hint:"Minimum limit of insurance is $10 million",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{template:"<hr><p><b>Workers compensation insurance details</b></p>"},{key:"trfWorkersCompensationPolicyNo",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Workers compensation policy number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"trfWCInsuranceCompanyName",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Name of insurance company",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"trfWorkersCompensationPeriodFrom",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Start date of insurance",hint:"Enter date as DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"trfWorkersCompensationPeriodTo",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"End date of insurance",hint:"Enter date as DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}}];return{page1:e,page2:t,page3:a}}angular.module("easyToDoBusiness").factory("daConstuctionNoticeFormService",e)}(),function(){"use strict";function e(){var e=[{template:"<h2>Development Application</h2>"},{template:"<h3>Property details</h3>"},{template:"<p>Please provide information about your business premises. </p>"},{template:"<hr><p><b>Property details</b></p>"},{key:"premiseStreetNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"premiseStreet",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street name and type",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"premiseSuburb",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Suburb",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"premisePostcode",type:"input",wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Postcode",hint:"Enter a NSW postcode only",required:!1,maxlength:4,pattern:"(1[0-9]{3}|2[0-5][0-9]{2}|26[2-9][0-9]|2[7-8][0-9]{2}|29[2-9][0-9])",patternValidationMessage:"Invalid postcode. Please enter a NSW postcode starting with 1 or 2 and use 4 numbers only.",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"lotNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Lot",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daPropertyAddressDpSp",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"DP/SP etc",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"daProposedBusinessName",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Name of proposed business premises",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"ccTotalLandArea",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Area of the land (m2)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"daTotalGrossFloorAreaExisting",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Gross floor area of existing building (m2)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"}},{template:"<hr><p><b>Current use of the property</b></p>"},{key:"daCurrentUsage",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Current or last known use",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"daCurrentUsageOperationalFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Is this use still operating?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daLastUseFinishDate",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"If the premises is currently vacant, when did the last use cease?",hint:"Enter date as DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{template:"<hr><p><b>Other property details</b></p>"},{key:"daEnvironmentalHeritageFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Is the building an item of environmental heritage or in a conservation area?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daBuildingAlterationFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Are you altering or adding to any part of the building?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daDemolitionFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Are you demolishing all or any part of the building?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daTreeRemovalFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Is tree removal proposed?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daAccessRequiresApplicantFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Does Council require your presence for access to the site?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daDogOnPropertyFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Is there a dog on the property?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daSwimmingPoolOnPropertyFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Is there a swimming pool on the property?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}}],t=[{template:"<h2>Development Application</h2>"},{template:"<h3>Development description and proposal details</h3>"},{template:"<p>Please provide a detailed description of the type of development you plan to carry out at the premises. Depending on your answers, you may need to upload supporting documentation as part of your application.</p>"},{template:"<hr><p><b>Type of proposed development</b></p>"},{wrapper:["bootstrap-row-col","validation","label","fieldset"],templateOptions:{label:"This application relates to which of the following?",placeholder:"Please select",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"},fieldGroup:[{key:"DevelopmentType_SIGN",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Signage/advertising"}]}},{key:"DevelopmentType_LAND",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Use of land/building"}]}},{key:"DevelopmentType_WORKS",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Carrying out of works"}]}},{key:"DevelopmentType_SUBD",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Subdivision"}]}},{key:"DevelopmentType_EARTH",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Earthworks"}]}},{key:"DevelopmentType_CONS",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Constructing a building"}]}},{key:"DevelopmentType_DEMO",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Demolition"}]}},{key:"DevelopmentType_OTH",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Other"}]}}]},{key:"daDetailedDevelopmentDescription",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Please provide a detailed description of the proposed development as you indicated above",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"fdOutdoorDiningFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Do you plan on having an outdoor dining area?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"fdOutdoorDiningAlcoholFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If yes, will alcohol be served in the outdoor dining area?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{template:"<hr><p><b>Proposed use of the building</b></p>"},{wrapper:["bootstrap-row-col","validation","label","fieldset"],templateOptions:{label:"This application relates to which of the following",placeholder:"Please select",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"},fieldGroup:[{key:"BuildingUsageType_SD",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Single Dwelling"}]}},{key:"BuildingUsageType_UNITS",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Residential flats, dual occupancy, multi unit, serviced apartments"}]}},{key:"BuildingUsageType_MIXED",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Mixed use development (i.e. mix of residential, office and commercial)"}]}},{key:"BuildingUsageType_ACCOM",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Accommodation - hotel, motel, boarding house, hostel"}]}},{key:"BuildingUsageType_OFFICE",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Offices"}]}},{key:"BuildingUsageType_RETAIL",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Retail"}]}},{key:"BuildingUsageType_FACTORY",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Factory, service station"}]}},{key:"BuildingUsageType_WAREH",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Warehouse, showroom"}]}},{key:"BuildingUsageType_PUBLIC",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Public buildings, halls, educational, laboratories"}]}},{key:"BuildingUsageType_OUTB",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Outbuildings, garages, pergolas, pools, signs"}]}},{key:"BuildingUsageType_OTH",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Other"}]}}]},{key:"daBuildingUsageTypeOther",type:"textarea",wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"If other, please provide more information about your reason for application.",hint:"If other is selected, description is required",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{template:"<hr><p><b>Parking and loading facilities</b></p>"},{key:"daNumberOfLoadingBaysExisting",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Number of existing loading bays",required:!1,pattern:"[0-9]{1,6}",patternValidationMessage:"Please use numerals only",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daNumberOfLoadingBaysProposed",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Number of proposed loading bays",required:!1,pattern:"[0-9]{1,6}",patternValidationMessage:"Please use numerals only",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daNumberOfParkingSpacesExisting",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Number of existing parking spaces",required:!1,pattern:"[0-9]{1,6}",patternValidationMessage:"Please use numerals only",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daNumberOfParkingSpacesProposed",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Number of proposed parking spaces",required:!1,pattern:"[0-9]{1,6}",patternValidationMessage:"Please use numerals only",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{template:"<hr><p><b>Integrated development</b></p>"},{template:"<p>Integrated development is development that requires licences or approvals from other government departments. </p>"},{key:"daIntegratedDevelopmentFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Is this application for integrated development?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{template:"<p>If this is an integrated development, select approvals or licences required. </p>"},{key:"daHeritageActFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Item or place under and Interim or Permanent Conservation Order or Interim Heritage Order - Heritage Act 1977",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daWaterActFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Involve works for irrigation, water supply or drainage, changing or preventing a change in the course of a river, preventing the land from flooding - Water Act 1912",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daImpactOnRoadFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Impact upon a crown road, highway, main road, a freeway or a toll way - Roads Act 1993",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daAboriginalPlaceIndicator",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"An Aboriginal place declared (under the National Parks and Wildlife 1974) over the land, or any Aboriginal relics on the land",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daFisheriesManagementActDredgingFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Dredging or reclamation of waters - Fisheries Management Act 1994",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daWaterManagementActFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Within 40 metres of a watercourse - Water Management Act 2000",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daFisheriesManagementActMarineVegetationFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Impact on marine vegetation such as removal of seagrasses, mangroves, sea lettuce or blackfish - Fisheries Management Act 1994",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daRoadsActErectastructureFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Erect a structure; carry out works etc, on a public toad under the Road Act 1993",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daEPALicensedActivityFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"An EPA Licensed activity - Protection of the Environment Operations Act 1997",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daAquacultureFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Aquaculture - Fisheries Management Act 1994",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daMineSubsidenceCompensationActFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Alterations or improvements within a mine subsidence district or subdivision of land within Mine Subsidence Compensation Act 1961",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daMineActFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Grant of mining lease - Mining Act 1992",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daPetroleumOnshoreActFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Petroleum (Onshore Act) 1991",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daRuralFiresActFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Rural Fires Act 1997",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{template:"<hr><p><b>Other approvals</b></p>"},{key:"daS68LocalGovernmentActApprovalFlag",type:"btn-radio",wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Approval under s68 Local Government Act 1993",hint:"Generally, Section 68 refers to approvals relating (but not limited to) structures or places of public entertainment, water supply, sewerage and stormwater drainage work, management of waste community land, public land and of other activities to ensure compliance, refer to Local Government Act 1993, Section 68 and Regulation.",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daS138RoadsActApprovalFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Approvals under s138 Roads Act 1993",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daStagedDevelopmentFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Are you applying for a staged development consent?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"daTotalCostOver3MFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Is the planned cost for the development over $3,000,000?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}}],a=[{template:"<h2>Development Application</h2>"},{template:"<h3>Detailed cost summary</h3>"},{template:"<p>The following information must be completed for a development up to, and including, $3,000,000. </p><p>The estimates you provide will be used to calculate Development Application fees and Development Contributions (where relevant). The estimated value of work must include the cost of all materials and all labour costs, and is based on the cost incurred if a contractor carried out the works. If demolition or land modification i.e. excavation or fill is required, these costs must be included in the estimated value.</p><p>Please note, if the proposed development is estimated to cost over $3,0000,000 a Quantity Surveyor's report is required.  </p>"},{template:"<hr><p><b>Development area</b></p>"},{key:"daParkingArea",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Parking/garaging area (m2)",required:!1,pattern:"[0-9]{1,6}",patternValidationMessage:"Please use numerals only",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"daTotalConstructionArea",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Total construction area (excluding parking/garaging) (m2)",required:!1,pattern:"[0-9]{1,6}",patternValidationMessage:"Please use numerals only",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{template:"<hr><p><b>Genuine cost estimate</b></p>"},{key:"daEstimatedDemolitionCost",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Demolition ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"daEstimatedSitePreparationCost",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Site preparation (e.g. clearing vegetation, decontamination or remediation)  ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"daEstimatedExcavationCost",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Excavation ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"daEstimatedPreliminaryCost",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Preliminaries (e.g. scaffolding, hoarding, fencing, site sheds, waste management) ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"daEstimatedConstructionAndEngineeringCost",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Construction and engineering costs ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"daEstimatedChangeOfUseCost",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Change of use ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"daEstimatedSubdivisionCost",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Subdivision (planning, executing and registering, including covenants and easements) ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"daEstimatedServiceCost",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Services (e.g. plumbing, mechanical, fire, lift) ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"daEstimatedExternalWorkCost",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"External works (e.g. landscaping, driveways, parking, pools) ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"daEstimatedExternalServiceCost",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"External services (e.g. gas, telephone, electricity connection to mains) ($)",
required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"daEstimatedOtherCost",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Other costs",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"daEstimatedOtherCostDesc",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If other, please provide a description of the cost",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"daEstimatedMargin",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Margin ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"daEstimatedGST",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Goods and Services Tax ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"daEstimatedTotalCost",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"TOTAL Genuine estimate of development costs ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{template:"<hr><p><b>Cost of works used to determine Section 94A Contributions</b></p>"},{key:"daEstimatedFittingsCost",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fittings ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"daEstimatedProjectManagementCost",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Project management ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"daEstimatedDisabledAccessCost",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Disabled access ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"daEstimatedEnergyAndWaterEfficiencyCost",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Energy and water efficiency measures ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"daEstimatedS94Costs",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Total ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}}],r=[{template:"<h2>Development Application</h2>"},{template:"<h3>Development description and proposal details - Operating details</h3>"},{template:"<p>Please provide details of the proposed operating hours of your business.</p>"},{template:"<hr><p><b>Working hours</b></p>"},{template:"<p><b>Existing</b></p>"},{template:"<p>Enter existing start and finish times in 24 hour format, like 1745 for 5:45pm</p>"},{key:"daWorkingHoursMondayStartTimeExisting",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Monday start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursMondayEndTimeExisting",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Monday finish time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursTuesdayStartTimeExisting",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Tuesday start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursTuesdayEndTimeExisting",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Tuesday finish time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursWednesdayStartTimeExisting",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Wednesday start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursWednesdayEndTimeExisting",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Wednesday finish time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursThursdayStartTimeExisting",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Thursday start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursThursdayEndTimeExisting",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Thursday finish time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursFridayStartTimeExisting",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Friday start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursFridayEndTimeExisting",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Friday finish time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursSaturdayStartTimeExisting",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Saturday start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursSaturdayEndTimeExisting",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Saturday finish time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursSundayStartTimeExisting",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Sunday start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursSundayEndTimeExisting",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Sunday finish time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{template:"<p><b>Proposed</b></p>"},{template:"<p>Enter proposed start and finish times in 24 hour format, like 1745 for 5:45pm</p>"},{key:"daWorkingHoursMondayStartTimeProposed",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Monday start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursMondayEndTimeProposed",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Monday finish time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursTuesdayStartTimeProposed",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Tuesday start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursTuesdayEndTimeProposed",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Tuesday finish time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursWednesdayStartTimeProposed",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Wednesday start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursWednesdayEndTimeProposed",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Wednesday finish time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursThursdayStartTimeProposed",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Thursday start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursThursdayEndTimeProposed",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Thursday finish time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursFridayStartTimeProposed",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Friday start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursFridayEndTimeProposed",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Friday finish time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursSaturdayStartTimeProposed",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Saturday start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursSaturdayEndTimeProposed",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Saturday finish time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursSundayStartTimeProposed",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Sunday start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daWorkingHoursSundayEndTimeProposed",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Sunday finish time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{template:"<hr><p><b>Operating details</b></p>"},{key:"daNumberOfEmployeeExisting",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Number of existing staff/employees",required:!1,pattern:"[0-9]{1,6}",patternValidationMessage:"Please use numerals only",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"daNumberOfEmployeesProposed",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Number of proposed staff/employees",required:!1,pattern:"[0-9]{1,6}",patternValidationMessage:"Please use numerals only",bootstrapColClassNames:"col-xs-12 col-sm-1"}}],o=[{template:"<h2>Development Application</h2>"},{template:"<h3>Political donations and gifts</h3>"},{template:"<p>Please complete the sections below if you, or anyone, with a financial interest in your business, has made a political donation or gift exceeding $1000 in the past 2 years to any local councillor or employee. Depending on your answers, you may need to upload supporting documentation as part of your application. </p><p>For more information, please refer to the Environmental Planning Assessment Act 1979</p>"},{template:"<hr><p><b>Disclosure statement of political donations and gifts</b></p>"},{key:"daDisclosureStatementStatusFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Is a disclosure statement required?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{template:"<hr><p><b>Reportable political donations</b></p>"},{template:"<b>Donation 1</b>"},{key:"politicalDonationAmount1",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Amount/value of donation or gift ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"politicalDonationDate1",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Date donation or gift was made",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"politicalDonationDonorAddress1",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Donor's residential address or entity's registered address or other official office of the donor; address of person who made the gift or entity's address",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"politicalDonationDescription1",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Donation or gift?",required:!1,options:["Donation","Gift"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"politicalDonationDonor1",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Name of donor (or ABN if an entity); or name of person who made the gift",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-5"}},{key:"politicalDonationRecipient1",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Name of party or person for whose benefit the donation was made; or person to whom the gift was made",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-5"}},{template:"<b>Donation 2</b>"},{key:"politicalDonationAmount2",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Amount/value of donation or gift ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"politicalDonationDate2",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Date donation or gift was made",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"politicalDonationDonorAddress2",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Donor's residential address or entity's registered address or other official office of the donor; address of person who made the gift or entity's address",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"politicalDonationDescription2",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Donation or gift?",required:!1,options:["Donation","Gift"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"politicalDonationDonor2",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Name of donor (or ABN if an entity); or name of person who made the gift",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-5"}},{key:"politicalDonationRecipient2",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Name of party or person for whose benefit the donation was made; or person to whom the gift was made",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-5"}},{template:"<b>Donation 3</b>"},{key:"politicalDonationAmount3",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Amount/value of donation or gift ($)",required:!1,maxlength:14,pattern:"(^[0-9]{1,14}$)|(^[0-9]{1,11}(.[0-9]{2})$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}$)|(^[0-9]{1,2},{1}([0-9]{3},){0,2}[0-9]{3}$)|(^[0-9]{1,3},{1}([0-9]{3},){0,1}[0-9]{3}(.[0-9]{2})$)",patternValidationMessage:"Invalid format. Please enter an exact amount, without a dollar sign ($), using the format 1.00, 1,000.00 or 10,000.00.",bootstrapColClassNames:"col-xs-12 col-sm-3"},validation:{messages:{maxlength:'"Please enter an exact dollar amount, without a dollar sign ($), using no more than 14 characters."'}}},{key:"politicalDonationDate3",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Date donation or gift was made",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"politicalDonationDonorAddress3",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Donor's residential address or entity's registered address or other official office of the donor; address of person who made the gift or entity's address",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"politicalDonationDescription3",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Donation or gift?",required:!1,options:["Donation","Gift"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"politicalDonationDonor3",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Name of donor (or ABN if an entity); or name of person who made the gift",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-5"}},{key:"politicalDonationRecipient3",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Name of party or person for whose benefit the donation was made; or person to whom the gift was made",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-5"}}];return{page1:e,page2:t,page3:a,page4:r,page5:o}}angular.module("easyToDoBusiness").factory("daFormService",e)}(),function(){"use strict";function e(){var e=[{template:"<h2>Health regulation application</h2>"},{template:"<h3>Submit a health premises registration application</h3>"},{template:"<p>Please provide information about your business to request approval from Council to operate as a regulated premises. <br/> A service fee applies to inspections of regulated premises. All fees and charges are reviewed annually under Council's management plan. </p>"},{template:"<hr><p><b>Proprietor details</b></p>"},{key:"regulatedHealthPremisesCommencementDate",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Date the change takes effect or the commencement date of business",hint:"Enter date as DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"regulatedHealthPremisesPurpose",type:"radio",wrapper:["bootstrap-row-col","validation"],templateOptions:{label:"This application relates to which of the following? Select one only.",required:!1,options:[{value:"RegulatedHealthPremisesPurpose_4",label:"Ceased to exist"},{value:"RegulatedHealthPremisesPurpose_5",label:"Ceased to trade"},{value:"RegulatedHealthPremisesPurpose_2",label:"Change of proprietor"},{value:"RegulatedHealthPremisesPurpose_3",label:"Change of trading name"},{value:"RegulatedHealthPremisesPurpose_1",label:"New premises"},{value:"RegulatedHealthPremisesPurpose_6",label:"Other"}],bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"regulatedHealthPremisesPurposeOther",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If other, please provide more information about your reason for application.",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{template:"<hr><p><b>Development consent</b></p>"},{key:"regulatedHealthPremisesDA_Approved",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Has development consent been granted for the above use?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"regulatedHealthPremisesDaNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"DA number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"regulatedHealthPremisesCC_Approved",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Has a construction certificate been issued for the fit-out?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"regulatedHealthPremisesCcNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Construction certificate number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}}];return{page1:e}}angular.module("easyToDoBusiness").factory("foodHealthRegulationFormService",e)}(),function(){"use strict";function e(e){var t=[{template:"<h2>On-premises liquor licence application</h2>"},{template:"<h3>Applicant details</h3>"},{template:"<p>Please provide information about the applicant who will be the licensee for the premises. You'll need to include details like:<br/><ul><li>their previous experience</li><li>details of any previously held liquor licences, and</li><li>their RSA training details.</li></ul></p>"},{template:"<hr><p><b>Licence details</b></p>"},{key:"lgApplicantHoldsLiquorLicence",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Do you currently hold a liquor licence?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"lgApplicantLiquorLicenceNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Liquor licence number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"lgApplicantProposedLicenceName",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Licence name",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{template:"<hr><p><b>About the applicant</b></p>"},{key:"lgApplicantType",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Is the applicant an individual or an organisation? Select one only.",required:!1,options:["An individual","An organisation"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"lgApplicantGender",type:"select",className:"form-group",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Gender",placeholder:"Please select",required:!1,options:[{value:"Gender_FEMALE",label:"Female"},{value:"Gender_MALE",label:"Male"},{value:"Gender_OTHER",label:"Other"},{value:"Gender_PREFER",label:"Prefer not to say"}],bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"lgApplicantDateOfBirth",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Date of birth",hint:"Enter the date of birth in the format DD/MM/YYYY",
required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"lgApplicantPlaceOfBirth",type:"input",wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Place of birth",hint:"Enter the city and country of birth, for example, Camperdown, Australia",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"lgApplicantDriversLicenceNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Driver's licence number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"lgApplicantDriversLicenceIssuingState",type:"select",className:"form-group",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Driver's licence issuing state",placeholder:"Please select",required:!1,options:[{value:"AddressState_AAT",label:"Australian Antarctic Territory"},{value:"AddressState_ACT",label:"Australian Capital Territory"},{value:"AddressState_NSW",label:"New South Wales"},{value:"AddressState_NT",label:"Northern Territory"},{value:"AddressState_QLD",label:"Queensland"},{value:"AddressState_SA",label:"South Australia"},{value:"AddressState_TAS",label:"Tasmania"},{value:"AddressState_VIC",label:"Victoria"},{value:"AddressState_WA",label:"Western Australia"}],bootstrapColClassNames:"col-xs-12 col-sm-3"}},{template:"<b>Previous liquor licence details</b>"},{key:"lgApplicantHasApplicantExistingLiquorLicence",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Is or was the applicant ever associated with a liquor licence in NSW? (for example, as a licensee, business owner, approved manager, etc)",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"lgApplicantExistingEmployerLiquorLicenceNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Liquor licence number with previous employer",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"lgApplicantPreviousEmployerName",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Employer's name",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"lgApplicantPositionWithPreviousEmployer",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Position with employer",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"lgApplicantStartDateWithPreviousEmployer",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Start date with employer",hint:"Enter the start date in the format DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"lgApplicantEndDateWithPreviousEmployer",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"End date with employer",hint:"Enter the end date in the format DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"lgApplicantHasApplicantBeenRefusedLiquorLicence",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Has the applicant (and if applicant is an organisation, any of its directors or officeholders) ever been refused or disqualified from holding a liquor or gaming licence in Australia?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"lgApplicantApplicantPreviousRefusalDetails",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Enter some details about the refusal or disqualification, including licence name and number where possible",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"lgApplicantApplicantRSA_Flag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Does the applicant have responsible service of alcohol (RSA) qualifications?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{template:"<p><b>Important information:</b><br/>The applicant must complete RSA training before a liquor licence can be granted.</p>"},{key:"lgApplicantPlannedRSACourseCompletionDate",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"When will the applicant complete the RSA course?",hint:"Enter the date in the format DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"lgApplicantCertificateOfCompetencyCardIssueDate",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Certificate or Competency card issue date",hint:"Enter the date the certificate or card was issued using the format DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"lgApplicantRSACertificateNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"RSA certificate or competency card number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"lgApplicantRSATrainingProvider",type:"input",wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"RSA training provider",hint:"Enter the RSA training provider's name, for example TAFE NSW",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"lgApplicantProviderInstitutionName",type:"input",wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Provider's institution name",hint:"Enter the provider's institution name, for example Ryde Institute of TAFE",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"lgApplicantHasSixMonthsLiquorSupplyExperience",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Has the applicant had more than 6 months continuous experience selling/supplying liquor at a licensed venue?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"lgApplicantHasFiveYearsLiquorManagerialExperience",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Has the applicant had 5 years or more continuous experience as a licensee or approved manager?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"lgApplicantVenueTradesAfterMidnight",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Did these venues trade after midnight?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"lgApplicantVenueConductsLiveEntertainment",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Did these venues conduct live entertainment?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"lgApplicantVenueHasCapacityOver200",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Did these venues have a capacity of 200 or more?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"lgApplicantHas12MonthsLiquorAccordManagerialParticipation",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Has the applicant actively participated in a local liquor accord for more than 12 months as a licensee or approved manager?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}}],a=[{template:"<h2>On-premises liquor licence application</h2>"},{template:"<h3>Licenced premises details</h3>"},{template:"<p>Please provide details about the premises proposed to be licenced. This includes information about the development approval and proposed service. If you are not the building owner, please also provide details of the owner.</p>"},{template:"<hr><p><b>Address and contact details for the proposed licence premises</b></p>"},{key:"premiseStreetNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"premiseStreet",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street name and type",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"premiseSuburb",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Suburb",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"premisePostcode",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Postcode",required:!1,maxlength:4,pattern:"(1[0-9]{3}|2[0-5][0-9]{2}|26[2-9][0-9]|2[7-8][0-9]{2}|29[2-9][0-9])",patternValidationMessage:"Invalid postcode. Please enter a NSW postcode starting with 1 or 2 and use 4 numbers only.",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicPhoneDaytime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Main phone number",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"onPremLiqLicFax",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fax number (if applicable)",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"onPremLiqLicEmailAddress",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Email address",required:!1,maxlength:80,pattern:"^[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$",patternValidationMessage:"Invalid email address. Please enter an email address using the format example@email.com",bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"onPremLiqLicLocalGovernmentArea",type:"select",className:"form-group",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"What is the local government area for the premises?",placeholder:"Please select",required:!1,options:[{value:"LGAList_NSW267",label:"Parramatta"}],bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicProposedPatronCapacity",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"What is the proposed patron capacity of the licensed area?",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicPremiseInFreezePrecinctFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Are the licensed premised in a freeze precinct as specified under <i>Liquor Act 2007</i>?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"onPremLiqLicLicenceImpactOnFreezeArea",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If so, will the application (if granted) increase the number of people who enter the freeze precinct principally to consume alcohol? Please give reasons why or why not.",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"onPremLiqLicLocalCouncilAllowsLicence",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Does the local council's development consent or approval (if required) allow the licence at the premises?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"ccDevelopmentApplicationNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Enter DA number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"ccDADeterminationDate",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Enter DA grant date",hint:"Enter the DA grant date in the format DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"onPremLiqLicDADetailsExpectedSupplyDate",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If No, and if a DA is required, when do you expect these DA details will be supplied to us? You can lodge this application if a DA is pending. This application won't be granted before a DA is approved and supplied to us.",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"onPremLiqLicMainProductServiceSupplied",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"What is the main product or service that is sold or supplied on the premises?",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"onPremLiqLicProposedResponsiblePractices",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"What practices will be put in place at the licensed premises to ensure that liquor is sold, supplied or served responsibly, and that steps are taken to prevent intoxication on the premises, and that those practices will remain in place?",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{template:"<p><b>Other liquor related authorisations</b></p>"},{key:"onPremLiqLicIsLicenceRelatedAuthorisationProposed",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Is a licence-related authorisation proposed for this application?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{wrapper:["bootstrap-row-col","validation","label","fieldset"],templateOptions:{label:"Licence-related authorisation type",placeholder:"Please select",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"},fieldGroup:[{key:"LicenceRelatedAuthorisationType_EXT",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Extended trading authorisation"}]}},{key:"LicenceRelatedAuthorisationType_MINOR",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Minors functions authorisation (for other public entertainment business type only)"}]}},{key:"LicenceRelatedAuthorisationType_PRIM",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Primary service authorisation"}]}},{key:"LicenceRelatedAuthorisationType_SALE",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Sale on other premises authorisation (for catering services off the licensed premises or tour operator business type only)"}]}},{key:"LicenceRelatedAuthorisationType_TA",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Take away sales authorisation (for local product promotion business type only)"}]}}]},{template:"<hr><p><b>Owner of the premises</b></p>"},{key:"onPremLiqLicPremiseOwnerType",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Is the applicant an individual or an organisation?",required:!1,options:["An individual","An organisation"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{template:"<b>Individual owner details</b>"},{template:"<p>If the premises owner is an individual complete the following fields</p>"},{key:"onPremLiqLicPremOwnIndTitle",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Title",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicPremOwnIndFirstName",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"First name",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"onPremLiqLicPremOwnIndMiddleName",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Middle name",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"onPremLiqLicPremOwnIndLastName",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Last name",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"onPremLiqLicPremOwnIndGender",type:"select",className:"form-group",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Gender",placeholder:"Please select",required:!1,options:[{value:"Gender_FEMALE",label:"Female"},{value:"Gender_MALE",label:"Male"},{value:"Gender_OTHER",label:"Other"},{value:"Gender_PREFER",label:"Prefer not to say"}],bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicPremOwnIndDateOfBirth",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Date of birth",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"onPremLiqLicPremOwnIndPlaceOfBirth",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Place of Birth",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicPremOwnIndPhoneHome",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Phone (home)",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicPremOwnIndPhoneMobile",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Phone (mobile)",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicPremOwnIndPhoneDaytime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Phone (daytime)",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicPremOwnIndFax",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fax",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicPremOwnIndDriver'SLicence",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Driver's licence",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicPremOwnIndDriver'SLicenceState",type:"select",className:"form-group",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Driver's licence state",placeholder:"Please select",required:!1,options:[{value:"AddressState_AAT",label:"Australian Antarctic Territory"},{value:"AddressState_ACT",label:"Australian Capital Territory"},{value:"AddressState_NSW",label:"New South Wales"},{value:"AddressState_NT",label:"Northern Territory"},{value:"AddressState_QLD",label:"Queensland"},{value:"AddressState_SA",label:"South Australia"},{value:"AddressState_TAS",label:"Tasmania"},{value:"AddressState_VIC",label:"Victoria"},{value:"AddressState_WA",label:"Western Australia"}],bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicPremOwnIndEmailAddress",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Email address",required:!1,maxlength:80,pattern:"^[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$",patternValidationMessage:"Invalid email address. Please enter an email address using the format example@email.com",bootstrapColClassNames:"col-xs-12 col-sm-4"}},{template:"<b>Residential address</b>"},{key:"PremIndOwnerResAddressNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"PremIndOwnerResAddressStreet",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street name and type",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"PremIndOwnerResAddressSuburb",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Suburb",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"PremIndOwnerResAddressPostcode",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Postcode",required:!1,maxlength:4,pattern:"[0-9]{4}",patternValidationMessage:"Invalid postcode. Please use 4 numbers only.",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{template:"<b>Postal address</b>"},{key:"PremIndOwnerPostAddressNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"PremIndOwnerPostAddressStreet",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street name and type",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"PremIndOwnerPostAddressSuburb",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Suburb",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"PremIndOwnerPostAddressPostcode",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Postcode",required:!1,maxlength:4,pattern:"[0-9]{4}",patternValidationMessage:"Invalid postcode. Please use 4 numbers only.",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{template:"<b>Organisation details</b>"},{template:"<p>If the premises owner is an organisation (e.g. a company) complete the following fields</p>"},{key:"onPremLiqLicPremOwnOrgName",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Name of organisation",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicPremOwnOrgABN",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Australian Business Number (ABN)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicPremOwnOrgACN",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Australian Company Number (ACN)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicPremOwnOrgPhoneDaytime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Phone (daytime)",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicPremOwnOrgFax",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fax",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicPremOwnOrgWebsite",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Website",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{template:"<b>Business address</b>"},{key:"PremOrgOwnerBusAddressNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"PremOrgOwnerBusAddressStreet",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street name and type",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"PremOrgOwnerBusAddressSuburb",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Suburb",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"PremOrgOwnerBusAddressPostcode",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Postcode",required:!1,maxlength:4,pattern:"[0-9]{4}",patternValidationMessage:"Invalid postcode. Please use 4 numbers only.",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{template:"<b>Postal address</b>"},{key:"PremOrgOwnerPostAddressNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"PremOrgOwnerPostAddressStreet",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street name and type",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"PremOrgOwnerPostAddressSuburb",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Suburb",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"PremOrgOwnerPostAddressPostcode",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Postcode",required:!1,maxlength:4,pattern:"[0-9]{4}",patternValidationMessage:"Invalid postcode. Please use 4 numbers only.",bootstrapColClassNames:"col-xs-12 col-sm-1"}}],r=[{template:"<h2>On-premises liquor licence application</h2>"},{template:"<h3>Trading details</h3>"},{template:"<p>Please provide information about the proposed operating hours and 6-hour closure periods of the premises. Please check with your local council, as allowed trading hours may differ. </p><p>The NSW Department of Justice will approve a period that is appropriate to the particular premises and the circumstances, having regard to the objectives of the Liquor Act 2007. </p><p>Visit the NSW Department of Justice website for more information on trading hours.</p>"},{template:"<hr><p><b>Trading hours</b></p>"},{key:"onPremLiqLicTradingHoursMondayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Monday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicTradingHoursMondayEndTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Monday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicTradingHoursTuesdayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Tuesday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicTradingHoursTuesdayEndTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Tuesday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicTradingHoursWednesdayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Wednesday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicTradingHoursWednesdayEndTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Wednesday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicTradingHoursThursdayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Thursday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicTradingHoursThursdayFinishTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Thursday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicTradingHoursFridayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Friday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicTradingHoursFridayEndTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Friday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicTradingHoursSaturdayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Saturday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicTradingHoursSaturdayFinishTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Saturday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicTradingHoursSundayStartTime",
type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Sunday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicTradingHoursSundayFinishTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Sunday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{template:"<b>6-hour closure period</b>"},{key:"onPremLiqLicClosurePeriodMondayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Monday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicClosurePeriodMondayEndTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Monday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicClosurePeriodTuesdayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Tuesday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicClosurePeriodTuesdayEndTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Tuesday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicClosurePeriodWednesdayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Wednesday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicClosurePeriodWednesdayEndTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Wednesday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicClosurePeriodThursdayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Thursday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicClosurePeriodThursdayFinishTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Thursday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicClosurePeriodFridayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Friday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicClosurePeriodFridayEndTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Friday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicClosurePeriodSaturdayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Saturday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicClosurePeriodSaturdayEndTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Saturday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicClosurePeriodSundayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Sunday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicClosurePeriodSundayFinishTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Sunday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{template:'<p>Applicants should provide an account of the current or proposed mode of operation of the licensed premises, the demonstrated or likely needs of its patrons, the interests of the local community and the opinion (if any) of local Police towards the proposal.\nApplicants should also address how the proposed closure period relates to considerations that the Authority will have regard to under section 3(2) of the Liquor Act 2007,which are:<br/>\n<ol type="a"><li> the need to minimise harm associated with misuse and abuse of liquor (including harm arising from violence and other anti-social behaviour)</li>\n<li> the need to encourage responsible attitudes and practices towards the promotion, sale, supply, service and consumption of liquor, and</li>\n<li> the need to ensure that the sale, supply and consumption of liquor contributes to, and does not detract from, the amenity of community life.</li></ol></p>'},{key:"onPremLiqLicModeOfOperationDescription",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Description of mode of operation",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{template:"<hr><p><b>Interested parties other than the business owner or premises owner</b></p>"},{template:"<p>Complete this section for any other interested individuals who will receive an entitlement (e.g. income or other financial benefit) from the business</p>"},{key:"onPremLiqLicInterestedIndividualTitle",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Title",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"onPremLiqLicInterestedIndividualGender",type:"select",className:"form-group",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Gender",placeholder:"Please select",required:!1,options:[{value:"Gender_FEMALE",label:"Female"},{value:"Gender_MALE",label:"Male"},{value:"Gender_OTHER",label:"Other"},{value:"Gender_PREFER",label:"Prefer not to say"}],bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicInterestedIndividualFirstName",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"First name",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"onPremLiqLicInterestedIndividualMiddleName",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Middle name",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"onPremLiqLicInterestedIndividualLastName",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Last name",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"onPremLiqLicInterestedIndividualDateofBirth",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Date of birth",hint:"Enter the date of birth in the format DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"onPremLiqLicInterestedIndividualPlaceofBirth",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Place of birth",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicInterestedIndividualPhoneHome",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Phone (home)",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicInterestedIndividualPhoneMobile",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Phone (mobile)",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicInterestedIndividualPhoneDaytime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Phone (daytime)",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicInterestedIndividualFax",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fax",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicInterestedIndividualDriverslicence",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Driver's licence",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicInterestedIndividualDriversLicenceState",type:"select",className:"form-group",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Driver's licence state",placeholder:"Please select",required:!1,options:[{value:"AddressState_AAT",label:"Australian Antarctic Territory"},{value:"AddressState_ACT",label:"Australian Capital Territory"},{value:"AddressState_NSW",label:"New South Wales"},{value:"AddressState_NT",label:"Northern Territory"},{value:"AddressState_QLD",label:"Queensland"},{value:"AddressState_SA",label:"South Australia"},{value:"AddressState_TAS",label:"Tasmania"},{value:"AddressState_VIC",label:"Victoria"},{value:"AddressState_WA",label:"Western Australia"}],bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicInterestedIndividualEmailAddress",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Email address",required:!1,maxlength:80,pattern:"^[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$",patternValidationMessage:"Invalid email address. Please enter an email address using the format example@email.com",bootstrapColClassNames:"col-xs-12 col-sm-4"}},{template:"<b>Residential address</b>"},{key:"onPremLiqLicIntPersonResidentialAddressNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicIntPersonResidentialAddressStreet",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street name and type",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"onPremLiqLicIntPersonResidentialAddressSuburb",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Suburb",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"onPremLiqLicIntPersonResidentialAddressPostcode",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Postcode",required:!1,maxlength:4,pattern:"[0-9]{4}",patternValidationMessage:"Invalid postcode. Please use 4 numbers only.",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{template:"<b>Postal address</b>"},{key:"onPremLiqLicIntPersonPostalAddressNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicIntPersonPostalAddressStreet",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street name and type",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"onPremLiqLicIntPersonPostalAddressSuburb",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Suburb",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"onPremLiqLicIntPersonPostalAddressPostcode",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Postcode",required:!1,maxlength:4,pattern:"[0-9]{4}",patternValidationMessage:"Invalid postcode. Please use 4 numbers only.",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"onPremLiqLicInterestedOrganisationBusinessName",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Business name",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"onPremLiqLicInterestedOrganisationABN",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Australian Business Number (ABN)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicInterestedOrganisationACN",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Australian Company Number (ACN)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicInterestedOrganisationPhoneDaytime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Phone (daytime)",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicInterestedOrganisationFax",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fax",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"onPremLiqLicInterestedOrganisationWebsite",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Website",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{template:"<b>Business address</b>"},{key:"onPremLiqLicIntOrgBusinessAddressNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicIntOrgBusinessAddressStreet",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street name and type",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"onPremLiqLicIntOrgBusinessAddressSuburb",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Suburb",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"onPremLiqLicIntOrgBusinessAddressPostcode",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Postcode",required:!1,maxlength:4,pattern:"[0-9]{4}",patternValidationMessage:"Invalid postcode. Please use 4 numbers only.",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{template:"<b>Business Postal address</b>"},{key:"onPremLiqLicIntOrgPostalAddressNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicIntOrgPostalAddressStreet",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street name and type",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"onPremLiqLicIntOrgPostalAddressSuburb",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Suburb",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"onPremLiqLicIntOrgPostalAddressPostcode",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Postcode",required:!1,maxlength:4,pattern:"[0-9]{4}",patternValidationMessage:"Invalid postcode. Please use 4 numbers only.",bootstrapColClassNames:"col-xs-12 col-sm-2"}}],o=[{template:"<h2>On-premises liquor licence application</h2>"},{template:"<h3>Primary service authorisation</h3>"},{template:"<p>Please complete the following section if you want to serve alcohol at your cafe or restaurant to customers who are not consuming food. This is known as a Primary Service Authorisation (PSA). </p><p>You will need to provide information about your proposed business as it related to your PSA. </p>"},{template:"<hr><p><b>Business, Venue or Activity Details</b></p>"},{wrapper:["bootstrap-row-col","validation","label","fieldset"],templateOptions:{label:"What is the kind of business or activity carried out on the licensed premises, or what is the kind of licensed premises to which the licence relates? (Tick one or more if applicable)",placeholder:"Please select",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"},fieldGroup:[{key:"PremisesActivityType_ACCOM",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Accommodation premises"}]}},{key:"PremisesActivityType_AIRPORT",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Airport"}]}},{key:"PremisesActivityType_CATER",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Catering service"}]}},{key:"PremisesActivityType_CIN",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Cinema public entertainment venue"}]}},{key:"PremisesActivityType_CLUB",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Club activity and support"}]}},{key:"PremisesActivityType_KAR",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Karaoke venue"}]}},{key:"PremisesActivityType_PROM",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Local product promotion"}]}},{key:"PremisesActivityType_OTHPUB",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Other public entertainment venue"}]}},{key:"PremisesActivityType_ARENA",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Public arena and events"}]}},{key:"PremisesActivityType_HALL",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Public hall"}]}},{key:"PremisesActivityType_RACING",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Racing facility"}]}},{key:"PremisesActivityType_REST",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Restaurant"}]}},{key:"PremisesActivityType_SPORT",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Sport facility"}]}},{key:"PremisesActivityType_TERT",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Tertiary institution"}]}},{key:"PremisesActivityType_THEATRE",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Theatre public entertainment venue"}]}},{key:"PremisesActivityType_TOUR",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Tour operator"}]}},{key:"PremisesActivityType_TOURIST",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Tourist facility"}]}},{key:"PremisesActivityType_VESSEL",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Racing Facility"}]}},{key:"PremisesActivityType_OTH",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Other"}]}}]},{key:"onPremLiqLicPremisesActivityTypeOther",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Other, please specify",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"onPremLiqLicIntendedHoursOfLiquorSupply",type:"select",className:"form-group",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"When will the authorisation be used?",placeholder:"Please select",required:!1,options:[{value:"IntendedHoursOfLiquorSupply_ALL",label:"All approved trading hours"},{value:"IntendedHoursOfLiquorSupply_PART",label:"Part of approved trading hours"}],bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"onPremLiqLicStartTimeOfAuthorisation",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Start time of authorisation",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicEndTimeOfAuthorisation",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"End time of authorisation",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicPrimaryBusinessActivityAvailableDuringLiquorSales",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Will the other product or service be available on the licensed premises at all times while the primary service authorisation operates?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"onPremLiqLicLiquorNotPrimaryBusinessActivityPlan",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"How will you ensure that the sale or supply of liquor is not the primary purpose of the business or activity carried out on the licensed premises?",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"onPremLiqLiclPremisesFurnishingChangeDueToLicenceFlag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Will the layout or interior furnishings of the premises be changed to accommodate the authorisation if granted?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"onPremLiqLicPremisesFurnishingChangeDescription",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If yes, describe how",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"onPremLiqLicExistingPatronCapacity",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"What is the existing patron capacity of the licenced premises?",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"onPremLiqLicPatronCapacityIfLicenceGranted",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"What will be the patron capacity of the licensed area if this application is granted?",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}}];return{page1:t,page2:a,page3:r,page4:o}}e.$inject=["$sce"],angular.module("easyToDoBusiness").factory("liquorCafeLicenceFormService",e)}(),function(){"use strict";function e(){var e=[{template:"<h2>Community Impact Statement</h2>"},{template:"<h3>Application details</h3>"},{template:"<p>Please provide information about the licence application details, including the type of licence proposed for the premises.</p>"},{template:"<hr><p><b>Application details</b></p>"},{wrapper:["bootstrap-row-col","validation","label","fieldset"],templateOptions:{label:"This Community Impact Statement relates to which of the following? Select all that apply.",placeholder:"Please select",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"},fieldGroup:[{key:"CIS_ApplicationReason_CHNL",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Application for Packaged Liquor Licence"}]}},{key:"CIS_ApplicationReason_EXIST",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Package licence type - new licence"}]}},{key:"CIS_ApplicationReason_REM",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Package licence type - removal of existing licence"}]}},{key:"CIS_ApplicationReason_EXT",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Extended trading authorisation"}]}},{key:"CIS_ApplicationReason_PRIM",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Primary service authorisation"}]}},{key:"CIS_ApplicationReason_OTH",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Other"}]}}]},{key:"cisProposedPremisesName",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Name of (proposed) licensed premises",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"cisProposedPremisesAddress",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Address of (proposed) licensed premises",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"cisExistingPremisesName",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Name of existing licensed premises (if applicable)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"cisExistingPremisesAddress",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Address of existing licensed premises (if applicable)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}}],t=[{template:"<h2>Community Impact Statement</h2>"},{template:"<h3>Your local community</h3>"},{template:"<p>To get a better understanding of the local community and whether special interest groups should be notified, you should consider whether community buildings, facilities or places are near the proposed licensed premises. These could include, for example:<br/>\n<ul><li>schools</li>\n<li>hospitals</li>\n<li>churches, or</li>\n<li>public parks.</li>\n</ul> \n</p>"},{template:"<hr><p><b>Nearby community buildings, facilities and places</b></p>"},{template:"<b>Are any of the following community buildings, facilities or areas located near the proposed licensed premises?</b>"},{key:"cisNearbyHealthFacility",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Hospitals or other health facilities",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cisNearbyHealthFacilityPlaceDescription",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Please provide details and descriptions (including name and address) of the nearby hospitals or health facilities",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"cisNearbyNursingHome",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Nursing homes",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cisNearbyNursingHomePlaceDescription",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Please provide details and descriptions (including name and address) of the nearby nursing homes",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"cisNearbyPlaceOfWorship",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Places of worship (of any faith)",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cisNearbyPlaceOfWorshipDescription",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Please provide details and descriptions (including name and address) of the nearby places of worship",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"cisNearbyEducationalFacility",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Schools, universities, TAFE colleges, other educational facilities",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cisNearbyEducationalFacilityDescription",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Please provide details and descriptions (including name and address) of the nearby educational facilities",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"cisNearbyHomelessCareFacility",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Facilities for people who are homeless",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cisNearbyHomelessCareFacilityDescription",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Please provide details and descriptions (including name and address) of the nearby facilities for homeless people",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"cisNearbyDetoxificationFacility",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Detoxification facilities for people with alcohol-related problems",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cisNearbyDetoxificationFacilityDescription",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Please provide details and descriptions (including name and address) of the nearby detoxification facilities",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"cisNearbyPublicRecreationalFacility",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Public parks and sporting grounds and other public facilities",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cisNearbyPublicRecreationalFacilityDescription",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Please provide details and descriptions (including name and address) of the nearby Public Recreational Facilities",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"cisNearbyAlcoholFreeZone",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Alcohol Free Zones",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cisNearbyAlcoholFreeZoneDescription",type:"textarea",
wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Details and descriptions of the nearby Alcohol Free Zones",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"cisNearbyProblemDrinkingArea",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Any area that has been identified by the Police as being a problem area in relation to public drinking",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cisNearbyProblemDrinkingAreaDescription",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Details and descriptions of the nearby problem drinking areas",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"cisNearbyOtherArea",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Other",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cisNearbyOtherAreaDescription",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Details and descriptions of the area",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}}],a=[{template:"<h2>Community Impact Statement</h2>"},{template:"<h3>Stakeholder consultation</h3>"},{template:"<p>Following your engagement with the community, please provide details of who you spoke with, and any issues that were raised.</p><p>If you have received written comments from stakeholders, you can provide a copy of these comments when you upload all your documentation as part of Task 5 for your on-premises liquor licence. Please get verbal consent from the people who made the comments before you upload the documents. These will be included with all the documents submitted to Liquor & Gaming NSW by us.</p><p>Alternatively, you can use the space given to describe issues raised in written advice you have received.</p><p>Please note that there may be circumstances where stakeholders raised no issues. If so, make sure you tick the “No” boxes.</p>"},{template:"<hr><p><b>Who did you consult with and how?</b></p>"},{key:"cisConsultedCouncilConsentAuthority",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Local Council/other consent authority stakeholder who received the consultation notice",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cisConsultedCouncilConsentAuthorityName",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Please provide the name of the council and/or authority",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"cisConsultedPoliceStation",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Local Police stakeholder who received the consultation notice",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cisConsultedPoliceStationName",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Please provide the name of the police station",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"cisConsultedOther",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Other  stakeholder who received the consultation notice",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cisConsultedOtherDetails",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Please provide details of any other stakeholders",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{template:"<hr><p><b>Stakeholder Issues</b></p>"},{key:"cisCouncilConsentAuthorityIssueRaised",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Were any issues raised by local councils or other consent authorities?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cisCouncilConsentAuthorityIssueDescription",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If yes describe those issues raised by local councils or other consent authorities",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"cisPoliceStationIssueRaised",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Were any issues raised by local police?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cisPoliceStationIssueDescription",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If yes describe those issues raised by local police",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"cisConsultedOtherIssueRaised",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Were any issues raised by other stakeholders",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cisConsultedOtherIssueDescription",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If yes describe those issues raised by other stakeholders",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{template:"<hr><p><b>Outcome of consultation</b></p>"},{key:"cisStakeholderIssueResolved",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Were you able to resolve any issues or concerns raised during consultation?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cisStakeholderIssueResolvedDescription",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If Yes, describe how resolution was reached, including any modifications to your proposed application as a result of consultation. If you have given undertakings, describe them, including the persons or organisations to whom they were given",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"cisStakeholderIssueNotResolvedDescription",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If No, describe why you were not able to resolve issues, concerns and objections raised by stakeholders. Describe any undertakings, concessions or modifications to your proposed application that you offered to stakeholders that were not accepted",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}}],r=[{template:"<h2>Community Impact Statement</h2>"},{template:"<h3>Additional information</h3>"},{template:"<p>Please let us know of any future plans for consultation with the community and the impact you believe your proposed liquor licence will have on the local community. Include any potential negative impacts as well as benefits for stakeholders. </p><p>If you believe your application will have no impact, include a statement with reasons why you believe your application will have no impact.</p>"},{template:"<hr><p><b>Future consultation</b></p>"},{key:"cisRaisedConcernsConsultationIntention",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Do you propose to consult with stakeholders in the future to ensure any concerns they have raised during the preparation of this Community Impact Statement have been satisfactorily addressed?",required:!1,options:["Yes","No","Not Applicable"],bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{key:"cisRaisedConcernsFutureSteps",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Describe the steps you will take in the future",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"cisRaisedConcernsNotNecessary",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Describe why you do not believe ongoing consultation is necessary",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"cisFutureConcernsConsultationIntention",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Do you propose to consult with stakeholders in the future to address any future concerns that may arise?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"cisFutureConcernsSteps",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Describe the steps you will take in the future",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{template:"<hr><p><b>Your View</b></p>"},{key:"cisLiquorLicenceImpactDescription",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Tell us about the impact you think your proposed liquor licence or a licence-related authorisation will have on the local community. Include any potential negative impacts as well as benefits for stakeholders. If you think your application will have no impact, include a statement with reasons why you think your application will have no impact",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}}];return{page1:e,page2:t,page3:a,page4:r}}angular.module("easyToDoBusiness").factory("liquorCommunityImpactFormService",e)}(),function(){"use strict";function e(){var e=[{template:"<h2>Small bar liquor licence application</h2>"},{template:"<h3>Applicant details</h3>"},{template:"<p>Please provide information about the applicant who will be the licensee for the premises. You'll need to include details like:<br/><ul><li>their previous experience</li><li>details of any previously held liquor licences, and</li><li>their RSA training details.</li></ul></p>"},{template:"<hr><p><b>About the applicant</b></p>"},{wrapper:["bootstrap-row-col","validation","label","fieldset"],templateOptions:{label:"Which of the following best describes the applicant? Select all that apply.",placeholder:"Please select",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"},fieldGroup:[{key:"APP200ApplicantRelationType_BUS",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"A business owner"}]}},{key:"APP200ApplicantRelationType_PREM",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"A premises owner"}]}},{key:"APP200ApplicantRelationType_OTH",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"Another interested party (that is, a person or organisation entitled to receive income or other financial benefit from the business, like rent)"}]}}]},{key:"lgApplicantRelationshipTypeOtherDesc",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If an interested party. please describe interest",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"lgApplicantType",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Is the applicant an individual or an organisation? Select one only.",required:!1,options:["An individual","An organisation"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"lgApplicantGender",type:"select",className:"form-group",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Gender",placeholder:"Please select",required:!1,options:[{value:"Gender_FEMALE",label:"Female"},{value:"Gender_MALE",label:"Male"},{value:"Gender_OTHER",label:"Other"},{value:"Gender_PREFER",label:"Prefer not to say"}],bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"lgApplicantDateOfBirth",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Date of birth",hint:"Enter the date of birth in the format DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"lgApplicantPlaceOfBirth",type:"input",wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Place of birth",hint:"Enter the city and country of birth, for example, Camperdown, Australia",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"lgApplicantDriversLicenceNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Driver's licence number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"lgApplicantDriversLicenceIssuingState",type:"select",className:"form-group",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Driver's licence issuing state",placeholder:"Please select",required:!1,options:[{value:"AddressState_AAT",label:"Australian Antarctic Territory"},{value:"AddressState_ACT",label:"Australian Capital Territory"},{value:"AddressState_NSW",label:"New South Wales"},{value:"AddressState_NT",label:"Northern Territory"},{value:"AddressState_QLD",label:"Queensland"},{value:"AddressState_SA",label:"South Australia"},{value:"AddressState_TAS",label:"Tasmania"},{value:"AddressState_VIC",label:"Victoria"},{value:"AddressState_WA",label:"Western Australia"}],bootstrapColClassNames:"col-xs-12 col-sm-3"}},{template:"<b>Previous liquor licence details</b>"},{key:"lgApplicantHasApplicantExistingLiquorLicence",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Is or was the applicant ever associated with a liquor licence in NSW? (for example, as a licensee, business owner, approved manager, etc)",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"lgApplicantApplicantExistingLiquorLicenceDetails",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If yes, enter details of the liquor licence the applicant was previously associated with, including licence name, number, role and date.",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"lgApplicantHasApplicantBeenRefusedLiquorLicence",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Has the applicant (and if applicant is an organisation, any of its directors or officeholders) ever been refused or disqualified from holding a liquor or gaming licence in Australia?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"lgApplicantApplicantPreviousRefusalDetails",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If yes, enter some details about the refusal or disqualification, including licence name and number where possible",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}},{key:"lgApplicantApplicantRSA_Flag",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Does the applicant have responsible service of alcohol (RSA) qualifications?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{template:"<p><b>Important information:</b><br/>The applicant must complete RSA training before a liquor licence can be granted.</p>"},{key:"lgApplicantPlannedRSACourseCompletionDate",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"When will the applicant complete the RSA course?",hint:"Enter the date in the format DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"lgApplicantCertificateOfCompetencyCardIssueDate",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Certificate or Competency card issue date",hint:"Enter the date the certificate or card was issued using the format DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"lgApplicantRSACertificateNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"RSA certificate or competency card number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"lgApplicantRSATrainingProvider",type:"input",wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"RSA training provider",hint:"Enter the RSA training provider's name, for example TAFE NSW",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"lgApplicantProviderInstitutionName",type:"input",wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Provider's institution name",hint:"Enter the provider's institution name, for example Ryde Institute of TAFE",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"lgApplicantHasSixMonthsLiquorSupplyExperience",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Has the applicant had more than 6 months' continuous experience selling/supplying liquor at a licensed venue?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"lgApplicantHasFiveYearsLiquorManagerialExperience",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Has the applicant had 5 years or more continuous experience as a licensee or approved manager?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"lgApplicantVenueTradesAfterMidnight",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Did these venues trade after midnight?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"lgApplicantVenueConductsLiveEntertainment",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Did these venues conduct live entertainment?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"lgApplicantVenueHasCapacityOver200",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Did these venues have a capacity of 200 or more?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"lgApplicantHas12MonthsLiquorAccordManagerialParticipation",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Has the applicant actively participated in a local liquor accord for more than 12 months as a licensee or approved manager?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}}],t=[{template:"<h2>Small bar liquor licence application</h2>"},{template:"<h3>Licenced premises details</h3>"},{template:"<p>Please provide information about the premises that is to be licensed, including the development approval and community impact.</p>"},{template:"<hr><p><b>Address and contact details for the proposed licence premises</b></p>"},{key:"premiseStreetNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"premiseStreet",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Street name and type",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-8"}},{key:"premiseSuburb",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Suburb",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"premisePostcode",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Postcode",required:!1,maxlength:4,pattern:"(1[0-9]{3}|2[0-5][0-9]{2}|26[2-9][0-9]|2[7-8][0-9]{2}|29[2-9][0-9])",patternValidationMessage:"Invalid postcode. Please enter a NSW postcode starting with 1 or 2 and use 4 numbers only.",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200PremisesPhoneNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Main phone number",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"app200PremisesFaxNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Fax number (if applicable)",required:!1,maxlength:15,pattern:"[0-9]{0,14}",patternValidationMessage:"Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"app200EmailAddress",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Email address",required:!1,maxlength:80,pattern:"^[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$",patternValidationMessage:"Invalid email address. Please enter an email address using the format example@email.com",bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"app200WebAddress",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Web address (if applicable)",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"app200LocalGovernmentArea",type:"select",className:"form-group",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Local Government Area (LGA)",placeholder:"Please select",required:!1,options:[{value:"LGAList_NSW267",label:"Parramatta"}],bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"app200PatronCapacity",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Patron capacity of proposed licensed area",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200IsPremiseInFreezePrecinct",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Are the licensed premised in a freeze precinct as specified under <i>Liquor Act 2007</i>?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{template:"<hr><p><b>Development consent and community impact</b></p>"},{key:"app200IsDevelopmentConsentRequired",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Is development consent required under the <i>Environment Planning and Assessment Act 1979</i> to use premises as a small bar, or to sell liquor during the extended liquor trading hours to which this application refers",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"app200HasConsentBeenAppliedFor",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Has this consent been applied for?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"app200ConsentApplicationDate",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Enter the date consent was applied for",hint:"Enter the date consent was applied for using the format DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"app200DidNotifyAuthorityOfConsentApplication",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Did you notify the local police and the Secretary of the development consent application within 2 days of lodging that application?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"app200NoticeOfConsentApplicationDate",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"On which date? (You'll need to upload evidence, for example, the notification form)",hint:"Enter the notification date using the format DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-2"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"app200IsVariationToDA",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Have there been any variations to the DA?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"app200NotificationOfVariationWithin2Days",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Did you notify the local police and Secretary of the variation within 2 days? (You'll need to upload evidence)",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"app200IsDevelopmentConsentGranted",type:"btn-radio",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Has development consent been granted?",required:!1,options:["Yes","No"],bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{key:"app200DADetailsExpectedDate",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Enter DA grant date",hint:"Enter DA grant date using the format DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"ccDevelopmentApplicationNumber",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Enter DA number",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"ccDADeterminationDate",type:"input",data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},wrapper:["bootstrap-row-col","hint","validation","label"],templateOptions:{label:"Enter DA grant date",hint:"Enter DA grant date using the format DD/MM/YYYY",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-4"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'}}}],a=[{template:"<h2>Small bar liquor licence application</h2>"},{template:"<h3>Trading details</h3>"},{template:"<p> Please provide information about the proposed operating hours of the premises. Standard trading hours for a small bar licence are midday to midnight each day of the week, with the exception of restricted trading days (like Good Friday or Christmas Day). Please check with your local council, as allowed trading hours may differ. </p>"},{template:"<hr><p><b>Proposed trading hours</b></p>"},{key:"app200TradingHoursApplicationType",type:"select",className:"form-group",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"What type of trading hours are you applying for?",placeholder:"Please select",required:!1,options:[{value:"TradingHoursApplicationType_NORM",label:"Normal small bar trading hours"},{value:"TradingHoursApplicationType_EXT",label:"Optional extended trading hours"}],bootstrapColClassNames:"col-xs-12 col-sm-4"}},{template:"<hr><p><b>Optional extended trading details</b></p>"},{template:"<p>If you chose, 'normal small bar trading hours' you do not need to complete the fields below.</p>"},{template:"<b>Proposed liquor trading hours</b>"},{key:"app200TradingHoursMondayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Monday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200TradingHoursMondayFinishTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Monday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200TradingHoursTuesdayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Tuesday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200TradingHoursTuesdayFinishTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Tuesday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200TradingHoursWednesdayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Wednesday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200TradingHoursWednesdayFinishTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Wednesday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200TradingHoursThursdayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Thursday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200TradingHoursThursdayFinishTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Thursday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200TradingHoursFridayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Friday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200TradingHoursFridayFinishTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Friday- End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200TradingHoursSaturdayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],
templateOptions:{label:"Saturday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200TradingHoursSaturdayFinishTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Saturday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200TradingHoursSundayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Sunday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200TradingHoursSundayFinishTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Sunday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{template:"<b>Proposed 6-hour closure period</b>"},{key:"app200ClosurePeriodMondayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Monday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200ClosurePeriodMondayFinishTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Monday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200ClosurePeriodTuesdayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Tuesday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200ClosurePeriodTuesdayFinishTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Tuesday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200ClosurePeriodWednesdayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Wednesday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200ClosurePeriodWednesdayFinishTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Wednesday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200ClosurePeriodThursdayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Thursday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200ClosurePeriodThursdayFinishTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Thursday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200ClosurePeriodFridayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Friday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200ClosurePeriodFridayFinishTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Friday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200ClosurePeriodSaturdayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Saturday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200ClosurePeriodSaturdayFinishTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Saturday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200ClosurePeriodSundayStartTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Sunday - Start time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200ClosurePeriodSundayFinishTime",type:"input",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"Sunday - End time",required:!1,maxlength:4,pattern:"([0-1][0-9][0-5][0-9])|([2][0-3][0-5][0-9])",patternValidationMessage:"Invalid time. Please enter time in 24 hour format, like 1745 for 5:45pm",bootstrapColClassNames:"col-xs-12 col-sm-1"}},{key:"app200ExemptionFromStandardHoursReason",type:"textarea",wrapper:["bootstrap-row-col","validation","label"],templateOptions:{label:"If the proposed hours are not midday to midnight or 2:00AM, provide reasons and relevant information in support of the trading hours and closure period proposed.",required:!1,bootstrapColClassNames:"col-xs-12 col-sm-12"}}];return{page1:e,page2:t,page3:a}}angular.module("easyToDoBusiness").factory("liquorSmallBarLicenceFormService",e)}(),function(){"use strict";function e(e,t){var a=this;a.model={},a.fields=e.getDisclaimerFields(),a.isDisabled=function(){return"Yes"!==a.model.eligiblityRequirements||"Yes"!==a.model.premisesInParramatta},a.onSubmit=function(){a.form.$invalid||"Yes"===a.model.eligiblityRequirements&&"Yes"===a.model.premisesInParramatta&&t.go("etb.screening.personalDetails")}}e.$inject=["etbDisclaimerService","$state"],angular.module("easyToDoBusiness").controller("etbDisclaimerController",e)}(),function(){"use strict";function e(e,t,a){var r=function(){var e=[{type:"btn-radio",key:"premisesInParramatta",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{required:!0,options:["Yes","No"],label:"Is your business premises located in the Parramatta City Council area?",bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0},validation:{messages:{required:function(){return"You need to confirm if your business is located in the Parramatta City Council area."}}}},{templateUrl:"easyToDoBusiness/screening/disclaimer/etb-disclaimer-help-new-business.html",hideExpression:'model.premisesInParramatta !== "No"'},{templateUrl:"easyToDoBusiness/screening/disclaimer/etb-disclaimer-required-info.html"},{type:"btn-radio",key:"eligiblityRequirements",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{required:!0,options:["Yes","No"],label:"Do you have everything you need to start using your Small Business Navigator?",bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0},validation:{messages:{required:function(){return"You need to confirm if you have everything you need to start using your Small Business Navigator."}}}},{templateUrl:"easyToDoBusiness/screening/disclaimer/etb-disclaimer-help.html",hideExpression:'model.eligiblityRequirements !== "No"'},{key:"termsAndConditions",type:"checkbox-label-with-action",templateOptions:{required:!0,label:"Terms of Use",labels:[{text:"I agree to the"},{text:"Terms of Use *",action:function(){a.open({templateUrl:"easyToDoBusiness/screening/termsAndConditions/etb-terms-and-conditions.html",controller:"snswModalController"})}}]},validation:{messages:{required:'"Your need to agree to the Terms of Use to continue."'}}}];return e};return{getDisclaimerFields:r}}e.$inject=["snswModal","etbService","$modal"],angular.module("easyToDoBusiness").factory("etbDisclaimerService",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/screening/disclaimer/etb-disclaimer.html",controller:"etbDisclaimerController as disclaimer"}}angular.module("easyToDoBusiness").directive("etbDisclaimer",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/screening/foodAlcohol/etb-food-alcohol.html",controller:"etbFoodAlcoholController as foodAlcohol"}}angular.module("easyToDoBusiness").directive("etbFoodAlcohol",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s){function n(e){r.log("data",e),u.transaction.transactionToken=e.transactionToken,i.transactionToken=e.transactionToken,u.transaction.prescreening.model={},u.transaction.preScreeningData={},c()}function l(e){r.error("preScreeningSubmission error:",e)}function c(){o.confirmation({heading:"Thanks",body:"<p>We've sent you an email containing your Unique Customer Number. Make sure to keep this number handy, you'll need it to return to your Small Business Navigator.</p><p>We're busy reviewing your information now. Within 2 business days, you'll get a call from someone in the team, who'll guide you through an introductory planning session about 30 to 60 minutes long.</p><p>Congratulations on getting started with your new business!</p>",secondaryButton:"Close",primaryButton:null})["finally"](function(){r.log("go to dashboard"),t.go("etb.dashboard")})}var u=this;u.model=u.transaction.prescreening.model,u.fields=e.getFoodAlcoholFields(),u.options={formState:{removeLiquorFields:function(){var e=["rsaTraining","psa","extendedHours"];e.forEach(function(e){u.model[e]&&delete u.model[e]})}}},u.onSubmit=function(e){if(u.validationSummaryFields=angular.copy(u.fields),u.form.$valid){var t={preScreening:a.getPreScreeningObj(u.fields,e)};angular.merge(u.transaction.preScreeningData,t),a.preScreeningSubmission(u.transaction.preScreeningData).then(n)["catch"](l)}else s.scrollTop()}}e.$inject=["etbFoodAlcoholService","$state","etbScreeningService","$log","snswModal","etbService","UIService"],angular.module("easyToDoBusiness").controller("etbFoodAlcoholController",e)}(),function(){"use strict";function e(){var e=function(){var e=[{template:"<b>Food and drink</b>"},{type:"btn-radio",key:"serveFoodAndDrinks",wrapper:["bootstrap-row-col","label","validation","hint"],templateOptions:{required:!0,options:["Yes","No"],label:"Will you be serving food and drinks on the premises?",bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{type:"btn-radio",key:"foodSafetyTraining",wrapper:["bootstrap-row-col","label","validation","hint"],templateOptions:{required:!0,options:["Yes","No"],label:"Have you, or has someone in your business, completed the necessary food safety supervisor training?",hint:"If you're serving food, you'll need to appoint someone who is food safety certified.",bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{template:"<hr/><b>Alcohol</b>"},{type:"btn-radio",key:"liquor",wrapper:["bootstrap-row-col","label","validation","hint"],templateOptions:{required:!0,options:["Yes","No"],label:"Will you be serving liquor on premises?",onChange:"formState.removeLiquorFields()",hint:"If you're planning on serving alcoholic drinks, you'll need to apply for a liquor licence.",bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{type:"btn-radio",key:"rsaTraining",wrapper:["bootstrap-row-col","label","validation","hint"],hideExpression:'!model.liquor || model.liquor === "No"',templateOptions:{options:["Yes","No"],label:"Have you, or someone in your business, completed Responsible Service of Alcohol (RSA) training?",hint:"You need to appoint someone in your business who has comepleted their RSA.",bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0},expressionProperties:{"templateOptions.required":'model.liquor === "Yes"'}},{type:"btn-radio",key:"psa",wrapper:["bootstrap-row-col","label","validation","hint"],hideExpression:'!model.liquor || model.liquor === "No"',templateOptions:{options:["Yes","No"],label:"Do you want customers to be able to drink alcohol without buying food? (This is called a Primary Service Authorisation (PSA))",hint:"You will need a PSA if you want to allow your customers to buy alcohol without having to buy food at the same time. ",bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0},expressionProperties:{"templateOptions.required":'model.liquor === "Yes"'}},{type:"btn-radio",key:"extendedHours",wrapper:["bootstrap-row-col","label","validation"],hideExpression:'!model.liquor || model.liquor === "No"',templateOptions:{options:["Yes","No"],label:"Do you want to apply for Extended Trading Hours?",required:!0,bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0},expressionProperties:{"templateOptions.required":'model.liquor === "Yes"'}}];return e};return{getFoodAlcoholFields:e}}angular.module("easyToDoBusiness").factory("etbFoodAlcoholService",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/screening/personalDetails/etb-personal-details.html",controller:"etbPersonalDetailsController as personal"}}angular.module("easyToDoBusiness").directive("etbPersonalDetails",e)}(),function(){"use strict";function e(e,t,a,r){var o=this;o.model=o.transaction.prescreening.model,o.model.callTime||(o.model.callTime=new Date,o.model.callTime.setHours(12),o.model.callTime.setMinutes(0)),o.fields=t.getPersonalDetails(),o.onSubmit=function(i){if(o.validationSummaryFields=a.getValidationFields(o.fields),o.form.$valid){var s=t.assemblePreScreenObj(i);angular.merge(o.transaction.preScreeningData,s),e.go("etb.screening.premiseDetails")}else r.scrollTop()}}e.$inject=["$state","etbPersonalDetailsService","etbScreeningService","UIService"],angular.module("easyToDoBusiness").controller("etbPersonalDetailsController",e)}(),function(){"use strict";function e(e,t,a,r){function o(e){var a={person:{title:e.title,firstName:e.firstName,middleName:e.middleName,lastName:e.lastName,streetNumber:e.streetNumber,street:e.street,suburb:e.suburb,state:e.state,postcode:e.postcode,mobileNumber:e.mobileNumber,workNumber:e.workNumber,emailAddress:e.emailAddress},business:{businessName:e.businessName,tradingName:e.tradingName,abn:e.abn,acn:e.acn,businessStreetNumber:e.businessStreetNumber,businessStreet:e.businessStreet,businessSuburb:e.businessSuburb,businessState:e.businessState,businessPostcode:e.businessPostcode},preScreening:{businessType:e.businessType,existingBusiness:e.existingBusiness,callTime:t("date")(e.callTime,"yyyy-MM-dd HH:mm:ss Z"),receiveEmail:e.receiveEmail,abn:e.abn}};return a}function i(){return"The call time need to be in business hours between 9am - 5pm"}var s=function(){var t=[{templateOptions:{fieldGroupKey:"person"},fieldGroup:[{template:"<b>Personal information</b>"},{key:"title",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{maxlength:80,required:!0,label:"Title",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"firstName",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{maxlength:80,required:!0,label:"First name",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"middleName",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{maxlength:80,label:"Middle name",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"lastName",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{maxlength:80,required:!0,label:"Last name",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{template:"<hr>"},{template:"<b>Postal address</b>"},{key:"streetNumber",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{required:!0,label:"Street number",bootstrapColClassNames:"col-xs-12 col-sm-2",pattern:e.streetNumber,patternValidationMessage:"Street number can only be alphanumeric."}},{key:"street",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{required:!0,label:"Street name and type",bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"suburb",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{required:!0,label:"Suburb",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"state",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{required:!0,label:"State",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"postcode",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{required:!0,label:"Postcode",bootstrapColClassNames:"col-xs-12 col-sm-2",pattern:"[0-9]{4}",patternValidationMessage:"Invalid postcode. Please use 4 numbers only."}},{template:"<hr>"},{template:"<b>Contact details</b>",wrapper:["hint"],templateOptions:{hint:"It's important you enter your contact details correctly. We'll use this information to contact you about setting up your business and your applications."}},{key:"mobileNumber",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{required:!0,pattern:e.mobileNumber,label:"Mobile number",bootstrapColClassNames:"col-xs-12 col-sm-3",patternValidationMessage:"Mobile number can only contain digits, start with 04 and have a length of 10."}},{key:"workNumber",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{label:"Work number",pattern:e.phone,patternValidationMessage:"Phone number can only contain digits. The minimum length is 10 and the maximum length is 15.",bootstrapColClassNames:"col-xs-12 col-sm-3"}},{key:"emailAddress",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{type:"email",pattern:"^[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$",maxlength:80,required:!0,label:"Email address",bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"callTime",type:"timepicker",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{label:"Within 2 business days, you'll get a call from someone in the team, who'll guide you through an introductory planning session about 30 to 60 minutes long. What is a good time, between 9am to 5pm, to call you?",bootstrapColClassNames:"col-xs-12 col-sm-1"},validators:{callTimeValidator:r.callTimeValidator},validation:{show:!0,messages:{callTimeValidator:i}},data:{getValidationMessage:i}}]},{templateOptions:{fieldGroupKey:"business"},fieldGroup:[{template:"<hr/><b>Business details</b>"},{key:"businessName",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{maxlength:80,required:!0,label:"Registered business name",bootstrapColClassNames:"col-xs-12 col-sm-5"}},{key:"tradingName",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{maxlength:80,required:!0,label:"Trading name",bootstrapColClassNames:"col-xs-12 col-sm-5"}},{key:"abn",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{maxlength:11,required:!0,label:"Australian Business Number (ABN)",bootstrapColClassNames:"col-xs-12 col-sm-3",pattern:e.abn,patternValidationMessage:"ABN should be 11 digits."}},{key:"acn",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{maxlength:9,label:"Australian Company Number (ACN)",bootstrapColClassNames:"col-xs-12 col-sm-3",pattern:e.acn,patternValidationMessage:"ACN should be 9 digits."}},{type:"btn-radio",key:"businessType",wrapper:["bootstrap-row-col","validation"],templateOptions:{options:["Cafe","Restaurant","Small Bar"],label:"What type of business are you opening?",required:!0,dumpData:!0,bootstrapColClassNames:"col-xs-12 col-sm-6"}},{type:"btn-radio",key:"existingBusiness",wrapper:["bootstrap-row-col","validation"],templateOptions:{options:["Yes","No"],label:"Is this an existing cafe, restaurant or small bar?",required:!0,dumpData:!0,bootstrapColClassNames:"col-xs-12 col-sm-4"}},{template:"<hr><b>Business address</b>"},{key:"businessStreetNumber",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{required:!0,label:"Street number",bootstrapColClassNames:"col-xs-12 col-sm-2",pattern:e.streetNumber,patternValidationMessage:"Street number can only be alphanumeric."}},{key:"businessStreet",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{required:!0,label:"Street name and type",bootstrapColClassNames:"col-xs-12 col-sm-4"}},{key:"businessSuburb",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{required:!0,label:"Suburb",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"businessState",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{required:!0,label:"State",bootstrapColClassNames:"col-xs-12 col-sm-2"}},{key:"businessPostcode",type:"input",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{required:!0,label:"Postcode",bootstrapColClassNames:"col-xs-12 col-sm-2",pattern:"[0-9]{4}",patternValidationMessage:"Invalid postcode. Please use 4 numbers only."}}]}];return t};return{getPersonalDetails:s,assemblePreScreenObj:o}}e.$inject=["regex","$filter","$log","etbPersonalDetailsValidationService"],angular.module("easyToDoBusiness").factory("etbPersonalDetailsService",e)}(),function(){"use strict";function e(e,t,a){function r(e,t,a){var r=!1,o=t||e;if(o){var i=o.getHours(),s=o.getMinutes();i>=9&&17>i?r=!0:17===i&&0===s&&(r=!0)}return r}return{callTimeValidator:r}}e.$inject=["regex","$filter","$log"],angular.module("easyToDoBusiness").factory("etbPersonalDetailsValidationService",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/screening/premiseDetails/etb-premise.html",controller:"etbPremiseController as premise"}}angular.module("easyToDoBusiness").directive("etbPremise",e)}(),function(){"use strict";function e(e,t,a,r){var o=this;o.model=o.transaction.prescreening.model,o.fields=e.getPremiseFields(),o.onSubmit=function(e){if(o.validationSummaryFields=angular.copy(o.fields),o.form.$valid){var i={preScreening:a.getPreScreeningObj(o.fields,e)};angular.merge(o.transaction.preScreeningData,i),t.go("etb.screening.foodAlcohol")}else r.scrollTop()}}e.$inject=["etbPremiseService","$state","etbScreeningService","UIService"],angular.module("easyToDoBusiness").controller("etbPremiseController",e)}(),function(){"use strict";function e(){var e=function(){var e=[{template:"<b>Status of premises</b>"},{type:"btn-radio",key:"owner",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{required:!0,options:["Yes","No"],label:"Are you the owner of the premises?",bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{type:"btn-radio",key:"heritage",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{required:!0,options:["Yes","No","Not sure"],label:"Are you in a heritage conservation area?",bootstrapColClassNames:"col-xs-12 col-sm-6",hideLegend:!0}},{type:"btn-radio",key:"parramattaAsPca",wrapper:["bootstrap-row-col","label","validation","hint"],templateOptions:{required:!0,options:["Yes","No"],label:"Will Parramatta City Council be appointed as your Principal Certifying Authority?",hint:"If you need a construction certificate or complying development certificate, you must engage a principal certifying authority (PCA) before work starts.",bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{template:"<hr><b>Use of the premises</b>"},{type:"btn-radio",key:"businessChange",wrapper:["bootstrap-row-col","label","validation","hint"],templateOptions:{required:!0,options:["Yes","No"],label:"Are you changing the type of business that will be run in this premises? For example, answer 'Yes' if you're opening a cafe, but the previous business at the premises was a hairdresser.",hint:"If you're changing the type of business, you'll need to get council approval.",bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{type:"btn-radio",key:"premiseChange",wrapper:["bootstrap-row-col","label","validation","hint"],templateOptions:{required:!0,options:["Yes","No"],label:"Do you plan to make changes to your premises?",hint:"The kind of changes you plan on making may affect the kinds of development approval you'll need to apply for.",bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{type:"btn-radio",key:"outsideSeating",wrapper:["bootstrap-row-col","label","validation","hint"],templateOptions:{required:!0,options:["Yes","No"],label:"Do you want to provide outdoor seating on a public footpath?",hint:"If you want to seat your customers outside, you'll need to apply for council approval.",bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{type:"btn-radio",key:"signage",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{required:!0,options:["Yes","No"],label:"Do you wish to have signage or awnings installed at your premises?",bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}},{type:"btn-radio",key:"music",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{required:!0,options:["Yes","No"],label:"Do you want to play music on the premises? For example, telephone hold music, live performances, over speakers.",bootstrapColClassNames:"col-xs-12 col-sm-4",hideLegend:!0}}];return e};return{getPremiseFields:e}}angular.module("easyToDoBusiness").factory("etbPremiseService",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"easyToDoBusiness/screening/userToken/etb-user-token.html",controller:"etbUserTokenController as userToken"}}angular.module("easyToDoBusiness").directive("etbUserToken",e)}(),function(){"use strict";function e(e,t,a,r,o){function i(e){d.transaction.transactionToken=d.model.transactionToken=e.transactionToken,o.transactionToken=e.transactionToken,a.log("requestTokenSuccessResult, data: ",e),u({type:"success",heading:"Success!",text:e.statusMessage})}function s(e){a.log("requestTokenFailedResult error:",e),n(e)}function n(e){a.log("data is:",e);var t=r(e.response.statusMessage);u({type:"danger",heading:"Error!",text:t})}function l(e){d.transaction.transactionToken=e.transactionToken,delete e.transactionToken,angular.extend(d.transaction,e),t.go("etb.dashboard")}function c(e){n(e),a.log("resumeApplicationFailedResult error:",e)}function u(e){d.alert=angular.extend({},{type:"info"},e)}var d=this;d.model={},d.requestTokenFields=e.getRequestTokenFields(),d.resumeApplicationFields=e.getResumeApplicationFields(d.transaction),d.isGenerateTokenButtonDisabled=function(){return!d.model.transactionNumber},d.isContinueApplicationButtonDisabled=function(){return!d.model.resumeToken},d.onSubmitRequestToken=function(){d.requestTokenForm.$valid&&e.requestResumeToken(d.model.transactionNumber).then(i)["catch"](s)},d.onSubmitResumeApplication=function(){d.resumeApplicationForm.$valid&&e.validateResumeToken(d.model.resumeToken,d.transaction.transactionToken).then(l)["catch"](c)},d.dismissAlert=function(){d.alert=void 0}}e.$inject=["etbUserTokenService","$state","$log","errorMsgMap","etbService"],angular.module("easyToDoBusiness").controller("etbUserTokenController",e)}(),function(){"use strict";function e(e){var t=function(){var e=[{key:"transactionNumber",type:"input",wrapper:["bootstrap-row-col","label","validation","hint"],templateOptions:{maxlength:80,required:!0,label:"Enter your unique customer number ",bootstrapColClassNames:"col-xs-12 col-sm-4",hint:"Your unique customer number was sent to you by email when you first registered. You can copy and paste the number from the email"},validation:{messages:{required:function(){return"Please enter your unique customer number"}}}},{template:"<p>Next, we'll send a single use token to your registered email address </p>"}];return e},a=function(e){var t=[{key:"resumeToken",type:"input",wrapper:["bootstrap-row-col","label","validation","hint"],templateOptions:{maxlength:80,required:!0,label:"Enter the token we just sent to your email",bootstrapColClassNames:"col-xs-12 col-sm-4",hint:"Enter the token exactly as it appears in the email. You can copy and paste the token from the email"},expressionProperties:{"templateOptions.disabled":function(){return!e.transactionToken}},validation:{messages:{required:function(){return"Please enter your token"}}}}];return t},r=function(t){var a={transactionNumber:t},r={remoteAction:"EtdBFormCtrl.RequestResumeToken",params:[JSON.stringify(a)],resultMap:function(e){return e.statusObject}},o=e.call(r);return o},o=function(t,a){var r={transactionToken:a,ResumeToken:t},o={remoteAction:"EtdBFormCtrl.ValidateResumeToken",params:[JSON.stringify(r)],resultMap:function(e){return e.statusObject}};return e.call(o)};return{getRequestTokenFields:t,getResumeApplicationFields:a,requestResumeToken:r,validateResumeToken:o}}e.$inject=["vf"],angular.module("easyToDoBusiness").factory("etbUserTokenService",e)}(),function(){"use strict";function e(e,t){function a(e){var a=angular.copy(e);return a.acquisitionDate=t.filter(a.acquisitionDate),a.dateOfBirth=t.filter(a.dateOfBirth),a}var r=[{className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details on my Australian Certificate of Registration by Descent?</a>'},{key:"firstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:100,label:"First name",hint:"Your first name as it appears on your certificate"},expressionProperties:{"templateOptions.required":"!model.lastName"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options, model, $viewValue, "middleName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options, true)"}}},{key:"middleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:100,label:"Middle name(s)",hint:"Your middle name(s) as it appears on your certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options, model, $viewValue, "firstName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{
messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options, true)"}}},{key:"lastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:100,label:"Last name (surname)",hint:"Your last name as it appears on your certificate"},expressionProperties:{"templateOptions.required":"!model.firstName"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options, true)"}}},{key:"acquisitionDate",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue, options)",message:'formState.errorMessages.validDateErrorMessage(options, "DD/MM/YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},templateOptions:{required:!0,label:"Acquisition date",hint:"Enter date as DD/MM/YYYY"},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)"}}},{key:"dateOfBirth",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue, options)",message:'formState.errorMessages.validDateErrorMessage(options, "DD/MM/YYYY, MM/YYYY or YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},templateOptions:{required:!0,label:"Date of birth",hint:"Enter date of birth as DD/MM/YYYY, MM/YYYY or YYYY"},data:{dateFilters:["M/YYYY","MM/YYYY","D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY","YYYY"]},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options, true)"}}},{key:"registerAndEntryNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:10,pattern:"[0-9]{1,4}/[0-9]+",patternValidationMessage:'Invalid Register and Entry number. Please enter numbers separated by a slash "/".',label:"Register and Entry number",hint:"Enter Register and Entry number separated by a slash"},expressionProperties:{"templateOptions.required":t.fieldRequiredBefore("acquisitionDate","01/07/2005")},validation:{messages:{required:function(e,t,a){var r=angular.lowercase(a.options.templateOptions.label);return"Please enter your "+r+'. Enter the numbers separated by a slash "/".'},maxlength:function(){return'Please enter 1 to 4 characters for your register number and 1 to 5 characters for your entry number separated by a slash "/".'}}}},{key:"clientIdNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{minlength:11,maxlength:11,pattern:"[a-zA-Z0-9]*",patternValidationMessage:"Please enter your client ID number using letters and numbers only.",label:"Client ID number",hint:"Enter 11 digit number"},validation:{messages:{maxlength:'"Please enter your client ID number using 11 character(s)."',minlength:'"Please enter your client ID number using 11 character(s)."'}}}];return{fields:r,mapModel:a}}e.$inject=["$sce","partialDate"],angular.module("link.dvs").factory("certificateOfRegistrationByDescentFields",e)}(),function(){"use strict";function e(e,t){function a(e){var a=angular.copy(e);return a.acquisitionDate=t.filter(a.acquisitionDate),a.dateOfBirth=t.filter(a.dateOfBirth),a}var r="[a-zA-Z0-9]*",o=[{className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details on my Australian Citizenship Certificate?</a>'},{key:"firstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:100,label:"First name",hint:"Your first name as it appears on your certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"middleName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"middleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:100,label:"Middle name(s)",hint:"Your middle name(s) as it appears on your certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"firstName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"lastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:100,label:"Last name (surname)",hint:"Your last name as it appears on your certificate"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"stockNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,minlength:4,maxlength:11,pattern:r,patternValidationMessage:"Please enter your Stock number using letters and numbers only.",label:"Stock number",hint:"Enter a minimum of 4 characters"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)",minlength:"formState.errorMessages.minlengthErrorMessage(options,true)"}}},{key:"acquisitionDate",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,label:"Acquisition date",hint:"Enter date as DD/MM/YYYY"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"dateOfBirth",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY, MM/YYYY or YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["M/YYYY","MM/YYYY","D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY","YYYY"]},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}},templateOptions:{required:!0,label:"Date of birth",hint:"Enter date of birth as DD/MM/YYYY, MM/YYYY or YYYY"}}];return{fields:o,mapModel:a}}e.$inject=["$sce","partialDate"],angular.module("link.dvs").factory("citizenshipCertificateFields",e)}(),function(){"use strict";function e(e){var t="ADL";return[{key:"documentType",type:"select",className:"form-group",wrapper:["label"],defaultValue:t,templateOptions:{required:!0,label:"Select one document from the list to verify your identity.",options:e,onChange:"formState.documentChange(fc.$modelValue)"}}]}e.$inject=["dvsDocumentOptions"],angular.module("link.dvs").factory("dvsCommonFields",e)}(),function(){"use strict";var e=[{value:"ADL",label:"Australian Driver Licence"},{value:"PASA",label:"Australian Passport"},{value:"VISA",label:"Australian Visa"},{value:"MEDI",label:"Australian Medicare Card"},{value:"BTHC",label:"Australian Birth Certificate"},{value:"MC",label:"Australian Marriage Certificate"},{value:"CONC",label:"Australian Change of Name Certificate"},{value:"CRBD",label:"Australian Certificate of Registration by Descent"},{value:"CITZ",label:"Australian Citizenship Certificate"},{value:"IC",label:"Australian ImmiCard"}];angular.module("link.dvs").constant("dvsDocumentOptions",e)}(),function(){"use strict";function e(e,t){function a(t){var a=angular.copy(t);return a.lastName=a.lastName||".",a.firstName=a.firstName||".",a.dateOfBirth=e.filter(a.dateOfBirth),a}var r=[{key:"state",type:"select",wrapper:["label","validation"],templateOptions:{required:!0,label:"State or territory",options:t,onChange:"formState.australianStateChange(options.key, fc.$modelValue)"},validation:{messages:{required:"formState.errorMessages.requiredSelectErrorMessage(options)"}}}],o=[{className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details on my driver licence?</a>'},{key:"firstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:20,label:"First name",hint:"Your first name as it appears on your driver licence"},validation:{messages:{required:'formState.errorMessages.requiredFieldsErrorMessage(options,true,".")',maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"middleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:20,label:"Middle name(s)",hint:"Your middle name(s) as it appears on your driver licence"},validation:{messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"lastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,requiredMessage:"Please type '.' if you don’t have a first name displayed on the document",maxlength:40,label:"Last name (surname)",hint:"Your last name as it appears on your driver licence"},validation:{messages:{required:'formState.errorMessages.requiredFieldsErrorMessage(options,true,".")',maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"licenceNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:10,label:"Driver licence number",hint:"Enter up to 10 characters"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"dateOfBirth",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue, options)",message:'formState.errorMessages.validDateErrorMessage(options, "DD/MM/YYYY")'},minimumDate:{expression:"formState.partialDate.minimumDate($viewValue, 1753)",message:"formState.errorMessages.minimumDateErrorMessage(options)"},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},templateOptions:{required:!0,label:"Date of birth",hint:"Enter date of birth as DD/MM/YYYY"},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}}];return{fieldMap:{},extensions:{},fields:r,mapModel:a,allFields:o}}e.$inject=["partialDate","stateOptions"],angular.module("link.dvs").factory("driverLicenceFields",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c){return{BTHC:{helpLink:"#birthcertificate",document:e},CRBD:{helpLink:"#registrationdescent",document:t},CONC:{helpLink:"#changename",document:a},CITZ:{helpLink:"#citizenship",document:r},ADL:{helpLink:"#driverlicence",document:o},MC:{helpLink:"#marriagecertificate",document:i},MEDI:{helpLink:"#medicare",document:s},PASA:{helpLink:"#passport",document:n},VISA:{helpLink:"#visa",document:l},IC:{helpLink:"#immicard",document:c}}}e.$inject=["birthCertificateFields","certificateOfRegistrationByDescentFields","changeOfNameCertificateFields","citizenshipCertificateFields","driverLicenceFields","marriageCertificateFields","medicareCardFields","passportFields","visaFields","immiCardFields"],angular.module("link.dvs").factory("dvsDocumentFields",e)}(),function(){"use strict";var e=[{value:"M",label:"Male (M)"},{value:"F",label:"Female (F)"},{value:"X",label:"Other (X)"}];angular.module("link.dvs").constant("genderOptions",e)}(),function(){"use strict";function e(e){function t(t){var a=angular.copy(t);return a.firstName=a.firstName||"-",a.dateOfBirth=e.filter(a.dateOfBirth),a}var a="[a-zA-Z]{3}[0-9]{6}",r=[{className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details on my Australian ImmiCard?</a>'},{key:"firstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:49,label:"First name",hint:"Your first name as it appears on the card"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options, model, $viewValue, "middleName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"middleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:49,label:"Middle name(s)",hint:"Your middle name(s) as it appears on the card"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options, model, $viewValue, "firstName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{maxlength:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}}},{key:"lastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:49,label:"Last name (surname)",hint:"Your last name as it appears on the card"},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"dateOfBirth",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue, options)",message:'formState.errorMessages.validDateErrorMessage(options, "DD/MM/YYYY, MM/YYYY or YYYY")'},minimumDate:{expression:"formState.partialDate.minimumDate($viewValue, 1753)",message:"formState.errorMessages.minimumDateErrorMessage(options)"},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["M/YYYY","MM/YYYY","D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY","YYYY"]},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}},templateOptions:{required:!0,label:"Date of birth",hint:"Enter date as DD/MM/YYYY, MM/YYYY or YYYY"}},{key:"immiCardNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:9,pattern:a,patternValidationMessage:"Please enter your immiCard number using 3 letters followed by 6 digits",label:"ImmiCard number",hint:"Enter 9 characters"},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}}];return{fields:r,mapModel:t}}e.$inject=["partialDate"],angular.module("link.dvs").factory("immiCardFields",e)}(),function(){"use strict";var e=[{value:"G",label:"Green"},{value:"B",label:"Blue"},{value:"Y",label:"Yellow"}];angular.module("link.dvs").constant("medicareCardColorOptions",e)}(),function(){"use strict";function e(e,t,a){function r(t){var a=angular.copy(t);return a.expiryDate=e.filter(a.expiryDate),a}var o="[A-Z a-z0-9-'\"]*",i=[{className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details on my Australian Medicare Card?</a>'},{key:"firstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:27,pattern:o,label:"First name",hint:"Your first name as it appears on your card"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"initial","lastName")',message:"formState.errorMessages.combinedThreeFieldErrorMessage(options)"}},expressionProperties:{"templateOptions.required":"!model.lastName"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.medicareCard.maxlengthErrorMessage(options)"}}},{key:"initial",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:1,pattern:o,label:"Initial",hint:"Your initial as it appears on your card"},validation:{messages:{maxlength:"formState.errorMessages.combinedThreeFieldErrorMessage(options)"}}},{key:"lastName",type:"input",wrapper:["label","hint","validation"],validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"initial","firstName")',message:"formState.errorMessages.combinedThreeFieldErrorMessage(options)"}},templateOptions:{required:!0,maxlength:27,pattern:o,label:"Last name (surname)",hint:"Your last name as it appears on your card"},expressionProperties:{"templateOptions.required":"!model.firstName"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.medicareCard.maxlengthErrorMessage(options)"}}},{key:"medicareCardNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:10,pattern:"[0-9]{9}[1-9]{1}",label:"Medicare Card number",hint:"Enter 10 digit number"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"referenceNumber",type:"select",wrapper:["label","hint","validation"],templateOptions:{required:!0,label:"Individual reference number",placeholder:"Select individual reference number",options:a,hint:"Number to the left of your name on your card"},validation:{messages:{required:"formState.errorMessages.requiredSelectErrorMessage(options,true)"}}},{key:"cardColor",type:"select",wrapper:["label","hint","validation"],templateOptions:{required:!0,label:"Card Colour",placeholder:"Select card colour",hint:"Select card colour",options:t},extras:{validateOnModelChange:!0},validation:{messages:{required:"formState.errorMessages.requiredSelectErrorMessage(options)"}}},{key:"expiryDate",type:"input",wrapper:["label","hint","validation"],validators:{partialDate:{expression:"formState.partialDate.valid($viewValue,options)",message:"formState.medicareCard.filterErrorMessage(model,options)"},expiring:{expression:"formState.medicareCard.expiryDate($viewValue)",message:'"Sorry, we are unable to verify your Medicare Card as it expires within 2 months. Please use a different identity document."'},expired:{expression:"formState.medicareCard.isValid($viewValue)",message:'"Sorry your card is expired and cannot be verified"'}},extras:{validateOnModelChange:!0},data:{dateFilters:[]},templateOptions:{required:!0,hint:"",label:"Expiry Date"},expressionProperties:{"data.dateFilters":"formState.medicareCard.dateFilters(model)","templateOptions.hint":"formState.medicareCard.hintExpression(model)"},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)"}}}];return{fields:i,mapModel:r}}e.$inject=["partialDate","medicareCardColorOptions","medicareReferenceNumber"],angular.module("link.dvs").factory("medicareCardFields",e)}(),function(){"use strict";var e=[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"}];angular.module("link.dvs").constant("medicareReferenceNumber",e)}(),function(){"use strict";var e=[{value:"AFG",label:"Afghanistan"},{value:"ALB",label:"Albania"},{value:"DZA",label:"Algeria"},{value:"ASM",label:"American Samoa"},{value:"AND",label:"Andorra"},{value:"AGO",label:"Angola"},{value:"AIA",label:"Anguilla"},{value:"ATA",label:"Antarctica"},{value:"ATG",label:"Antigua And Barbuda"},{value:"ARG",label:"Argentina"},{value:"ARM",label:"Armenia"},{value:"ABW",label:"Aruba"},{value:"AUS",label:"Australia"},{value:"AUT",label:"Austria"},{value:"AZE",label:"Azerbaijan"},{value:"BHS",label:"Bahamas"},{value:"BHR",label:"Bahrain"},{value:"BGD",label:"Bangladesh"},{value:"BRB",label:"Barbados"},{value:"BLR",label:"Belarus"},{value:"BEL",label:"Belgium"},{value:"BLZ",label:"Belize"},{value:"BEN",label:"Benin"},{value:"BMU",label:"Bermuda"},{value:"BTN",label:"Bhutan"},{value:"BOL",label:"Bolivia"},{value:"BES",label:"Bonaire"},{value:"BES",label:"Bonaire, Saint Eustatius And Saba"},{value:"BIH",label:"Bosnia And Herzegovina"},{value:"BWA",label:"Botswana"},{value:"BVT",label:"Bouvet Island"},{value:"BRA",label:"Brazil"},{value:"GBD",label:"British Dependent Territories Citizen"},{value:"IOT",label:"British Indian Ocean Territory"},{value:"BRN",label:"Brunei Darussalam"},{value:"BGR",label:"Bulgaria"},{value:"BFA",label:"Burkina Faso"},{value:"BUR",label:"Burma"},{value:"BDI",label:"Burundi"},{value:"BYS",label:"Byelorussian - Soviet Socialist Republic"},{value:"CPV",label:"Cabo Verde"},{value:"KHM",label:"Cambodia"},{value:"CMR",label:"Cameroon"},{value:"CAN",label:"Canada"},{value:"CPV",label:"Cape Verde"},{value:"CYM",label:"Cayman Islands"},{value:"CAF",label:"Central African Republic"},{value:"TCD",label:"Chad"},{value:"CHL",label:"Chile"},{value:"CHN",label:"China"},{value:"CXR",label:"Christmas Island"},{value:"CCK",label:"Cocos (Keeling) Islands"},{value:"COL",label:"Colombia"},{value:"COM",label:"Comoros"},{value:"COG",label:"Congo"},{value:"COK",label:"Cook Islands"},{value:"CRI",label:"Costa Rica"},{value:"CIV",label:"Cote D'Ivoire"},{value:"HRV",label:"Croatia"},{value:"CUB",label:"Cuba"},{value:"CUW",label:"Curacao"},{value:"CYP",label:"Cyprus"},{value:"CZE",label:"Czech Republic"},{value:"CSK",label:"Czechoslovakia"},{value:"PRK",label:"Democratic Peoples Republic Of Korea (North)"},{value:"COD",label:"Democratic Republic Of The Congo"},{value:"TLS",label:"Democratic Republic Of Timor-Leste"},{value:"DNK",label:"Denmark"},{value:"DJI",label:"Djibouti"},{value:"DMA",label:"Dominica"},{value:"DOM",label:"Dominican Republic"},{value:"TMP",label:"East Timor"},{value:"ECU",label:"Ecuador"},{value:"EGY",label:"Egypt"},{value:"SLV",label:"El Salvador"},{value:"GNQ",label:"Equatorial Guinea"},{value:"ERI",label:"Eritrea"},{value:"EST",label:"Estonia"},{value:"ETH",label:"Ethiopia"},{value:"FLK",label:"Falkland Islands (Malvinas)"},{value:"FRO",label:"Faroe Islands"},{value:"FJI",label:"Fiji"},{value:"FIN",label:"Finland"},{value:"MKD",label:"Former Yugoslav Republic Of Macedonia"},{value:"FRA",label:"France"},{value:"FXX",label:"France, Metropolitan"},{value:"GUF",label:"French Guiana"},{value:"PYF",label:"French Polynesia"},{value:"ATF",label:"French Southern Territories"},{value:"GAB",label:"Gabon"},{value:"GMB",label:"Gambia"},{value:"GEO",label:"Georgia"},{value:"D",label:"Germany"},{value:"DDR",label:"Germany (Democratic Republic Of)"},{value:"GHA",label:"Ghana"},{value:"GIB",label:"Gibraltar"},{value:"GRC",label:"Greece"},{value:"GRL",label:"Greenland"},{value:"GRD",label:"Grenada"},{value:"GLP",label:"Guadeloupe"},{value:"GUM",label:"Guam"},{value:"GTM",label:"Guatemala"},{value:"GIN",label:"Guinea"},{value:"GNB",label:"Guinea-Bissau"},{value:"GUY",label:"Guyana"},{value:"HTI",label:"Haiti"},{value:"HMD",label:"Heard And Mcdonald Islands"},{value:"HND",label:"Honduras"},{value:"HKG",label:"Hong Kong"},{value:"HUN",label:"Hungary"},{value:"ISL",label:"Iceland"},{value:"IND",label:"India"},{value:"IDN",label:"Indonesia"},{value:"IRN",label:"Iran, Islamic Republic Of"},{value:"IRQ",label:"Iraq"},{value:"IRL",label:"Ireland"},{value:"ISR",label:"Israel"},{value:"ITA",label:"Italy"},{value:"JAM",label:"Jamaica"},{value:"JPN",label:"Japan"},{value:"JOR",label:"Jordan"},{value:"KAZ",label:"Kazakhstan"},{value:"KEN",label:"Kenya"},{value:"KIR",label:"Kiribati"},{value:"RKS",label:"Kosovo"},{value:"KWT",label:"Kuwait"},{value:"KGZ",label:"Kyrgyzstan"},{value:"LAO",label:"Lao Peoples Democratic Republic"},{value:"LVA",label:"Latvia"},{value:"LBN",label:"Lebanon"},{value:"LSO",label:"Lesotho"},{value:"LBR",label:"Liberia"},{value:"LBY",label:"Libya"},{value:"LBY",label:"Libyan Arab Jamahiriya"},{value:"LIE",label:"Liechtenstein"},{value:"LTU",label:"Lithuania"},{value:"LUX",label:"Luxembourg"},{value:"MAC",label:"Macau"},{value:"MDG",label:"Madagascar"},{value:"MWI",label:"Malawi"},{value:"MYS",label:"Malaysia"},{value:"MDV",label:"Maldives"},{value:"MLI",label:"Mali"},{value:"MLT",label:"Malta"},{value:"MHL",label:"Marshall Islands"},{value:"MTQ",label:"Martinique"},{value:"MRT",label:"Mauritania"},{value:"MUS",label:"Mauritius"},{value:"MYT",label:"Mayotte"},{value:"MEX",label:"Mexico"},{value:"FSM",label:"Micronesia, Federated States Of"},{value:"MDA",label:"Moldova, Republic Of"},{value:"MCO",label:"Monaco"},{value:"MNG",label:"Mongolia"},{value:"MSR",label:"Montserrat"},{value:"MAR",label:"Morocco"},{value:"MOZ",label:"Mozambique"},{value:"MMR",label:"Myanmar"},{value:"NAM",label:"Namibia"},{value:"NRU",label:"Nauru"},{value:"NPL",label:"Nepal"},{value:"ANT",label:"Netherlands Antilles"},{value:"NLD",label:"Netherlands, Kingdom Of The"},{value:"NTZ",label:"Neutral Zone"},{value:"NCL",label:"New Caledonia"},{value:"NZL",label:"New Zealand"},{value:"NIC",label:"Nicaragua"},{value:"NER",label:"Niger"},{value:"NGA",label:"Nigeria"},{value:"NIU",label:"Niue"},{value:"NFK",label:"Norfolk Island"},{value:"MNP",label:"Northern Mariana Islands"},{value:"NOR",label:"Norway"},{value:"OMN",label:"Oman"},{value:"PAK",label:"Pakistan"},{value:"PLW",label:"Palau"},{value:"PSE",label:"Palestinian Authority"},{value:"PAN",label:"Panama"},{value:"PNG",label:"Papua New Guinea"},{value:"PRY",label:"Paraguay"},{value:"PER",label:"Peru"},{value:"PHL",label:"Philippines"},{value:"PCN",label:"Pitcairn"},{value:"POL",label:"Poland"},{value:"PRT",label:"Portugal"},{value:"PRI",label:"Puerto Rico"},{value:"QAT",label:"Qatar"},{value:"XXB",label:"Refugee As Per Article 1, 1951 Convention"},{value:"XXC",label:"Refugee Other Than Article 1 Of 1951 Convention"},{value:"KOR",label:"Republic Of Korea (South)"},{value:"MNE",label:"Republic Of Montenegro"},{value:"SRB",label:"Republic Of Serbia"},{value:"SSD",label:"Republic Of South Sudan"},{value:"REU",label:"Reunion"},{value:"ROU",label:"Romania"},{value:"ROM",label:"Romania Pre 1/2/2002"},{value:"RUS",label:"Russian Federation"},{value:"RWA",label:"Rwanda"},{value:"SHN",label:"Saint Helena, Ascension And Tristan Da Cunha"},{value:"KNA",label:"Saint Kitts And Nevis"},{value:"LCA",label:"Saint Lucia"},{value:"WSM",label:"Samoa"},{value:"SMR",label:"San Marino"},{value:"STP",label:"Sao Tome & Principe"},{value:"SAU",label:"Saudi Arabia"},{value:"SEN",label:"Senegal"},{value:"SCG",label:"Serbia And Montenegro"},{value:"SYC",label:"Seychelles"},{value:"SLE",label:"Sierra Leone"},{value:"SGP",label:"Singapore"},{value:"SXM",label:"Sint Maarten (Dutch Part)"},{value:"SVK",label:"Slovak Republic"},{value:"SVN",label:"Slovenia"},{value:"SLB",label:"Solomon Islands"},{value:"SOM",label:"Somalia"},{value:"ZAF",label:"South Africa"},{value:"SGS",label:"South Georgia And The South Sandwich Islands"},{value:"SUN",label:"Soviet Union"},{value:"ESP",label:"Spain"},{value:"LKA",label:"Sri Lanka"},{value:"SHN",label:"St Helena"},{value:"SPM",label:"St Pierre And Miquelon"},{value:"VCT",label:"St Vincent And The Grenadines"},{value:"XXA",label:"Stateless Person"},{value:"SDN",label:"Sudan"},{value:"SUR",label:"Suriname"},{value:"SJM",label:"Svalbard And Jan Mayen Islands"},{value:"SWZ",label:"Swaziland"},{value:"SWE",label:"Sweden"},{value:"CHE",label:"Switzerland"},{value:"SYR",label:"Syrian Arab Republic"},{value:"TWN",label:"Taiwan, Province Of China"},{value:"TJK",label:"Tajikistan"},{value:"THA",label:"Thailand"},{value:"TGO",label:"Togo"},{value:"TKL",label:"Tokelau"},{value:"TON",label:"Tonga"},{value:"TTO",label:"Trinidad And Tobago"},{value:"TUN",label:"Tunisia"},{value:"TUR",label:"Turkey"},{value:"TKM",label:"Turkmenistan"},{value:"TCA",label:"Turks And Caicos Islands"},{value:"TUV",label:"Tuvalu"},{value:"UGA",label:"Uganda"},{value:"UKR",label:"Ukraine"},{value:"ARE",label:"United Arab Emirates"},{value:"GBR",label:"United Kingdom - British Citizen"},{value:"GBN",label:"United Kingdom - British National (Overseas)"},{value:"GBO",label:"United Kingdom - British Overseas Citizen"},{value:"GBD",label:"United Kingdom - British Overseas Territories Citizen"},{value:"GBP",label:"United Kingdom - British Protected Person"},{value:"GBS",label:"United Kingdom - British Subject"},{value:"UNA",label:"United Nations Agency"},{value:"UNO",label:"United Nations Organisation"},{value:"TZA",label:"United Republic Of Tanzania"},{value:"USA",label:"United States"},{value:"UMI",label:"United States Minor Outlying Islands"},{value:"UNK",label:"Unmik Travel Doc - United Nations Interim Administration Mission In Kosovo"},{value:"XXX",label:"Unspecified Nationality"},{value:"URY",label:"Uruguay"},{value:"UZB",label:"Uzbekistan"},{value:"VUT",label:"Vanuatu"},{value:"VAT",label:"Vatican City State (Holy See)"},{value:"VEN",label:"Venezuela"},{value:"VNM",label:"Vietnam"},{value:"VGB",label:"Virgin Islands (British)"},{value:"VIR",label:"Virgin Islands (U.S)"},{value:"WLF",label:"Wallis And Futuna Islands"},{value:"ESH",label:"Western Sahara"},{value:"YMD",label:"Yemen (Democratic Peoples Republic)"},{value:"YEM",label:"Yemen, Republic Of"},{value:"YUG",label:"Yugoslavia"},{value:"ZAR",label:"Zaire"},{value:"ZMB",label:"Zambia"},{value:"ZWE",label:"Zimbabwe"}];angular.module("link.dvs").constant("passportCountryOptions",e)}(),function(){"use strict";function e(e,t){function a(t){var a=angular.copy(t);return a.dateOfBirth=e.filter(a.dateOfBirth),a}var r="[a-zA-Z]{1,2}[0-9]*",o=[{className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details on my Australian passport?</a>'},{key:"firstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:31,label:"First name",hint:"Your first name as it appears on your passport"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options, model, $viewValue, "middleName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options, true)"}}},{key:"middleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:31,label:"Middle name(s)",hint:"Your middle name(s) as it appears on your passport"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options, model, $viewValue, "firstName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{maxlength:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}}},{key:"lastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:31,label:"Last name (surname)",hint:"Your last name as it appears on your passport"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options, true)"}}},{key:"passportNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,minlength:8,maxlength:9,pattern:r,label:"Passport number",hint:"Enter your passport number including all letters and numbers"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options, true)"}}},{key:"gender",type:"select",wrapper:["label","validation"],validators:{other:{expression:'$modelValue !== "X"',message:"\"Sorry, we are currently unable to verify Australian passports issued with 'X' as the gender. Please use a different identity document.\""}},validation:{messages:{required:'"Please select your gender"'}},templateOptions:{required:!0,label:"Gender",options:t}},{key:"dateOfBirth",
type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue, options)",message:'formState.errorMessages.validDateErrorMessage(options, "DD/MM/YYYY, MM/YYYY or YYYY")'},minimumDate:{expression:"formState.partialDate.minimumDate($viewValue, 1753)",message:"formState.errorMessages.minimumDateErrorMessage(options)"},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["M/YYYY","MM/YYYY","D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY","YYYY"]},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}},templateOptions:{required:!0,label:"Date of birth",hint:"Enter date of birth as DD/MM/YYYY, MM/YYYY or YYYY"}}];return{fields:o,mapModel:a}}e.$inject=["partialDate","genderOptions"],angular.module("link.dvs").factory("passportFields",e)}(),function(){"use strict";var e=[{value:"NSW",label:"NSW"},{value:"QLD",label:"QLD"},{value:"NT",label:"NT"},{value:"SA",label:"SA"},{value:"ACT",label:"ACT"},{value:"WA",label:"WA"},{value:"TAS",label:"TAS"},{value:"VIC",label:"VIC"}];angular.module("link.dvs").constant("stateOptions",e)}(),function(){"use strict";function e(e,t){function a(t){var a=angular.copy(t);return a.dateOfBirth=e.filter(a.dateOfBirth),a}var r="[A-Z a-z0-9-'\"]*",o=[{className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details for my Australian visa?</a>'},{key:"firstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:49,pattern:r,label:"First name",hint:"Your first name as it appears on your Australian visa"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"middleName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"middleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:49,pattern:r,label:"Middle name(s)",hint:"Your middle name(s) as it appears on your Australian visa"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"firstName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{maxlength:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}}},{key:"lastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:49,pattern:r,label:"Last name (surname)",hint:"Your last name as it appears on your Australian visa"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"passportNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:14,pattern:"[a-zA-Z0-9]*",label:"Passport number",hint:"Enter your passport number including all letters and numbers"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"passportCountryOfIssue",type:"select",wrapper:["label","validation"],templateOptions:{required:!0,options:t,label:"Passport country of issue"},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)"}}},{key:"dateOfBirth",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY, MM/YYYY or YYYY")'},minimumDate:{expression:"formState.partialDate.minimumDate($viewValue, 1753)",message:"formState.errorMessages.minimumDateErrorMessage(options)"},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["M/YYYY","MM/YYYY","D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY","YYYY"]},templateOptions:{required:!0,label:"Date of birth",hint:"Enter date of birth as DD/MM/YYYY, MM/YYYY or YYYY"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}}];return{fields:o,mapModel:a}}e.$inject=["partialDate","passportCountryOptions"],angular.module("link.dvs").factory("visaFields",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n){function l(e){var t=moment(e).add(5,"minutes");return Math.max(0,t.diff())}this.getLinkingInfo=function(e){var t={remoteAction:"DVSCtrl.getDVSInitInfo",params:[JSON.stringify({transactionToken:e.transactionToken,agencyCode:"NSWDOI",ipAddress:n,productCode:e.productCode})],resultMap:function(e){var t=e.statusObject,a=t.contactDetails.middleName||"";return t.contactDetails.initial=a[0],t}};return a.call(t)};var c=3;this.unlinkInfoResponse=function(e){var t={remoteAction:"maPersonalProfileServiceExt.unlinkdvs",params:[e],resultMap:function(){return!0},errorResultMap:function(e){return c-=1,1>c&&(s.forceRedirect=!0,i.location=o),e.statusMessage="Incorrect password. Please check and try again.",1===c&&(e.statusMessage+=" 1 attempt remaining before you’re logged out."),e}};return a.call(t)},this.validateIdentityDetails=function(e){var t={remoteAction:"DVSCtrl.validateDocument",params:[JSON.stringify(e)],errorResultMap:function(e){var t=e.statusObject||{};return{lockedStatus:t.lockedStatus,statusMessage:e.statusMessage,transactionToken:t.transactionToken}}};return a.call(t)},this.confirmLastAttempt=function(t,a){if(a.isLocked)return e.reject({lockedStatus:a});var o=l(a.firstFailedTime);return a.isLastAttempt&&o?r.open({heading:"Are you sure you want to continue?",body:"This is your last attempt to verify your identity and link to NSW dvs before your account is locked for 5 minutes.",primaryButton:"Yes",secondaryButton:"No"}).then(function(){return e.resolve(t)}):e.resolve(t)},this.lockTimeOut=function(e){var a=moment();return e&&e.isLocked&&(a=l(e.lockedTime)),t(a)},this.validateDetails=function(e,t){return this.confirmLastAttempt(e,t).then(this.validateIdentityDetails)}}e.$inject=["$q","$timeout","vf","snswModal","securityQuestionsPasswordRetryLimitExceededLogoutUrl","$window","$rootScope","encryptedIpAddress"],angular.module("link.dvs").service("dvsService",e)}(),function(){"use strict";function e(){this.requiredErrorMessage=function(e){var t=angular.lowercase(e.templateOptions.label);return"Please enter the "+t},this.requiredUserErrorMessage=function(e){var t=angular.lowercase(e.templateOptions.label);return"Please enter your "+t},this.requiredFieldsErrorMessage=function(e,t,a){var r=a||"-",o="hyphen";"."===r&&(o="full stop");var i=angular.lowercase(e.templateOptions.label);return t?"Please enter your "+i+". If you don't have a "+i+" on your document, enter a "+o+' "'+r+'" to skip this field.':"Please enter the "+i+". If you don't have a "+i+" on your document, enter a "+o+' "'+r+'" to skip this field.'},this.requiredSelectErrorMessage=function(e,t){var a=angular.lowercase(e.templateOptions.label);return t?"Please select your "+a:"Please select the "+a},this.requiredDateErrorMessage=function(e,t,a){var r=angular.lowercase(e.templateOptions.label);return a?"Please enter your "+r+" as  "+t+".":"Please enter the "+r+" as  "+t+"."},this.maxlengthErrorMessage=function(e,t){var a=angular.lowercase(e.templateOptions.label);return t?"Please enter your "+a+" using no more than "+e.templateOptions.maxlength+" character(s).":"Please enter the "+a+" using no more than "+e.templateOptions.maxlength+" character(s)."},this.minlengthErrorMessage=function(e,t){var a=angular.lowercase(e.templateOptions.label);return t?"Please enter your "+a+" using at least "+e.templateOptions.minlength+" character(s).":"Please enter the "+a+" using at least "+e.templateOptions.minlength+" character(s)."},this.maximumDateErrorMessage=function(e){var t=angular.lowercase(e.templateOptions.label);return"Invalid "+t+". The date you entered is in the future."},this.combinedMaxLengthErrorMessage=function(e,t){return t?"Please enter your "+t+" first and middle name(s) using no more than "+e.templateOptions.maxlength+" characters across the 2 fields.":"Please enter your first and middle name(s) using no more than "+e.templateOptions.maxlength+" characters across the 2 fields."},this.combinedThreeFieldErrorMessage=function(e){return"Please enter your first name, initial and last name(surname) using no more than "+e.templateOptions.maxlength+" character(s) across the 3 fields. If your combined length of the first name, initial and last name(surname) exceeds this length, please use a different identity document"},this.minimumDateErrorMessage=function(e){var t=angular.lowercase(e.templateOptions.label);return"Invalid "+t+". The date you entered is not valid."},this.validDateErrorMessage=function(e,t){var a=t||"DD/MM/YYYY",r=angular.lowercase(e.templateOptions.label);return"Invalid "+r+". Please enter as "+a+"."}}angular.module("link.dvs").service("dvsErrorMessages",e)}(),function(){"use strict";function e(e,t,a){function r(e,a){var r=t.filter(function(e){return e.key===a.key}).map(function(e){return angular.merge(a,e)});return e.push(r[0]||a),e}function o(t){return e.filter(function(e){return e.key===t})}return a&&a.length?a.map(o).concatAll().reduce(r,[]):e.reduce(r,[])}function t(t,a){var r=[{key:"iAgree",type:"checkbox-label-with-action",defaultValue:!1,templateOptions:{required:!0,label:"I agree",labels:[{text:"Please confirm you agree to have your identity document checked with its issuer."}]},validation:{messages:{required:'"You must agree to your supplied ID being checked in order to submit this form"'}}}];this.getFields=function(o,i){var s=o||"ADL",n=a[s].document,l=n.fields;if(i){var c=n.extensions[i]||[],u=n.fieldMap[i],d=angular.copy(n.allFields),p=e(d,c,u);l=l.concat(p)}return t.concat(l).concat(r)},this.mapModel=function(e){var t=e.documentType;return a[t].document.mapModel(e)}}t.$inject=["dvsCommonFields","dvsDocumentFields"],angular.module("link.dvs").service("dvsField",t)}(),function(){"use strict";function e(e,t,a,r,o,i){function s(e){var a=e.documentType,r=e.state||e.registrationState||"",o=t[a].helpLink;return n+o+angular.lowercase(r)}var n=i+"guide-myservice-nsw-link-nsw-dvs";return{partialDate:a,medicareCard:r,errorMessages:o,helpLink:s}}e.$inject=["$window","dvsDocumentFields","partialDate","medicareCard","dvsErrorMessages","snswSiteUrl"],angular.module("link.dvs").service("dvsFormState",e)}(),function(){"use strict";function e(e){this.expiryDate=function(t){var a=e.generate(t);return!a.isBetween(moment(),moment().add(2,"months"))},this.isValid=function(t){var a=e.generate(t);return a.isAfter()},this.dateFilters=function(e){var t={G:["M/YYYY","MM/YYYY"],Y:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"],B:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"],"default":["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY","M/YYYY","MM/YYYY"]};return t[e.cardColor]||t["default"]},this.filterErrorMessage=function(e,t){var a={G:"Invalid "+t.templateOptions.label+". Please enter as MM/YYYY.",Y:"Invalid "+t.templateOptions.label+". Please enter as DD/MM/YYYY. ",B:"Invalid "+t.templateOptions.label+". Please enter as DD/MM/YYYY. ","default":"Invalid "+t.templateOptions.label+". Please enter as MM/YYYY or DD/MM/YYYY. "};return a[e.cardColor]||a["default"]},this.hintExpression=function(e){var t={G:"Enter date as MM/YYYY",Y:"Enter date as DD/MM/YYYY",B:"Enter date as DD/MM/YYYY","default":"Enter date as MM/YYYY or DD/MM/YYYY"};return t[e.cardColor]||t["default"]},this.maxlengthErrorMessage=function(e){var t=angular.lowercase(e.templateOptions.label);return"Please enter your "+t+" using no more than "+e.templateOptions.maxlength+" character(s). If your "+t+" exceeds this length, please use a different identity document."}}e.$inject=["partialDate"],angular.module("link.dvs").service("medicareCard",e)}(),function(){"use strict";function e(e,t){function a(e){var a=angular.copy(e);return a.acquisitionDate=t.filter(a.acquisitionDate),a.dateOfBirth=t.filter(a.dateOfBirth),a}var r=[{className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details on my Australian Certificate of Registration by Descent?</a>'},{key:"firstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:100,label:"First name",hint:"Your first name as it appears on your certificate"},expressionProperties:{"templateOptions.required":"!model.lastName"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options, model, $viewValue, "middleName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options, true)"}}},{key:"middleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:100,label:"Middle name(s)",hint:"Your middle name(s) as it appears on your certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options, model, $viewValue, "firstName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options, true)"}}},{key:"lastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:100,label:"Last name (surname)",hint:"Your last name as it appears on your certificate"},expressionProperties:{"templateOptions.required":"!model.firstName"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options, true)"}}},{key:"acquisitionDate",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue, options)",message:'formState.errorMessages.validDateErrorMessage(options, "DD/MM/YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},templateOptions:{required:!0,label:"Acquisition date",hint:"Enter date as DD/MM/YYYY"},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)"}}},{key:"dateOfBirth",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue, options)",message:'formState.errorMessages.validDateErrorMessage(options, "DD/MM/YYYY, MM/YYYY or YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},templateOptions:{required:!0,label:"Date of birth",hint:"Enter date of birth as DD/MM/YYYY, MM/YYYY or YYYY"},data:{dateFilters:["M/YYYY","MM/YYYY","D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY","YYYY"]},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options, true)"}}},{key:"registerAndEntryNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:10,pattern:"[0-9]{1,4}/[0-9]+",patternValidationMessage:'Invalid Register and Entry number. Please enter numbers separated by a slash "/".',label:"Register and Entry number",hint:"Enter Register and Entry number separated by a slash"},expressionProperties:{"templateOptions.required":t.fieldRequiredBefore("acquisitionDate","01/07/2005")},validation:{messages:{required:function(e,t,a){var r=angular.lowercase(a.options.templateOptions.label);return"Please enter your "+r+'. Enter the numbers separated by a slash "/".'},maxlength:function(e,t,a){return'Please enter 1 to 4 characters for your register number and 1 to 5 characters for your entry number separated by a slash "/".'}}}},{key:"clientIdNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{minlength:11,maxlength:11,pattern:"[a-zA-Z0-9]*",patternValidationMessage:"Please enter your client ID number using letters and numbers only.",label:"Client ID number",hint:"Enter 11 digit number"},validation:{messages:{maxlength:'"Please enter your client ID number using 11 character(s)."',minlength:'"Please enter your client ID number using 11 character(s)."'}}}];return{fields:r,mapModel:a}}e.$inject=["$sce","partialDate"],angular.module("link.police").factory("certificateOfRegistrationByDescentFields",e)}(),function(){"use strict";function e(e,t){function a(e){var a=angular.copy(e);return a.acquisitionDate=t.filter(a.acquisitionDate),a.dateOfBirth=t.filter(a.dateOfBirth),a}var r="[a-zA-Z0-9]*",o=[{className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details on my Australian Citizenship Certificate?</a>'},{key:"firstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:100,label:"First name",hint:"Your first name as it appears on your certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"middleName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"middleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:100,label:"Middle name(s)",hint:"Your middle name(s) as it appears on your certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"firstName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"lastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:100,label:"Last name (surname)",hint:"Your last name as it appears on your certificate"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"stockNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,minlength:4,maxlength:11,pattern:r,patternValidationMessage:"Please enter your Stock number using letters and numbers only.",label:"Stock number",hint:"Enter a minimum of 4 characters"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)",minlength:"formState.errorMessages.minlengthErrorMessage(options,true)"}}},{key:"acquisitionDate",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,label:"Acquisition date",hint:"Enter date as DD/MM/YYYY"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"dateOfBirth",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY, MM/YYYY or YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["M/YYYY","MM/YYYY","D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY","YYYY"]},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}},templateOptions:{required:!0,label:"Date of birth",hint:"Enter date of birth as DD/MM/YYYY, MM/YYYY or YYYY"}}];return{fields:o,mapModel:a}}e.$inject=["$sce","partialDate"],angular.module("link.police").factory("citizenshipCertificateFields",e)}(),function(){"use strict";function e(e){return[{key:"documentType",type:"select",className:"form-group",wrapper:["label"],defaultValue:t,templateOptions:{required:!0,label:"Select one document from the list to verify your identity.",options:e,onChange:"formState.documentChange(fc.$modelValue)"}}]}e.$inject=["documentOptions"];var t="DriverLicCert";angular.module("link.police").factory("commonFields",e)}(),function(){"use strict";var e=[{value:"DriverLicCert",label:"Australian Driver Licence"},{value:"Passport",label:"Australian Passport"},{value:"Visa",label:"Australian Visa"},{value:"Medicare",label:"Australian Medicare Card"},{value:"BirthCertificate",label:"Australian Birth Certificate"},{value:"MarriageCert",label:"Australian Marriage Certificate"},{value:"ChangeOfNameCert",label:"Australian Change of Name Certificate"},{value:"CertOfRegByDescent",label:"Australian Certificate of Registration by Descent"},{value:"CitizenshipCert",label:"Australian Citizenship Certificate"},{value:"ImmiCard",label:"Australian ImmiCard"}];angular.module("link.police").constant("documentOptions",e)}(),function(){"use strict";function e(e,t){function a(t){var a=angular.copy(t);return a.lastName=a.lastName||".",a.firstName=a.firstName||".",a.dateOfBirth=e.filter(a.dateOfBirth),a}var r=[{key:"state",type:"select",wrapper:["label","validation"],templateOptions:{required:!0,label:"State or territory",options:t,onChange:"formState.australianStateChange(options.key, fc.$modelValue)"},validation:{messages:{required:"formState.errorMessages.requiredSelectErrorMessage(options)"}}}],o=[{className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details on my driver licence?</a>'},{key:"firstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:20,label:"First name",hint:"Your first name as it appears on your driver licence"},validation:{messages:{required:'formState.errorMessages.requiredFieldsErrorMessage(options,true,".")',maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"middleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:20,label:"Middle name(s)",hint:"Your middle name(s) as it appears on your driver licence"},validation:{messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"lastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,requiredMessage:"Please type '.' if you don’t have a first name displayed on the document",maxlength:40,label:"Last name (surname)",hint:"Your last name as it appears on your driver licence"},validation:{messages:{required:'formState.errorMessages.requiredFieldsErrorMessage(options,true,".")',maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"licenceNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:10,label:"Driver licence number",hint:"Enter up to 10 characters"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"dateOfBirth",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue, options)",message:'formState.errorMessages.validDateErrorMessage(options, "DD/MM/YYYY")'},minimumDate:{expression:"formState.partialDate.minimumDate($viewValue, 1753)",message:"formState.errorMessages.minimumDateErrorMessage(options)"},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},templateOptions:{required:!0,label:"Date of birth",hint:"Enter date of birth as DD/MM/YYYY"},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}}];return{fieldMap:{},extensions:{},fields:r,mapModel:a,allFields:o}}e.$inject=["partialDate","stateOptions"],angular.module("link.police").factory("driverLicenceFields",e)}(),function(){"use strict";var e=[{value:"M",label:"Male (M)"},{value:"F",label:"Female (F)"},{value:"X",label:"Other (X)"}];angular.module("link.police").constant("genderOptions",e)}(),function(){"use strict";function e(e){function t(t){var a=angular.copy(t);return a.firstName=a.firstName||"-",a.dateOfBirth=e.filter(a.dateOfBirth),a}var a="[a-zA-Z]{3}[0-9]{6}",r=[{className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details on my Australian ImmiCard?</a>'},{key:"firstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:49,label:"First name",hint:"Your first name as it appears on the card"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options, model, $viewValue, "middleName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"middleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:49,label:"Middle name(s)",hint:"Your middle name(s) as it appears on the card"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options, model, $viewValue, "firstName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{maxlength:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}}},{key:"lastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:49,label:"Last name (surname)",hint:"Your last name as it appears on the card"},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"dateOfBirth",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue, options)",message:'formState.errorMessages.validDateErrorMessage(options, "DD/MM/YYYY, MM/YYYY or YYYY")'},minimumDate:{expression:"formState.partialDate.minimumDate($viewValue, 1753)",message:"formState.errorMessages.minimumDateErrorMessage(options)"},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["M/YYYY","MM/YYYY","D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY","YYYY"]},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}},templateOptions:{required:!0,label:"Date of birth",hint:"Enter date as DD/MM/YYYY, MM/YYYY or YYYY"}},{key:"immiCardNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:9,pattern:a,patternValidationMessage:"Please enter your immiCard number using 3 letters followed by 6 digits",label:"ImmiCard number",hint:"Enter 9 characters"},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}}];return{fields:r,mapModel:t}}e.$inject=["partialDate"],angular.module("link.police").factory("immiCardFields",e)}(),function(){"use strict";var e=[{value:"G",label:"Green"},{value:"B",label:"Blue"},{value:"Y",label:"Yellow"}];angular.module("link.police").constant("medicareCardColorOptions",e)}(),function(){"use strict";function e(e,t,a){function r(t){var a=angular.copy(t);return a.expiryDate=e.filter(a.expiryDate),a}var o="[A-Z a-z0-9-'\"]*",i=[{className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details on my Australian Medicare Card?</a>'},{key:"firstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:27,pattern:o,label:"First name",hint:"Your first name as it appears on your card"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"initial","lastName")',message:"formState.errorMessages.combinedThreeFieldErrorMessage(options)"}},expressionProperties:{"templateOptions.required":"!model.lastName"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.medicareCard.maxlengthErrorMessage(options)"}}},{key:"initial",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:1,pattern:o,label:"Initial",hint:"Your initial as it appears on your card"},validation:{messages:{maxlength:"formState.errorMessages.combinedThreeFieldErrorMessage(options)"}}},{key:"lastName",type:"input",wrapper:["label","hint","validation"],validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"initial","firstName")',message:"formState.errorMessages.combinedThreeFieldErrorMessage(options)"}},templateOptions:{required:!0,maxlength:27,pattern:o,label:"Last name (surname)",hint:"Your last name as it appears on your card"},expressionProperties:{"templateOptions.required":"!model.firstName"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.medicareCard.maxlengthErrorMessage(options)"}}},{key:"medicareCardNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:10,pattern:"[0-9]{9}[1-9]{1}",label:"Medicare Card number",hint:"Enter 10 digit number"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"referenceNumber",type:"select",wrapper:["label","hint","validation"],templateOptions:{required:!0,label:"Individual reference number",placeholder:"Select individual reference number",options:a,hint:"Number to the left of your name on your card"},validation:{messages:{required:"formState.errorMessages.requiredSelectErrorMessage(options,true)"}}},{key:"cardColor",type:"select",wrapper:["label","hint","validation"],templateOptions:{required:!0,label:"Card Colour",placeholder:"Select card colour",hint:"Select card colour",options:t},extras:{validateOnModelChange:!0},validation:{messages:{required:"formState.errorMessages.requiredSelectErrorMessage(options)"}}},{key:"expiryDate",type:"input",wrapper:["label","hint","validation"],validators:{partialDate:{expression:"formState.partialDate.valid($viewValue,options)",message:"formState.medicareCard.filterErrorMessage(model,options)"},expiring:{expression:"formState.medicareCard.expiryDate($viewValue)",message:'"Sorry, we are unable to verify your Medicare Card as it expires within 2 months. Please use a different identity document."'},expired:{expression:"formState.medicareCard.isValid($viewValue)",message:'"Sorry your card is expired and cannot be verified"'}},extras:{validateOnModelChange:!0},data:{dateFilters:[]},templateOptions:{required:!0,hint:"",label:"Expiry Date"},expressionProperties:{"data.dateFilters":"formState.medicareCard.dateFilters(model)","templateOptions.hint":"formState.medicareCard.hintExpression(model)"},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)"}}}];return{fields:i,mapModel:r}}e.$inject=["partialDate","medicareCardColorOptions","medicareReferenceNumber"],
angular.module("link.police").factory("medicareCardFields",e)}(),function(){"use strict";var e=[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"}];angular.module("link.police").constant("medicareReferenceNumber",e)}(),function(){"use strict";var e=[{value:"AFG",label:"Afghanistan"},{value:"ALB",label:"Albania"},{value:"DZA",label:"Algeria"},{value:"ASM",label:"American Samoa"},{value:"AND",label:"Andorra"},{value:"AGO",label:"Angola"},{value:"AIA",label:"Anguilla"},{value:"ATA",label:"Antarctica"},{value:"ATG",label:"Antigua And Barbuda"},{value:"ARG",label:"Argentina"},{value:"ARM",label:"Armenia"},{value:"ABW",label:"Aruba"},{value:"AUS",label:"Australia"},{value:"AUT",label:"Austria"},{value:"AZE",label:"Azerbaijan"},{value:"BHS",label:"Bahamas"},{value:"BHR",label:"Bahrain"},{value:"BGD",label:"Bangladesh"},{value:"BRB",label:"Barbados"},{value:"BLR",label:"Belarus"},{value:"BEL",label:"Belgium"},{value:"BLZ",label:"Belize"},{value:"BEN",label:"Benin"},{value:"BMU",label:"Bermuda"},{value:"BTN",label:"Bhutan"},{value:"BOL",label:"Bolivia"},{value:"BES",label:"Bonaire"},{value:"BES",label:"Bonaire, Saint Eustatius And Saba"},{value:"BIH",label:"Bosnia And Herzegovina"},{value:"BWA",label:"Botswana"},{value:"BVT",label:"Bouvet Island"},{value:"BRA",label:"Brazil"},{value:"GBD",label:"British Dependent Territories Citizen"},{value:"IOT",label:"British Indian Ocean Territory"},{value:"BRN",label:"Brunei Darussalam"},{value:"BGR",label:"Bulgaria"},{value:"BFA",label:"Burkina Faso"},{value:"BUR",label:"Burma"},{value:"BDI",label:"Burundi"},{value:"BYS",label:"Byelorussian - Soviet Socialist Republic"},{value:"CPV",label:"Cabo Verde"},{value:"KHM",label:"Cambodia"},{value:"CMR",label:"Cameroon"},{value:"CAN",label:"Canada"},{value:"CPV",label:"Cape Verde"},{value:"CYM",label:"Cayman Islands"},{value:"CAF",label:"Central African Republic"},{value:"TCD",label:"Chad"},{value:"CHL",label:"Chile"},{value:"CHN",label:"China"},{value:"CXR",label:"Christmas Island"},{value:"CCK",label:"Cocos (Keeling) Islands"},{value:"COL",label:"Colombia"},{value:"COM",label:"Comoros"},{value:"COG",label:"Congo"},{value:"COK",label:"Cook Islands"},{value:"CRI",label:"Costa Rica"},{value:"CIV",label:"Cote D'Ivoire"},{value:"HRV",label:"Croatia"},{value:"CUB",label:"Cuba"},{value:"CUW",label:"Curacao"},{value:"CYP",label:"Cyprus"},{value:"CZE",label:"Czech Republic"},{value:"CSK",label:"Czechoslovakia"},{value:"PRK",label:"Democratic Peoples Republic Of Korea (North)"},{value:"COD",label:"Democratic Republic Of The Congo"},{value:"TLS",label:"Democratic Republic Of Timor-Leste"},{value:"DNK",label:"Denmark"},{value:"DJI",label:"Djibouti"},{value:"DMA",label:"Dominica"},{value:"DOM",label:"Dominican Republic"},{value:"TMP",label:"East Timor"},{value:"ECU",label:"Ecuador"},{value:"EGY",label:"Egypt"},{value:"SLV",label:"El Salvador"},{value:"GNQ",label:"Equatorial Guinea"},{value:"ERI",label:"Eritrea"},{value:"EST",label:"Estonia"},{value:"ETH",label:"Ethiopia"},{value:"FLK",label:"Falkland Islands (Malvinas)"},{value:"FRO",label:"Faroe Islands"},{value:"FJI",label:"Fiji"},{value:"FIN",label:"Finland"},{value:"MKD",label:"Former Yugoslav Republic Of Macedonia"},{value:"FRA",label:"France"},{value:"FXX",label:"France, Metropolitan"},{value:"GUF",label:"French Guiana"},{value:"PYF",label:"French Polynesia"},{value:"ATF",label:"French Southern Territories"},{value:"GAB",label:"Gabon"},{value:"GMB",label:"Gambia"},{value:"GEO",label:"Georgia"},{value:"D",label:"Germany"},{value:"DDR",label:"Germany (Democratic Republic Of)"},{value:"GHA",label:"Ghana"},{value:"GIB",label:"Gibraltar"},{value:"GRC",label:"Greece"},{value:"GRL",label:"Greenland"},{value:"GRD",label:"Grenada"},{value:"GLP",label:"Guadeloupe"},{value:"GUM",label:"Guam"},{value:"GTM",label:"Guatemala"},{value:"GIN",label:"Guinea"},{value:"GNB",label:"Guinea-Bissau"},{value:"GUY",label:"Guyana"},{value:"HTI",label:"Haiti"},{value:"HMD",label:"Heard And Mcdonald Islands"},{value:"HND",label:"Honduras"},{value:"HKG",label:"Hong Kong"},{value:"HUN",label:"Hungary"},{value:"ISL",label:"Iceland"},{value:"IND",label:"India"},{value:"IDN",label:"Indonesia"},{value:"IRN",label:"Iran, Islamic Republic Of"},{value:"IRQ",label:"Iraq"},{value:"IRL",label:"Ireland"},{value:"ISR",label:"Israel"},{value:"ITA",label:"Italy"},{value:"JAM",label:"Jamaica"},{value:"JPN",label:"Japan"},{value:"JOR",label:"Jordan"},{value:"KAZ",label:"Kazakhstan"},{value:"KEN",label:"Kenya"},{value:"KIR",label:"Kiribati"},{value:"RKS",label:"Kosovo"},{value:"KWT",label:"Kuwait"},{value:"KGZ",label:"Kyrgyzstan"},{value:"LAO",label:"Lao Peoples Democratic Republic"},{value:"LVA",label:"Latvia"},{value:"LBN",label:"Lebanon"},{value:"LSO",label:"Lesotho"},{value:"LBR",label:"Liberia"},{value:"LBY",label:"Libya"},{value:"LBY",label:"Libyan Arab Jamahiriya"},{value:"LIE",label:"Liechtenstein"},{value:"LTU",label:"Lithuania"},{value:"LUX",label:"Luxembourg"},{value:"MAC",label:"Macau"},{value:"MDG",label:"Madagascar"},{value:"MWI",label:"Malawi"},{value:"MYS",label:"Malaysia"},{value:"MDV",label:"Maldives"},{value:"MLI",label:"Mali"},{value:"MLT",label:"Malta"},{value:"MHL",label:"Marshall Islands"},{value:"MTQ",label:"Martinique"},{value:"MRT",label:"Mauritania"},{value:"MUS",label:"Mauritius"},{value:"MYT",label:"Mayotte"},{value:"MEX",label:"Mexico"},{value:"FSM",label:"Micronesia, Federated States Of"},{value:"MDA",label:"Moldova, Republic Of"},{value:"MCO",label:"Monaco"},{value:"MNG",label:"Mongolia"},{value:"MSR",label:"Montserrat"},{value:"MAR",label:"Morocco"},{value:"MOZ",label:"Mozambique"},{value:"MMR",label:"Myanmar"},{value:"NAM",label:"Namibia"},{value:"NRU",label:"Nauru"},{value:"NPL",label:"Nepal"},{value:"ANT",label:"Netherlands Antilles"},{value:"NLD",label:"Netherlands, Kingdom Of The"},{value:"NTZ",label:"Neutral Zone"},{value:"NCL",label:"New Caledonia"},{value:"NZL",label:"New Zealand"},{value:"NIC",label:"Nicaragua"},{value:"NER",label:"Niger"},{value:"NGA",label:"Nigeria"},{value:"NIU",label:"Niue"},{value:"NFK",label:"Norfolk Island"},{value:"MNP",label:"Northern Mariana Islands"},{value:"NOR",label:"Norway"},{value:"OMN",label:"Oman"},{value:"PAK",label:"Pakistan"},{value:"PLW",label:"Palau"},{value:"PSE",label:"Palestinian Authority"},{value:"PAN",label:"Panama"},{value:"PNG",label:"Papua New Guinea"},{value:"PRY",label:"Paraguay"},{value:"PER",label:"Peru"},{value:"PHL",label:"Philippines"},{value:"PCN",label:"Pitcairn"},{value:"POL",label:"Poland"},{value:"PRT",label:"Portugal"},{value:"PRI",label:"Puerto Rico"},{value:"QAT",label:"Qatar"},{value:"XXB",label:"Refugee As Per Article 1, 1951 Convention"},{value:"XXC",label:"Refugee Other Than Article 1 Of 1951 Convention"},{value:"KOR",label:"Republic Of Korea (South)"},{value:"MNE",label:"Republic Of Montenegro"},{value:"SRB",label:"Republic Of Serbia"},{value:"SSD",label:"Republic Of South Sudan"},{value:"REU",label:"Reunion"},{value:"ROU",label:"Romania"},{value:"ROM",label:"Romania Pre 1/2/2002"},{value:"RUS",label:"Russian Federation"},{value:"RWA",label:"Rwanda"},{value:"SHN",label:"Saint Helena, Ascension And Tristan Da Cunha"},{value:"KNA",label:"Saint Kitts And Nevis"},{value:"LCA",label:"Saint Lucia"},{value:"WSM",label:"Samoa"},{value:"SMR",label:"San Marino"},{value:"STP",label:"Sao Tome & Principe"},{value:"SAU",label:"Saudi Arabia"},{value:"SEN",label:"Senegal"},{value:"SCG",label:"Serbia And Montenegro"},{value:"SYC",label:"Seychelles"},{value:"SLE",label:"Sierra Leone"},{value:"SGP",label:"Singapore"},{value:"SXM",label:"Sint Maarten (Dutch Part)"},{value:"SVK",label:"Slovak Republic"},{value:"SVN",label:"Slovenia"},{value:"SLB",label:"Solomon Islands"},{value:"SOM",label:"Somalia"},{value:"ZAF",label:"South Africa"},{value:"SGS",label:"South Georgia And The South Sandwich Islands"},{value:"SUN",label:"Soviet Union"},{value:"ESP",label:"Spain"},{value:"LKA",label:"Sri Lanka"},{value:"SHN",label:"St Helena"},{value:"SPM",label:"St Pierre And Miquelon"},{value:"VCT",label:"St Vincent And The Grenadines"},{value:"XXA",label:"Stateless Person"},{value:"SDN",label:"Sudan"},{value:"SUR",label:"Suriname"},{value:"SJM",label:"Svalbard And Jan Mayen Islands"},{value:"SWZ",label:"Swaziland"},{value:"SWE",label:"Sweden"},{value:"CHE",label:"Switzerland"},{value:"SYR",label:"Syrian Arab Republic"},{value:"TWN",label:"Taiwan, Province Of China"},{value:"TJK",label:"Tajikistan"},{value:"THA",label:"Thailand"},{value:"TGO",label:"Togo"},{value:"TKL",label:"Tokelau"},{value:"TON",label:"Tonga"},{value:"TTO",label:"Trinidad And Tobago"},{value:"TUN",label:"Tunisia"},{value:"TUR",label:"Turkey"},{value:"TKM",label:"Turkmenistan"},{value:"TCA",label:"Turks And Caicos Islands"},{value:"TUV",label:"Tuvalu"},{value:"UGA",label:"Uganda"},{value:"UKR",label:"Ukraine"},{value:"ARE",label:"United Arab Emirates"},{value:"GBR",label:"United Kingdom - British Citizen"},{value:"GBN",label:"United Kingdom - British National (Overseas)"},{value:"GBO",label:"United Kingdom - British Overseas Citizen"},{value:"GBD",label:"United Kingdom - British Overseas Territories Citizen"},{value:"GBP",label:"United Kingdom - British Protected Person"},{value:"GBS",label:"United Kingdom - British Subject"},{value:"UNA",label:"United Nations Agency"},{value:"UNO",label:"United Nations Organisation"},{value:"TZA",label:"United Republic Of Tanzania"},{value:"USA",label:"United States"},{value:"UMI",label:"United States Minor Outlying Islands"},{value:"UNK",label:"Unmik Travel Doc - United Nations Interim Administration Mission In Kosovo"},{value:"XXX",label:"Unspecified Nationality"},{value:"URY",label:"Uruguay"},{value:"UZB",label:"Uzbekistan"},{value:"VUT",label:"Vanuatu"},{value:"VAT",label:"Vatican City State (Holy See)"},{value:"VEN",label:"Venezuela"},{value:"VNM",label:"Vietnam"},{value:"VGB",label:"Virgin Islands (British)"},{value:"VIR",label:"Virgin Islands (U.S)"},{value:"WLF",label:"Wallis And Futuna Islands"},{value:"ESH",label:"Western Sahara"},{value:"YMD",label:"Yemen (Democratic Peoples Republic)"},{value:"YEM",label:"Yemen, Republic Of"},{value:"YUG",label:"Yugoslavia"},{value:"ZAR",label:"Zaire"},{value:"ZMB",label:"Zambia"},{value:"ZWE",label:"Zimbabwe"}];angular.module("link.police").constant("passportCountryOptions",e)}(),function(){"use strict";function e(e,t){function a(t){var a=angular.copy(t);return a.dateOfBirth=e.filter(a.dateOfBirth),a}var r="[a-zA-Z]{1,2}[0-9]*",o=[{className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details on my Australian passport?</a>'},{key:"firstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:31,label:"First name",hint:"Your first name as it appears on your passport"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options, model, $viewValue, "middleName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options, true)"}}},{key:"middleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:31,label:"Middle name(s)",hint:"Your middle name(s) as it appears on your passport"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options, model, $viewValue, "firstName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{maxlength:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}}},{key:"lastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:31,label:"Last name (surname)",hint:"Your last name as it appears on your passport"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options, true)"}}},{key:"passportNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,minlength:8,maxlength:9,pattern:r,label:"Passport number",hint:"Enter your passport number including all letters and numbers"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options, true)"}}},{key:"gender",type:"select",wrapper:["label","validation"],validators:{other:{expression:'$modelValue !== "X"',message:"\"Sorry, we are currently unable to verify Australian passports issued with 'X' as the gender. Please use a different identity document.\""}},validation:{messages:{required:'"Please select your gender"'}},templateOptions:{required:!0,label:"Gender",options:t}},{key:"dateOfBirth",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue, options)",message:'formState.errorMessages.validDateErrorMessage(options, "DD/MM/YYYY, MM/YYYY or YYYY")'},minimumDate:{expression:"formState.partialDate.minimumDate($viewValue, 1753)",message:"formState.errorMessages.minimumDateErrorMessage(options)"},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["M/YYYY","MM/YYYY","D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY","YYYY"]},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}},templateOptions:{required:!0,label:"Date of birth",hint:"Enter date of birth as DD/MM/YYYY, MM/YYYY or YYYY"}}];return{fields:o,mapModel:a}}e.$inject=["partialDate","genderOptions"],angular.module("link.police").factory("passportFields",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c){return{BirthCertificate:{helpLink:"#birth-certificate",document:e},CertOfRegByDescent:{helpLink:"#australian-certificate-registration-by-descent",document:t},ChangeOfNameCert:{helpLink:"#change-of-name-certificate",document:a},CitizenshipCert:{helpLink:"#australian-citizenship-certificate",document:r},DriverLicCert:{helpLink:"#driver-licence",document:o},MarriageCert:{helpLink:"#marriage-certificate",document:i},Medicare:{helpLink:"#australian-medicare-card",document:s},Passport:{helpLink:"#australian-passport",document:n},Visa:{helpLink:"#australian-visa",document:l},ImmiCard:{helpLink:"#australian-immicard",document:c}}}e.$inject=["birthCertificateFields","certificateOfRegistrationByDescentFields","changeOfNameCertificateFields","citizenshipCertificateFields","driverLicenceFields","marriageCertificateFields","medicareCardFields","passportFields","visaFields","immiCardFields"],angular.module("link.police").factory("policeDocumentFields",e)}(),function(){"use strict";var e=[{value:"NSW",label:"NSW"},{value:"QLD",label:"QLD"},{value:"NT",label:"NT"},{value:"SA",label:"SA"},{value:"ACT",label:"ACT"},{value:"WA",label:"WA"},{value:"TAS",label:"TAS"},{value:"VIC",label:"VIC"}];angular.module("link.police").constant("stateOptions",e)}(),function(){"use strict";function e(e,t){function a(t){var a=angular.copy(t);return a.dateOfBirth=e.filter(a.dateOfBirth),a}var r="[A-Z a-z0-9-'\"]*",o=[{className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details for my Australian visa?</a>'},{key:"firstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:49,pattern:r,label:"First name",hint:"Your first name as it appears on your Australian visa"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"middleName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"middleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:49,pattern:r,label:"Middle name(s)",hint:"Your middle name(s) as it appears on your Australian visa"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"firstName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{maxlength:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}}},{key:"lastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:49,pattern:r,label:"Last name (surname)",hint:"Your last name as it appears on your Australian visa"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"passportNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:14,pattern:"[a-zA-Z0-9]*",label:"Passport number",hint:"Enter your passport number including all letters and numbers"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"passportCountryOfIssue",type:"select",wrapper:["label","validation"],templateOptions:{required:!0,options:t,label:"Passport country of issue"},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)"}}},{key:"dateOfBirth",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY, MM/YYYY or YYYY")'},minimumDate:{expression:"formState.partialDate.minimumDate($viewValue, 1753)",message:"formState.errorMessages.minimumDateErrorMessage(options)"},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["M/YYYY","MM/YYYY","D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY","YYYY"]},templateOptions:{required:!0,label:"Date of birth",hint:"Enter date of birth as DD/MM/YYYY, MM/YYYY or YYYY"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}}];return{fields:o,mapModel:a}}e.$inject=["partialDate","passportCountryOptions"],angular.module("link.police").factory("visaFields",e)}(),function(){"use strict";function e(e,a,r,o,i,s,n,l,c){function u(e,t){S.options.resetModel(),S.form.$setPristine(),S.form.$setUntouched(),S.fields=i.getFields(e,t),S.model.documentType=e,S.model=angular.extend({},S.model,S.contactDetails)}function d(e,t){u(S.model.documentType,t),S.model[e]=t}function p(e,t,a,r,o){var i=a||"",s=t[r]||"",n=t[o]||"";return i.length+s.length+n.length<=e.templateOptions.maxlength}function m(e){S.alert=angular.extend({},{type:"info"},e)}function g(){S.alert=void 0}function f(){S.lockedStatus.isLocked=!1}function b(){return a.go("link.policeSuccess")}function h(e){n.scrollTop();var a=e.response||e,r=a.lockedStatus||{};r.isLocked?m(t):a.statusMessage&&m({type:"danger",heading:"Error!",text:a.statusMessage}),angular.extend(S.lockedStatus,r),S.model.transactionToken=a.transactionToken,o.lockTimeOut(r).then(f)}function v(e,t,a){return S.validationSummaryFields=angular.copy(S.fields),a.$valid?(g(),o.validateDetails(i.mapModel(e),t).then(b)["catch"](h)):void 0}function y(){return!(!S.form.$invalid&&S.model.iAgree)}var S=this;if(S.snswSiteUrl=c,!l)return void a.go("linkGovService");var C=[],E={formState:angular.extend({},s,{documentChange:u,australianStateChange:d,combinedMaxLength:p})};angular.extend(S,{model:angular.extend({},r.contactDetails),onSubmit:v,disabled:y,options:E,transactionAlert:m,dismissAlert:g,pageHeader:"Link to NSW Police Force",fields:i.getFields(),validationSummaryFields:C},r),r.lockedStatus.isLocked&&m(t),o.lockTimeOut(r.lockedStatus).then(f)}e.$inject=["$filter","$state","linkingInfo","policeService","policeField","policeFormState","UIService","isPoliceLinkingServiceVisible","snswSiteUrl"];var t={type:"danger",heading:"Error!",text:"Too many incorrect document verification attempts. For your security, linking to NSW Police Force has been locked for 5 minutes. Please check your details and try again, use a different identity document, or call us on 13 77 88."};angular.module("link.police").controller("linkToPoliceController",e)}(),function(){"use strict";function e(e,t){function a(e){n.alert=angular.extend({},{type:"info"},e)}function r(){n.alert=void 0}function o(e){n.dismissAlert(),n.success=!0}function i(e){var t=e.response||e;n.success=!1,a(t.statusMessage?{type:"danger",heading:"",text:t.statusMessage}:l)}function s(t){return e.unlinkInfoResponse(t.password).then(o)["catch"](i)}var n=this;n.fields=[{template:"<p>Please enter your password to confirm</p>"},{key:"password",type:"input",wrapper:["label","validation"],templateOptions:{label:"Password",required:!0,type:"password"},validation:{messages:{required:function(e,t,a){return"Please enter your password"}}}}];var l={type:"danger",heading:"Error!",text:"Verification failed, please try again"};angular.extend(n,{model:{},pageHeader:"Unlink NSW Police Force",dismissAlert:r,transactionAlert:a,onSubmit:s})}e.$inject=["policeService","$state"],angular.module("link.police").controller("unlinkPoliceController",e)}(),function(){"use strict";function e(e){this.expiryDate=function(t){var a=e.generate(t);return!a.isBetween(moment(),moment().add(2,"months"))},this.isValid=function(t){var a=e.generate(t);return a.isAfter()},this.dateFilters=function(e){var t=["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY","M/YYYY","MM/YYYY"];switch(e.cardColor){case"G":t=["M/YYYY","MM/YYYY"];break;case"Y":case"B":t=["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]}return t},this.filterErrorMessage=function(e,t){var a="Invalid "+t.templateOptions.label+". Please enter as MM/YYYY or DD/MM/YYYY. ";switch(e.cardColor){case"G":a="Invalid "+t.templateOptions.label+". Please enter as MM/YYYY.";break;case"Y":case"B":a="Invalid "+t.templateOptions.label+". Please enter as DD/MM/YYYY. "}return a},this.hintExpression=function(e){var t="Enter date as MM/YYYY or DD/MM/YYYY";switch(e.cardColor){case"G":t="Enter date as MM/YYYY";break;case"Y":case"B":t="Enter date as DD/MM/YYYY"}return t},this.maxlengthErrorMessage=function(e){var t=angular.lowercase(e.templateOptions.label);return"Please enter your "+t+" using no more than "+e.templateOptions.maxlength+" character(s). If your "+t+" exceeds this length, please use a different identity document."}}e.$inject=["partialDate"],angular.module("link.police").service("medicareCard",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s){function n(e){var t=moment(e).add(5,"minutes");return Math.max(0,t.diff())}this.getLinkingInfo=function(){var e={remoteAction:"ppLinkToPoliceCtl.getLinkingInfo",resultMap:function(e){var t=e.statusObject,a=t.contactDetails.middleName||"";return t.contactDetails.initial=a[0],t}};return a.call(e)};var l=3;this.unlinkInfoResponse=function(e){var t={remoteAction:"maPersonalProfileServiceExt.unlinkPolice",params:[e],resultMap:function(){return!0},errorResultMap:function(e){return l--,1>l&&(s.forceRedirect=!0,i.location=o),e.statusMessage="Incorrect password. Please check and try again.",1===l&&(e.statusMessage+=" 1 attempt remaining before you’re logged out."),e}};return a.call(t)},this.validateIdentityDetails=function(e){var t=angular.copy(e),r=e.documentType+"Details";delete t.documentType;var o={remoteAction:"ppLinkToPoliceCtl.validate"+r,params:[JSON.stringify(t)],errorResultMap:function(e){var t=e.statusObject||{};return{lockedStatus:t.lockedStatus,statusMessage:e.statusMessage,transactionToken:t.transactionToken}}};return a.call(o)},this.confirmLastAttempt=function(t,a){if(a.isLocked)return e.reject({lockedStatus:a});var o=n(a.firstFailedTime);return a.isLastAttempt&&o?r.open({heading:"Are you sure you want to continue?",body:"This is your last attempt to verify your identity and link to NSW Police Force before your account is locked for 5 minutes.",primaryButton:"Yes",secondaryButton:"No"}).then(function(){return e.resolve(t)}):e.resolve(t)},this.lockTimeOut=function(e){var a=moment();return e&&e.isLocked&&(a=n(e.lockedTime)),t(a)},this.validateDetails=function(e,t){return this.confirmLastAttempt(e,t).then(this.validateIdentityDetails)}}e.$inject=["$q","$timeout","vf","snswModal","securityQuestionsPasswordRetryLimitExceededLogoutUrl","$window","$rootScope"],angular.module("link.police").service("policeService",e)}(),function(){"use strict";function e(){this.requiredErrorMessage=function(e){var t=angular.lowercase(e.templateOptions.label);return"Please enter the "+t},this.requiredUserErrorMessage=function(e){var t=angular.lowercase(e.templateOptions.label);return"Please enter your "+t},this.requiredFieldsErrorMessage=function(e,t,a){var r=a||"-",o="hyphen";"."===r&&(o="full stop");var i=angular.lowercase(e.templateOptions.label);return t?"Please enter your "+i+". If you don't have a "+i+" on your document, enter a "+o+' "'+r+'" to skip this field.':"Please enter the "+i+". If you don't have a "+i+" on your document, enter a "+o+' "'+r+'" to skip this field.'},this.requiredSelectErrorMessage=function(e,t){var a=angular.lowercase(e.templateOptions.label);return t?"Please select your "+a:"Please select the "+a},this.requiredDateErrorMessage=function(e,t,a){var r=angular.lowercase(e.templateOptions.label);return a?"Please enter your "+r+" as  "+t+".":"Please enter the "+r+" as  "+t+"."},this.maxlengthErrorMessage=function(e,t){var a=angular.lowercase(e.templateOptions.label);return t?"Please enter your "+a+" using no more than "+e.templateOptions.maxlength+" character(s).":"Please enter the "+a+" using no more than "+e.templateOptions.maxlength+" character(s)."},this.minlengthErrorMessage=function(e,t){var a=angular.lowercase(e.templateOptions.label);return t?"Please enter your "+a+" using at least "+e.templateOptions.minlength+" character(s).":"Please enter the "+a+" using at least "+e.templateOptions.minlength+" character(s)."},this.maximumDateErrorMessage=function(e){var t=angular.lowercase(e.templateOptions.label);return"Invalid "+t+". The date you entered is in the future."},this.combinedMaxLengthErrorMessage=function(e,t){return t?"Please enter your "+t+" first and middle name(s) using no more than "+e.templateOptions.maxlength+" characters across the 2 fields.":"Please enter your first and middle name(s) using no more than "+e.templateOptions.maxlength+" characters across the 2 fields."},this.combinedThreeFieldErrorMessage=function(e){return"Please enter your first name, initial and last name(surname) using no more than "+e.templateOptions.maxlength+" character(s) across the 3 fields. If your combined length of the first name, initial and last name(surname) exceeds this length, please use a different identity document"},this.minimumDateErrorMessage=function(e){var t=angular.lowercase(e.templateOptions.label);return"Invalid "+t+". The date you entered is not valid."},this.validDateErrorMessage=function(e,t){var a=t||"DD/MM/YYYY",r=angular.lowercase(e.templateOptions.label);return"Invalid "+r+". Please enter as "+a+"."}}angular.module("link.police").service("policeErrorMessages",e)}(),function(){"use strict";function e(e,t,a){function r(e,a){var r=t.filter(function(e){return e.key===a.key}).map(function(e){return angular.merge(a,e)});return e.push(r[0]||a),e}function o(t){return e.filter(function(e){return e.key===t})}return a&&a.length?a.map(o).concatAll().reduce(r,[]):e.reduce(r,[])}function t(t,a){var r=[{key:"iAgree",type:"checkbox-label-with-action",defaultValue:!1,templateOptions:{required:!0,label:"I agree",labels:[{text:"I agree to have my identity document checked with its issuer"}]},validation:{messages:{required:'"You must agree to your supplied ID being checked in order to submit this form"'}}}];this.getFields=function(o,i){var s=o||"DriverLicCert",n=a[s].document,l=n.fields;if(i){var c=n.extensions[i]||[],u=n.fieldMap[i],d=angular.copy(n.allFields),p=e(d,c,u);l=l.concat(p)}return t.concat(l).concat(r)},this.mapModel=function(e){var t=e.documentType;return a[t].document.mapModel(e)}}t.$inject=["commonFields","policeDocumentFields"],angular.module("link.police").service("policeField",t)}(),function(){"use strict";function e(e,t,a,r,o,i){function s(e){var a=e.documentType,r=e.state||e.registrationState,o=t[a].helpLink;return[n,o,r?"-"+angular.lowercase(r):""].join("")}var n=i+"node/85191";return{partialDate:a,medicareCard:r,errorMessages:o,helpLink:s}}e.$inject=["$window","policeDocumentFields","partialDate","medicareCard","policeErrorMessages","snswSiteUrl"],angular.module("link.police").service("policeFormState",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"=",customerDetails:"=",salutationValues:"="},restrict:"AE",transclude:!0,templateUrl:"oeh/nationalParkPass/application/national-park-pass-application.html",controller:"nationalParkPassApplicationController as application"}}angular.module("oeh").directive("nationalParkPassApplication",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l){function c(e){f.alert=o.alert(e)}function u(e){var t=e.pspPayload;t&&(f.transaction.textToken=t.textToken,f.transaction.jwtToken=t.jwtToken),e.pspPostURL&&(f.transaction.pspPostURL=e.pspPostURL)}function d(){return i.orderNPPass({userContext:{},requestObj:{},customerInfo:f.model||{}})}function p(){return d().then(u)["catch"](c)}function m(){if(f.model=f.model||{},f.model.address&&!f.model.address.address){var e=f.model.address;f.model.address={address:e,dpid:h.address&&h.address.dpid||""}}f.form.$valid&&p()}function g(){o.updateModel(f.model),f.transaction.goToPrevState()}var f=this,b=angular.copy(f.customerDetails||{}),h=angular.copy(f.customerDetails&&f.customerDetails.CustomerInfo||{}),v=o.getModel();v.addressDpid&&(v.address={address:v.address,dpid:v.addressDpid}),v=angular.merge({},h,v),v.addressDpid=v.address&&v.address.dpid||"",v.address=v.address&&v.address.address||"",v.termsAndConditions=i.getTermsAndConditionsAgreed(),v.salutation=void 0,n.SNIPPETS=s;var y=b&&b.li_ProductInfo&&b.li_ProductInfo.map(function(e){return{id:e.ProductCode,value:e.ProductCode,label:t.trustAsHtml(e.Description+"<br /><strong>"+l("currency")(e.Price)+"</strong>")}})||[],S=[{type:"panel-group-radio",key:"selectedProductCode",templateOptions:{required:!0,options:y},validation:{messages:{required:'"'+s.OEH.NATIONALPARKPASS.SELECTPASSTYPEERROR+'"'}}},{key:"salutation",type:"select",wrapper:["label","validation"],templateOptions:{label:s.GLOBAL.TITLE,options:f.salutationValues||[],placeholder:" ",required:!0,classes:{validationContainer:["row"],validation:["col-md-3"]}},validation:{messages:{required:'"'+s.OEH.NATIONALPARKPASS.TITLEREQUIRED+'"'}}},{key:"firstName",type:"input",wrapper:["label","validation"],templateOptions:{label:s.GLOBAL.FIRSTNAME,pattern:r.firstOrLastName,maxlength:40,required:!0},validation:{messages:{required:'"'+s.OEH.NATIONALPARKPASS.FIRSTNAMEREQUIRED+'"',pattern:'"'+s.OEH.NATIONALPARKPASS.FIRSTNAMEINVALIDCHAR+'"',maxlength:'"'+s.OEH.NATIONALPARKPASS.FIRSTNAMEINVALIDLENGTH+'"'}}},{key:"lastName",type:"input",wrapper:["label","validation"],templateOptions:{label:s.GLOBAL.LASTNAME,pattern:r.firstOrLastName,maxlength:40,required:!0},validation:{messages:{required:'"'+s.OEH.NATIONALPARKPASS.LASTNAMEREQUIRED+'"',pattern:'"'+s.OEH.NATIONALPARKPASS.LASTNAMEINVALIDCHAR+'"',maxlength:'"'+s.OEH.NATIONALPARKPASS.LASTNAMEINVALIDLENGTH+'"'}}},{key:"address",type:"address",templateOptions:{required:!0,label:s.GLOBAL.ADDRESS,placeholder:s.OEH.NATIONALPARKPASS.DELIVERYADDRESSENTERYOUR},validation:{messages:{required:'"'+s.OEH.NATIONALPARKPASS.DELIVERYADDRESSERROR+'"'}}},{key:"emailAddress",type:"input",wrapper:["label","validation"],templateOptions:{type:"email",maxlength:80,required:!0,label:s.GLOBAL.EMAILADDRESS
},validation:{messages:{email:'"'+s.OEH.NATIONALPARKPASS.EMAILINVALID+'"',required:'"'+s.OEH.NATIONALPARKPASS.EMAILREQUIRED+'"'}}},{key:"sendAutoEmail",type:"checkbox",templateOptions:{label:s.OEH.NATIONALPARKPASS.EMAILMERECEIPT}},{key:"phone",type:"input",wrapper:["label","validation","bootstrap-row-col"],templateOptions:{label:s.GLOBAL.PHONEOPTIONAL,pattern:r.phone,bootstrapColClassNames:"col-md-9"},validation:{messages:{pattern:'"'+s.OEH.NATIONALPARKPASS.PHONEINVALID+'"'}}},{defaultValue:v.plate,type:"input-plate-number",wrapper:["bootstrap-row-col","label","validation"],templateOptions:{bootstrapColClassNames:"col-md-7",label:s.OEH.NATIONALPARKPASS.VEHICLEPLATENUMBER,readOnly:!0}},{key:"marketingOptIn",type:"checkbox",templateOptions:{label:s.OEH.NATIONALPARKPASS.RECEIVENATIONALPARKS}}];angular.extend(f,{fields:S,onSubmit:m,back:g,model:v})}e.$inject=["$state","$sce","myAccountAPI","regex","oehTransactionService","nationalParkPassService","SNIPPETS","$scope","$filter"],angular.module("oeh").controller("nationalParkPassApplicationController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"=",termsAndConditionsContent:"="},restrict:"AE",transclude:!0,templateUrl:"oeh/nationalParkPass/details/national-park-pass-details.html",controller:"nationalParkPassDetailsController as details"}}angular.module("oeh").directive("nationalParkPassDetails",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l){function c(){m.alert=void 0}function u(){r.location=s}function d(){c(),m.form.$valid&&(t.setTermsAndConditionsAgreed(),m.transaction.goToNextState())}function p(){return i.quitTransaction().then(u)}var m=this;l.SNIPPETS=n,m.termsConditions=o.trustAsHtml(m.termsAndConditionsContent);var g=[{key:"termsAndConditions",type:"checkbox-label-with-action",wrapper:["bootstrap-row-col","validation"],templateOptions:{required:!0,label:n.OEH.NATIONALPARKPASS.DETAILSHEADING,labels:[{text:n.OEH.NATIONALPARKPASS.DETAILSIACCEPT}]},validation:{messages:{required:'"'+n.OEH.NATIONALPARKPASS.DETAILSPLEASEACCEPT+'"'}}},{key:"privacy",type:"modal",templateOptions:{link:{name:n.OEH.NATIONALPARKPASS.DETAILSPRIVACY},openModal:function(){i.open({heading:n.OEH.NATIONALPARKPASS.PRIVACYPOLICYHEADING,body:n.OEH.NATIONALPARKPASS.PRIVACYPOLICYBODY,secondaryButton:n.GLOBAL.ACTIONS.CLOSE})}}}];angular.extend(m,{quit:p,model:a.getModel(),fields:g,onSubmit:d,dismissAlert:c})}e.$inject=["$state","nationalParkPassService","oehTransactionService","$window","$sce","snswModal","snswSiteUrl","SNIPPETS","$scope"],angular.module("oeh").controller("nationalParkPassDetailsController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"=",receiptDetails:"="},restrict:"AE",transclude:!0,templateUrl:"oeh/nationalParkPass/receipt/national-park-pass-receipt.html",controller:"nationalParkPassReceiptController as receipt"}}angular.module("oeh").directive("nationalParkPassReceipt",e)}(),function(){"use strict";function e(e,t,a,r,o,i){function s(){l.sendAutoEmail&&a.sendTransactionPDFEmail(l.email,o.token);for(var e=0;e<c.length;e++){var t=c[e].value;angular.isDefined(t)&&"-"===t[0]&&(c[e].value=t.substring(1))}}var n=this,l=n.receiptDetails.transactionDetails,c=angular.copy(n.receiptDetails.paymentFeeDetails.fees);r.SNIPPETS=t,r.resourcePath=i,s(),angular.extend(n,{transactionToken:o.token,receiptImportantBody:t.OEH.NATIONALPARKPASS.RECEIPTIMPORTANTBODY,sendEmailApi:a.sendTransactionPDFEmail,fees:c,sendEmailCatchFn:function(){}})}e.$inject=["regex","SNIPPETS","nationalParkPassService","$scope","$stateParams","resourcePath"],angular.module("oeh").controller("nationalParkPassReceiptController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u){function d(){e.redirectCopy=n.trustAsHtml(f.replace("{secondCount}",e.redirectCount)),0===e.redirectCount&&i.logIn(r.startUrl,!0)}function p(){d(),e.redirectCount=e.redirectCount-1,e.redirectCount<0||l(p,1e3)}function m(t){return"REGISTRATION_CODE_EXPIRED"===t.statusMessage?a.go("createAccountExpired",{email:t.statusObject}):(e.initialized=!0,o.set("activation","activation"),void p())}function g(t){switch(e.initialized=!0,t.response.statusMessage){case"ACTIVATION_CODE_NOT_FOUND":return a.go("createAccountExpiredOrInvalid");case"CANNOT_CREATE_ACCOUNT_WITH_ACTIVE_SESSION":default:e.errorMessages=u.extractErrorMessages(t.response)}}e.SNIPPETS=s,e.loginUrl=i.loginUrl(r.startUrl,!0);var f=s.MYACCOUNT.ACTIVATEACCOUNT.REDIRECTCOPY.replace("{loginUrl}",e.loginUrl);e.redirectCopy="";var b=r.activationCode;e.initialized=!1,e.redirectCount=5,e.errorMessages=[],c.activateCustomer(b).then(m)["catch"](g)}e.$inject=["$scope","$window","$state","$stateParams","cookie","redirectService","SNIPPETS","$sce","$timeout","userService","commonUtil"],angular.module("ma").controller("activateAccountController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d,p,m,g,f){function b(){var t=e.details&&e.formData&&(e.details.confirmPassword||e.formData.password)&&e.details.confirmPassword!==e.formData.password;return t}function h(){e.confirmPWMatch=b()}function v(){var t=!e.details.password,a=e.details.confirmPassword===e.details.password;e.confirmPWMatch=a||t}function y(){t.isLoading=!1,a.go("createAccountValidate",{email:e.details.email})}function S(r){return t.isLoading=!1,"ACTIVATION_PENDING"===r.message?a.go("createAccountExist",{email:e.details.email}):void(e.errorMessages=d.extractErrorMessages(r.response))}function C(){return e.fields=[],e.createAccountForm?(e.createAccountForm.email&&e.createAccountForm.email.$dirty||""!==e.createAccountForm.email.$modelValue?(e.createAccountForm.email.$error.invalidEmail&&!e.createAccountForm.email.$error.invalidEmailLength&&e.fields.push({name:"Email address",errorMessage:r.GLOBAL.FORMS.EMAIL.VALIDATION.ERRORMESSAGE}),e.createAccountForm.email.$error.invalidEmailLength&&e.fields.push({name:"Email address",errorMessage:"Please enter an email address using no more than 50 characters."})):e.fields.push({name:"Email address",errorMessage:"Please fill out this field."}),e.createAccountForm.password&&""===e.createAccountForm.password.$modelValue?e.fields.push({name:"Password",errorMessage:"Please fill out this field."}):e.createAccountForm.password.$invalid&&e.createAccountForm.password.$dirty&&e.fields.push({name:"Password",errorMessage:r.GLOBAL.FORMS.PASSWORD.VALIDATION.HINT}),e.createAccountForm.confirmPassword&&""===e.createAccountForm.confirmPassword.$modelValue?e.fields.push({name:"Confirm password",errorMessage:"Please fill out this field."}):(e.createAccountForm.confirmPassword.$invalid&&e.createAccountForm.confirmPassword.$dirty&&e.fields.push({name:"Confirm password",errorMessage:r.GLOBAL.FORMS.PASSWORD.VALIDATION.HINT}),e.createAccountForm.confirmPassword.$dirty&&e.details.password!==e.details.confirmPassword&&e.fields.push({name:"Confirm password",errorMessage:r.GLOBAL.FORMS.CONFIRMPASSWORD.VALIDATION.HINT})),e.details.tnc||e.fields.push({name:"Terms and Conditions",errorMessage:"Please accept the Terms and Conditions to continue."}),e.disableRecaptcha||e.details.captchaValue||e.fields.push({name:"reCAPTCHA",errorMessage:"Please complete the reCAPTCHA process."}),u(function(){document.getElementsByClassName("alert-validation-summary")[0].focus()}),e.createAccountForm.$valid&&0===e.fields.length):!0}var E=r.MYACCOUNT.CREATEACCOUNT.CREATEACCOUNTAND;e.snswSiteUrl=n,e.loginUrl=l.loginUrl("dashboard"),e.createAccountAndSnippet=s.trustAsHtml(E.replace("{loginUrl}",e.loginUrl)),e.details={email:"",password:"",confirmPassword:"",tnc:!1,emailNotification:!0,news:!0,newGov:!1,startUrl:"",captchaValue:"",siteId:f,encryptedIpAddress:g},e.reCaptchaPublicKey=p,e.disableRecaptcha=m,e.fields=[],e.confirmPWMatch=!1,e.$watch("details.confirmPassword",h),e.$watch("formData.password",h),e.$watch("details.confirmPassword",v),e.errorMessages=[],e.fields=[],e.link=function(){if(C()){t.isLoading=!0;var a=l.returnUrl("createAccount")||"";e.details.startUrl=a,o.createCustomer(e.details).then(y)["catch"](S)}},e.showTnC=function(){i.open({templateUrl:"core/createAccount/tnc/tnc.html",controller:"tncController"})}}e.$inject=["$scope","$rootScope","$state","SNIPPETS","myAccountAPI","$modal","$sce","snswSiteUrl","redirectService","snswModal","$timeout","commonUtil","reCaptchaPublicKey","isRecaptchaDisabled","encryptedIpAddress","siteId"],angular.module("ma").controller("createAccountController",e)}(),function(){"use strict";function e(e,t,a){e.error=a.error}e.$inject=["$scope","$state","$stateParams"],angular.module("ma").controller("createAccountErrorController",e)}(),function(){"use strict";function e(e,t,a,r,o,i){function s(){e.locked=!0,e.error=i.MYACCOUNT.REGISTRATION.SEND_EMAIL_LOCKED,r(function(){e.success=!1,e.locked=!1,e.error=null},3e5)}e.HEADINGCOPY=o.trustAsHtml(i.MYACCOUNT.ACCOUNTEXISTS.HEADINGCOPY),e.success=!1,e.error="",e.attemptsLeft=null,e.locked=!1,e.emailaddress=t.email,a.isResendRegistrationLinkLocked(e.emailaddress).then(function(e){e&&s()})["catch"](function(t){e.error=t.message}),e.resendEmail=function(){e.success=!1,e.error="",e.attemptsLeft=null,e.locked=!1,a.resendRegistrationLink(e.emailaddress).then(function(t){e.success=!0,e.attemptsLeft=t.attemptsLeft,0===t.attemptsLeft&&s()})["catch"](function(t){e.error=t.message,402===t.httpStatusCode&&(e.error="It looks like you've already activated your account. You don't need to resend this email")})}}e.$inject=["$scope","$stateParams","myAccountAPI","$timeout","$sce","SNIPPETS"],angular.module("ma").controller("createAccountExistController",e)}(),function(){"use strict";function e(e,t,a,r,o,i){function s(){e.locked=!0,e.error=i.MYACCOUNT.REGISTRATION.SEND_EMAIL_LOCKED,o(function(){e.success=!1,e.locked=!1,e.error=null},3e5)}e.success=!1,e.error="",e.attemptsLeft=null,e.locked=!1,e.emailaddress=a.email,r.isResendRegistrationLinkLocked(e.emailaddress).then(function(e){e&&s()})["catch"](function(t){e.error=t.message}),e.resendEmail=function(){e.success=!1,e.error="",e.attemptsLeft=null,e.locked=!1,r.resendRegistrationLink(e.emailaddress).then(function(t){e.success=!0,e.attemptsLeft=t.attemptsLeft,0===t.attemptsLeft&&s()})["catch"](function(t){e.error=t.message,402===t.httpStatusCode&&(e.error="It looks like you've already activated your account. You don't need to resend this email")})}}e.$inject=["$scope","$state","$stateParams","myAccountAPI","$timeout","SNIPPETS"],angular.module("ma").controller("createAccountExpiredController",e)}(),function(){"use strict";function e(){}angular.module("ma").controller("createAccountExpiredOrInvalidController",e)}(),function(){"use strict";function e(e,t,a,r,o,i){function s(){e.locked=!0,e.error=i.MYACCOUNT.REGISTRATION.SEND_EMAIL_LOCKED,o(function(){e.success=!1,e.locked=!1,e.error=null},3e5)}e.success=!1,e.error="",e.attemptsLeft=null,e.locked=!1,e.emailaddress=a.email,r.isResendRegistrationLinkLocked(e.emailaddress)["catch"](s),e.resendEmail=function(){e.success=!1,e.error="",e.attemptsLeft=null,e.locked=!1,r.resendRegistrationLink(e.emailaddress).then(function(t){e.success=!0,e.attemptsLeft=t.attemptsLeft,0===t.attemptsLeft&&s()})["catch"](function(t){e.error=t.message,402===t.httpStatusCode&&(e.error="It looks like you've already activated your account. You don't need to resend this email")})}}e.$inject=["$scope","$state","$stateParams","myAccountAPI","$timeout","SNIPPETS"],angular.module("ma").controller("createAccountValidateController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l){function c(e){return!("POLICE"===e.agencyName&&"false"===s&&e.isLinked===!1)}var u=this,d=r.MYACCOUNT.LINKGOVSERVICE;e.SNIPPETS=r,u.showWelcomeAlert=Boolean(t.showWelcomeAlert);var p={RMS:{linkedServices:JSON.parse(d.RMSSERVICES.split("'").join('"')),button:"Manage",router:"manageRMS"},POLICE:{linkedServices:JSON.parse(d.POLICESERVICES.split("'").join('"')),button:"Unlink",router:"linkGovService.unlink",successState:"unlink.police"}},m={RMS:{services:JSON.parse(d.RMSSERVICES.split("'").join('"')),button:"Link",router:"linkRMSOptions"},POLICE:{services:JSON.parse(d.POLICESERVICES.split("'").join('"')),button:"Link",router:"link.police"}};u.services=o.filter(function(e){return!e.isLinked}).map(function(e){return angular.extend({},e,m[e.agencyName])}),u.linkedServices=o.filter(function(e){return e.isLinked}).map(function(e){return angular.extend({},e,p[e.agencyName])}),e.getServiceLogo=function(e){return"RMS"===e.agencyName?n+"/images/RMS_logo.gif":"POLICE"===e.agencyName?n+"/images/Police_logo.png":null},e.hasConnectedServices=function(){return 0!==u.linkedServices.length},e.hasDisconnectedServices=function(){return 0!==u.services.length},e.getButtonLabel=function(e){return"Link"===e.button?"Connect":"Manage"},e.hasConnectedItems=function(){return l.hasConnectedItems(l.dashboardInfo)},u.services.filter&&(u.services=u.services.filter(c)),u.linkedServices.filter&&(u.linkedServices=u.linkedServices.filter(c))}e.$inject=["$scope","$stateParams","$filter","SNIPPETS","linkedServices","rmsTransactionService","isPoliceVisible","resourcePath","dashboardService"],angular.module("ma").controller("linkGovServiceController",e)}(),function(){"use strict";function e(e,t,a,r){e.SNIPPETS=t,e.snswSiteUrl=r,e.cancel=function(){a.dismiss("cancel")}}e.$inject=["$scope","SNIPPETS","$modalInstance","snswSiteUrl"],angular.module("ma").controller("tncController",e)}(),function(){"use strict";function e(e){function t(e){return e.getFields()}t.$inject=["nameFields"],e.state("welcomePersonalDetails",{url:"/welcomePersonalDetails",views:{main:{templateUrl:"core/createAccount/welcome/welcomePersonalDetails/welcomePersonalDetails.html",controller:"welcomePersonalDetailsController as personalDetails"}},resolve:{contactDetails:["myAccountAPI",function(e){return e.getContact()}],nameFields:t},data:{title:"Add personal details"}}),e.state("welcomeSecQuestion",{url:"/welcomeSecQuestion",views:{main:{templateUrl:"core/createAccount/welcome/welcomeSecQuestion/welcomeSecQuestion.html",controller:"welcomeSecQuestionController"}},data:{title:"Add security questions"}}),e.state("welcomeLinkRMS",{url:"/welcomeLinkRMS",views:{main:{templateUrl:"core/createAccount/welcome/welcomeLinkRMS/welcomeLinkRMS.html",controller:"welcomeLinkRMSController as welcomeLinkRMS"}},params:{showWelcomeAlert:""},data:{title:"Link to Roads and Maritime"}})}e.$inject=["$stateProvider"],angular.module("ma").config(e)}(),function(){"use strict";function e(e,t,a,r){return r.dashboardInfo?void(e.dashboardInfo=r.dashboardInfo):void t.go("dashboard")}e.$inject=["$scope","$state","SNIPPETS","dashboardService"],angular.module("ma").controller("connectionsController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c){var u=this;u.init=function(){e.snswSiteUrl=l,e.dashboardInfo=i,s.dashboardInfo=i},e.SNIPPETS=a;a.MYACCOUNT.LINKGOVSERVICE;e.isAuthenticated=function(){return o},e.getCustomerGivename=function(){return e.dashboardInfo.pingUserInfo.firstName},e.hasConnectedItems=function(){return s.hasConnectedItems(e.dashboardInfo)},e.lastLoginTimeStampExists=function(){return e.dashboardInfo&&e.dashboardInfo.pingUserInfo&&e.dashboardInfo.pingUserInfo.lastLoginDate},e.getLastLoginTimeStamp=function(){return r.formatTimeStampString(e.dashboardInfo.pingUserInfo.lastLoginDate).shortFormat},c.$on("firstServerError",function(t,a){e.apiErrorMessages=commonUtil.extractErrorMessages(a)}),u.init()}e.$inject=["$scope","$filter","SNIPPETS","myAccountAPI","isAuthenticated","dashboardInfo","dashboardService","resourcePath","snswSiteUrl","$rootScope"],angular.module("ma").controller("dashboardController",e)}(),function(){"use strict";function e(e,t,a,r){var o=this;o.init=function(){return r.dashboardInfo?(e.dashboardInfo=r.dashboardInfo,void(e.warningMessages=[{severity:"INFO",message:a.RMS.ERRORS.WARNING.MORE_THAN_10_ELIGIBLE_VEHICLE}])):void t.go("dashboard")},e.hasConnectedItems=function(){return r.hasConnectedItems(r.dashboardInfo)},o.init()}e.$inject=["$scope","$state","SNIPPETS","dashboardService"],angular.module("ma").controller("productsController",e)}(),function(){"use strict";function e(e,t,a){return a.dashboardInfo?void(e.dashboardInfo=a.dashboardInfo):void t.go("dashboard")}e.$inject=["$scope","$state","dashboardService"],angular.module("ma").controller("timelineController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s){function n(){t.isLoading=!1,d.ready=!0}function l(e){d.snswEmail=e.email}function c(){t.isLoading=!1,s.returnFrom("changeDetails.address","changeDetails.address",{linkRMSSuccess:!0})}function u(e){t.isLoading=!1,d.error=e.message}var d=this;d.radioSelected=!1,d.ready=!1,t.isLoading=!0,i.checkAndRedirect(n),d.emailType="0",d.email=null,d.snswEmail=null,d.useNewEmail=function(){d.emailType="1"},o.getContact().then(l),d.useRegisteredEmail=function(){d.email=null},d.clearError=function(){d.error=null},d.add=function(){t.isLoading=!0;var e="0"===d.emailType?d.snswEmail:d.email;r.addRMSEmailANDLinkToRMS(e).then(function(){return o.isLinkedWithRMS().then(function(e){return e?e:r.linkedToRMS()})}).then(c)["catch"](u)},d.back=function(){return e.back?a.go(e.back):void a.go("changeDetails.options")}}e.$inject=["$stateParams","$rootScope","$state","linkRMS","myAccountAPI","linkRMSForm","redirectService"],angular.module("ma").controller("changeDetailsRMSAddEmailController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s){function n(){t.isLoading=!1,d.ready=!0}function l(e){d.snswEmail=e.email}function c(){t.isLoading=!1,s.returnFrom("rms.demeritPoints.terms","rms.demeritPoints.terms",{linkRMSSuccess:!0})}function u(e){t.isLoading=!1,d.error=e.message}var d=this;d.radioSelected=!1,d.ready=!1,t.isLoading=!0,i.checkAndRedirect(n),d.emailType="0",d.email=null,d.snswEmail=null,d.useNewEmail=function(){d.emailType="1"},o.getContact().then(l),d.useRegisteredEmail=function(){d.email=null},d.clearError=function(){d.error=null},d.add=function(){t.isLoading=!0;var e="0"===d.emailType?d.snswEmail:d.email;r.addRMSEmailANDLinkToRMS(e).then(function(){return o.isLinkedWithRMS().then(function(e){return e?e:r.linkedToRMS()})}).then(c)["catch"](u)},d.back=function(){return e.back?a.go(e.back):void a.go("linkRMSStart")}}e.$inject=["$stateParams","$rootScope","$state","linkRMS","myAccountAPI","linkRMSForm","redirectService"],angular.module("ma").controller("checkDemeritRMSAddEmailController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c){function u(){t.isLoading=!1,g.ready=!0}function d(e){g.snswEmail=e.email}function p(){t.isLoading=!1,s.returnFrom("linkRMSOptions","linkRMSSuccess",{linkRMSSuccess:!0})}function m(e){t.isLoading=!1,g.errorMessages=c.extractErrorMessages(e.response)}var g=this;g.radioSelected=!1,g.ready=!1,t.isLoading=!0,i.checkAndRedirect(u),g.emailType="0",g.email=null,g.snswEmail=null,g.useNewEmail=function(){g.emailType="1"},o.getContact().then(d),g.useRegisteredEmail=function(){g.email=null},g.clearError=function(){g.error=null},g.add=function(){t.isLoading=!0;var e="0"===g.emailType?g.snswEmail:g.email;r.addRMSEmailANDLinkToRMS(e).then(function(){return o.isLinkedWithRMS().then(function(e){return e?e:r.linkedToRMS()})}).then(p)["catch"](m)},g.back=function(){return e.back?a.go(e.back):void a.go("linkRMSOptions")},g.errorMessages=[]}e.$inject=["$stateParams","$rootScope","$state","linkRMS","myAccountAPI","linkRMSForm","redirectService","rmsTransactionService","SNIPPETS","commonUtil"],angular.module("ma").controller("linkRMSAddEmailController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l){function c(){t.isLoading=!1,e.ready=!0}function u(){e.SNIPPETS=i,e.sendForMobile=!1,e.sendForEmail=!1,e.verifiedMobile=!1,e.verifiedEmail=!1,e.isRmsPinEntry=!0,e.mobile="",e.email="",e.selected="",e.$watch("verifiedMobile",p),e.$watch("verifiedEmail",p),e.$watch("selected",b),r.getRMSLinkAttempt().then(d)}function d(t){e.mobile=t.statusObject.Phone__c,e.email=t.statusObject.Email__c,t.statusObject.Phone__c&&!t.statusObject.Email__c&&(e.selected="mobile"),!t.statusObject.Phone__c&&t.statusObject.Email__c&&(e.selected="email")}function p(e){e&&(t.isLoading=!0,r.linkedToRMS().then(m)["catch"](g))}function m(){t.isLoading=!1,n.returnFrom("linkRMSOptions","linkRMSSuccess",{linkRMSSuccess:!0})}function g(r){switch(t.isLoading=!1,r.response.statusMessage){case"NO_RMS_EMAIL":return a.go("linkRMSAddEmail");case"email/phone not match":return a.go("linkRMSAlmostFinished");case"NO_RMS_EMAIL_AND_PHONE":return a.go("linkRMSUnableLink");case"VERIFICATION_FAILED_LINK_RMS_LOCKED":return a.go("linkRMSLocked");default:e.errorMessages=l.extractErrorMessages(r.response)}}function f(){"mobile"===e.selected?e.sendForMobile=!0:"email"===e.selected&&(e.sendForEmail=!0,e.verifying=!0)}function b(){e.sendForMobile=!1,e.sendForEmail=!1}e.ready=!1,t.isLoading=!0,o.checkAndRedirect(c),e.back=function(){e.sendForEmail||e.sendForMobile?(e.sendForMobile=!1,e.sendForEmail=!1):t.$back("linkGovService")},e.link=function(){e.sendForMobile=!1,e.sendForEmail=!1,s(f,0)},e.errorMessages=[],u()}e.$inject=["$scope","$rootScope","$state","linkRMS","linkRMSForm","SNIPPETS","$timeout","redirectService","commonUtil"],angular.module("ma").controller("linkRMSAlmostFinishedController",e)}(),function(){"use strict";function e(e,t){e.SNIPPETS=t}e.$inject=["$scope","SNIPPETS"],angular.module("ma").controller("linkRMSDontHaveDetailsController",e)}(),function(){"use strict";function e(e,t){e.SNIPPETS=t}e.$inject=["$scope","SNIPPETS"],angular.module("ma").controller("linkRMSDontHaveNumberController",e)}(),function(){"use strict";function e(e,t,a,r){e.isFromTransaction=r.fromDetails("linkRMSOptions")||r.fromDetails("createAccount"),e.SNIPPETS=t,e.copyHtml=a.trustAsHtml(t.MYACCOUNT.LINKRMS.FORGOTPASSWORD.FORGOTSCOPY)}e.$inject=["$scope","SNIPPETS","$sce","redirectService"],angular.module("ma").controller("linkRMSForgotRMSOnlineAccountPasswordController",e)}(),function(){"use strict";function e(e,t,a,r,o){e.SNIPPETS=t,e.resourcePath=r,e.cancel=function(){a.dismiss("cancel")},o(function(){e.scrollToAnchor&&(document.getElementsByClassName("modal")[0].scrollTop=document.getElementById("linkrms-helpmodal-"+e.scrollToAnchor).offsetTop)},250)}e.$inject=["$scope","SNIPPETS","$modalInstance","resourcePath","$timeout"],angular.module("ma").controller("linkRMSHelpModalController",e)}(),function(){"use strict";function e(){var e=this;e.message="You provided an incorrect security code 9 times and linking to Roads and Maritime Services is locked for 10 minutes. Once unlocked, you will need to start the linking process over again."}angular.module("ma").controller("linkRMSLockedController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n){var l=this;l.emailType="0",l.email=null,l.snswEmail=t.emailToRegister,l.token=t.token,l.pageHeadingTitle=t.pageHeadingTitle,l.useNewEmail=function(){l.emailType="1"},l.snswEmail||i.getContact().then(function(e){l.snswEmail=e.email}),l.useRegisteredEmail=function(){l.email=null},l.clearError=function(){l.error=null},e.getText=function(e){return n.MYACCOUNT.LINKRMS.ADDEMAIL[e]},l.addNewEmail=function(){a.isLoading=!0;var e="0"===l.emailType?l.snswEmail:l.email;o.updateContactDetails({contactDetail:[{contactCategory:"Email Address",contactValue:e,status:"Valid"}]},l.token).then(function(e){r.go(t.stateDirection.toState.name)})},e.getPageHeadingTitle=function(){return l.pageHeadingTitle?l.pageHeadingTitle:n.RMS.TRANSFERREGO.TRANSFERREGOPROCESS},l.quit=function(){r.go(t.stateDirection.fromState.name,t.stateDirection.fromStateParams)}}e.$inject=["$scope","$stateParams","$rootScope","$state","linkRMS","myAccountAPI","redirectService","SNIPPETS"],angular.module("ma").controller("linkRMSNeedEmailController",e)}(),function(){"use strict";function e(e,t,a){e.SNIPPETS=t,e.unableLinkCopy=a.trustAsHtml(t.MYACCOUNT.LINKRMS.UNABLELINK.UNABLELINKCOPY2)}e.$inject=["$scope","SNIPPETS","$sce"],angular.module("ma").controller("linkRMSNoDetailsController",e)}(),function(){"use strict";function e(e,t){e.message;t.errorMessages=[{message:decodeURIComponent(e.message),severity:"ERROR"}]}e.$inject=["$stateParams","$scope"],angular.module("ma").controller("linkRMSNotSuccessController",e)}(),function(){"use strict";function e(e,t,a,r,o,i){e.SNIPPETS=r,a.transactionName&&(e.transactionName=a.transactionName),e.errorMessages=[],e.bindToHtml=function(e){return i.trustAsHtml(e)},e.clearMessage=function(){e.errorMessages=[]},e.next=function(){switch(e.linkRMSSelection){case"linkRMSProvideLicenseDetails":return t.go("linkRMSProvideLicenseDetails");case"linkRMSVehicleRegistrationDetails":return t.go("linkRMSVehicleRegistrationDetails");case"linkRMSMyRTADetails":return t.go("linkRMSStart");case"noDetails":return t.go("linkRMSDontHaveDetails");default:e.errorMessages[0]={category:"BUSINESS",message:"No selection made. Choose an option to continue.",severity:"ERROR"}}},e.back=function(){a.returnState?t.go(a.returnState):t.go("linkGovService")}}e.$inject=["$scope","$state","$stateParams","SNIPPETS","redirectService","$sce"],angular.module("ma").controller("linkRMSOptionsController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u){function d(){t.isLoading=!1,e.ready=!0}function p(){e.SNIPPETS=i,e.sendForMobile=!1,e.sendForEmail=!1,e.verifiedTransactionMobile=!1,e.verifiedTransactionEmail=!1,e.isRmsPinEntry=!0,e.mobile="",e.email="",e.selectedPinCode="",e.$watch("verifiedTransactionMobile",f),e.$watch("verifiedTransactionEmail",f),e.$watch("selectedPinCode",y),r.getRMSLinkAttempt().then(g)}function m(t){e.email=t.licenseDetails.emailAddress||null,e.mobile=t.licenseDetails.mobileNumber||null,t.licenseDetails.mobileNumber&&!t.licenseDetails.emailAddress&&(e.selectedPinCode="mobile"),!t.licenseDetails.mobileNumber&&t.licenseDetails.emailAddress&&(e.selectedPinCode="email"),r.submitLicenseDetails(t.licenseDetails.lastName,t.licenseDetails.licenseOrCardNumber,t.licenseDetails.cardId).then(r.linkedToRMS)["catch"](h)}function g(t){if(e.errorMessages=[],c.get("guestTransactionToken")){var a=c.get("guestTransactionToken");l.retrieveLicenseDetails(a).then(m)["catch"](h)}}function f(e){e&&(t.isLoading=!0,r.linkedToRMS().then(b)["catch"](h))}function b(){t.isLoading=!1,n.returnFrom("linkRMSPreviousTransactionDetails","linkRMSSuccess",{linkRMSSuccess:!0})}function h(r){switch(t.isLoading=!1,r.message){case"NO_RMS_EMAIL":return a.go("linkRMSAddEmail");case"RMS_LINKING_NO_EMAIL_NO_PHONE":return a.go("linkRMSUnableLink");case"VALIDATION_FAILED_LINK_RMS_LOCKED":return a.go("linkRMSLocked");case"RMS_ALREADY_LINKED":case"INVALID_CREDENTIALS_LINK_RMS_LOCKED":case"DL_PC_NOT_MATCH_CARD_STOCK_NUMBER":default:e.errorMessages=u.extractErrorMessages(r.response)}}function v(){"email"===e.selectedPinCode?e.sendForEmail=!0:"mobile"===e.selectedPinCode&&(e.sendForMobile=!0)}function y(){e.sendForMobile=!1,e.sendForEmail=!1}e.next=function(){a.go("linkRMSOptions",{returnState:"linkRMSPreviousTransactionDetails"})},e.emailType="",e.ready=!1,t.isLoading=!0,o.checkAndRedirect(d),e.$watch("verified",f),e.back=function(){e.sendForEmail||e.sendForMobile?(e.sendForMobile=!1,e.sendForEmail=!1):a.go("welcomePersonalDetails")},e.link=function(){e.sendForMobile=!1,e.sendForEmail=!1,s(v,0)},e.errorMessages=[],p()}e.$inject=["$scope","$rootScope","$state","linkRMS","linkRMSForm","SNIPPETS","$timeout","redirectService","myAccountAPI","cookie","commonUtil"],angular.module("ma").controller("linkRMSPreviousTransactionDetailsController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d,p,m,g,f,b){function h(){t.isLoading=!1,e.ready=!0}function v(){t.isLoading=!1,l.returnFrom("linkRMSStart","linkRMSSuccess",{linkRMSSuccess:!0})}function y(e){switch(t.isLoading=!1,e.message){case"NO_RMS_EMAIL":return r.go("linkRMSAddEmail");case"RMS_LINKING_NO_EMAIL_NO_PHONE":return r.go("linkRMSUnableLink");case"VALIDATION_FAILED_LINK_RMS_LOCKED":return r.go("linkRMSLocked");case"RMS_ALREADY_LINKED":case"INVALID_CREDENTIALS_LINK_RMS_LOCKED":case"DL_PC_NOT_MATCH_CARD_STOCK_NUMBER":default:return r.go("linkRMSNotSuccess",{message:b.extractErrorMessages(e)[0].message})}}function S(e){return"RMS_LINKING_EMAIL_PHONE_NOT_MATCH"===e.statusMessage?r.go("linkRMSAlmostFinished"):i.linkedToRMS().then(v)["catch"](y)}e.lnRegex="[^\\\\]{1,200}",e.cnRegex="[^\\\\]{1,20}",e.bnRegex="^[0-9]*$",e.licenceToolTip=o.trustAsHtml(n.MYACCOUNT.LINKRMS.START.LICENCETOOLTIP),c.isLinkedWithRMS().then(function(e){e&&r.go("linkGovService")}),e.ready=!1,t.isLoading=!0,s.checkAndRedirect(h),e.error="",e.details={lastName:"",licenseOrCardNumber:"",backNumber:""},e.SNIPPETS=n,e.helpModal=function(){u.open({templateUrl:"rms/changeDetails/views/cardExamples.html",controller:"cardExamplesController"})},e.cardNumberModal=function(){u.open({templateUrl:"rms/changeDetails/views/cardNumberModal.html",controller:"cardNumberModalController"})},e.openModal=function(t){u.open({templateUrl:"core/linkRMS/linkRMSHelpModal/linkRMSHelpModal.html",controller:"linkRMSHelpModalController",scope:angular.merge(e.$new(!0),{scrollToAnchor:t})})},e.openModalLastName=function(){p.open({heading:n.RMS.CHANGEDETAILS.LASTNAMEMODAL.TITLE,body:n.RMS.CHANGEDETAILS.LASTNAMEMODAL.BODY,modalImage:m+"/images/last-name-card.png",secondaryButton:n.GLOBAL.ACTIONS.CLOSE})},e.openModalPhotoCard=function(){p.open({heading:n.RMS.CHANGEDETAILS.PHOTOCARDMODAL.TITLE,body:n.RMS.CHANGEDETAILS.PHOTOCARDMODAL.BODY,modalImage:m+"/images/photo-card-number.png",secondaryButton:n.GLOBAL.ACTIONS.CLOSE})},e.openModalDriverLicence=function(){p.open({heading:n.MYACCOUNT.LINKRMS.LICENCE.PROVIDELICENCE,body:n.MYACCOUNT.LINKRMS.LICENCE.PROVIDELICENCEBODY,modalImage:m+"/images/grey-combined-licence-images.png",secondaryButton:n.GLOBAL.ACTIONS.CLOSE})},e.openModalCardBackNumber=function(){p.open({heading:n.RMS.CHANGEDETAILS.CARDNUMBERMODAL.TITLE,body:n.RMS.CHANGEDETAILS.CARDNUMBERMODAL.BODY,modalImage:m+"/images/number-back-of-card.png",secondaryButton:n.GLOBAL.ACTIONS.CLOSE})},a.transactionName&&(e.transactionName=a.transactionName),e.link=function(){t.isLoading=!0,i.submitLicenseDetails(e.details.lastName,e.details.licenseOrCardNumber,e.details.backNumber).then(S)["catch"](y)},e.showTnC=function(){var e=new RegExp("{snswSiteUrl}","g"),t=n.RMS.TERMSANDCONDITIONS.BODY.replace(e,d);p.open({heading:n.RMS.TERMSANDCONDITIONS.HEADING,body:t,secondaryButton:n.GLOBAL.ACTIONS.CLOSE})},e.linkRMSStart=function(){r.go("linkRMSStart",{transactionName:a.transactionName,returnState:a.returnState})},e.back=function(){a.returnState?r.go(a.returnState):r.go("linkRMSOptions")},e.linkRMSOptions=function(){r.go("linkRMSOptions",{transactionName:a.transactionName,returnState:a.returnState})}}e.$inject=["$scope","$rootScope","$stateParams","$state","$sce","linkRMS","linkRMSForm","SNIPPETS","redirectService","myAccountAPI","$modal","snswSiteUrl","snswModal","resourcePath","rmsTransactionService","$q","commonUtil"],angular.module("ma").controller("linkRMSProvideLicenseDetailsController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d,p,m,g,f){function b(){t.isLoading=!1,e.ready=!0}function h(e){t.isLoading=!1,c.returnFrom("linkRMSStart","linkRMSSuccess",{linkRMSSuccess:!0,transactionName:r.transactionName})}function v(e){switch(t.isLoading=!1,e.message){case"NO_RMS_EMAIL":return a.go("linkRMSAddEmail");case"NO_RMS_EMAIL_AND_PHONE":return a.go("linkRMSUnableLink");case"RMS_ALREADY_LINKED":case"INVALID_CREDENTIALS_LINK_RMS_LOCKED":case"DL_PC_NOT_MATCH_CARD_STOCK_NUMBER":case"VALIDATION_FAILED_LINK_RMS_LOCKED":default:a.go("linkRMSNotSuccess",{message:g.extractErrorMessages(e)[0].message})}}if(e.ready=!1,e.ifYouPreviously=f.trustAsHtml(s.MYACCOUNT.LINKRMS.START.IFYOUPREVIOUSLY),t.isLoading=!0,i.checkAndRedirect(b),e.SNIPPETS=s,e.cnRegex="[^\\\\]{1,20}",e.pwRegex="^[\\s\\S]{6,10}$",e.details={licenseOrCardNumber:"",password:""},r.transactionName&&(e.transactionName=r.transactionName),e.errorMessages=[],m.get("guestTransactionToken")){var y=m.get("guestTransactionToken");d.retrieveLicenseDetails(y).then(function(t){e.details={licenseOrCardNumber:t.licenseDetails.licenseOrCardNumber
}})}e.link=function(){t.isLoading=!0;var a=e.details.licenseOrCardNumber,r=e.details.password;o.submitOnlineCredentials(a,r).then(o.linkedToRMS).then(h)["catch"](v)},e.openModalPhotoCard=function(e){n.open({heading:s.RMS.CHANGEDETAILS.PHOTOCARDMODAL.TITLE,body:s.RMS.CHANGEDETAILS.PHOTOCARDMODAL.BODY,modalImage:l+"/images/photo-card-number.png",secondaryButton:s.GLOBAL.ACTIONS.CLOSE})},e.openModalDriverLicence=function(e){n.open({heading:s.MYACCOUNT.LINKRMS.LICENCE.PROVIDELICENCE,body:s.MYACCOUNT.LINKRMS.LICENCE.PROVIDELICENCEBODY,modalImage:l+"/images/grey-combined-licence-images.png",secondaryButton:s.GLOBAL.ACTIONS.CLOSE})},e.showTnC=function(){var e='<div ng-if="!toggleShowInitial">'+s.RMS.TERMSANDCONDITIONS.BODY+'</div><div ng-if="toggleShowInitial" class="media">'+s.RMS.PRIVACYPOLICY.BODY1+s.RMS.PRIVACYPOLICY.BODY2+"</div>";n.open({heading:s.RMS.TERMSANDCONDITIONS.HEADING,body:e,secondaryButton:s.GLOBAL.ACTIONS.CLOSE,compileBody:!0})},e.linkRMSOptions=function(){a.go("linkRMSOptions",{transactionName:r.transactionName,returnState:r.returnState})}}e.$inject=["$scope","$rootScope","$state","$stateParams","linkRMS","linkRMSForm","SNIPPETS","snswModal","resourcePath","redirectService","snswSiteUrl","myAccountAPI","rmsTransactionService","cookie","commonUtil","$sce"],angular.module("ma").controller("linkRMSStartController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n){function l(){o.isLoading=!1,e.ready=!0}e.ready=!1,o.isLoading=!0,s.checkAndRedirect(l),e.SNIPPETS=t,n.transactionName&&(e.transactionName=n.transactionName),e.redirect=function(){null===i.fromDetails("linkRMSOptions")&&a.go("linkGovService"),i.returnFrom("linkRMSOptions")}}e.$inject=["$scope","SNIPPETS","$state","linkRMS","$rootScope","redirectService","linkRMSForm","$stateParams"],angular.module("ma").controller("linkRMSSuccessController",e)}(),function(){"use strict";function e(e,t){e.SNIPPETS=t}e.$inject=["$scope","SNIPPETS"],angular.module("ma").controller("linkRMSUnableLinkController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d,p,m,g){function f(){t.isLoading=!1,e.ready=!0}function b(t){var a=t.split("/");if(3!==a.length)return null;var r=a[0],o=a[1],i=a[2];if(isNaN(r)||isNaN(o)||isNaN(i))return null;var s=new Date(parseInt(i),parseInt(o)-1,parseInt(r));return"Invalid Date"===s.toString()?null:s.getFullYear()!==parseInt(i)||s.getMonth()!==parseInt(o)-1||s.getDate()!==parseInt(r)?null:s<e.minDob||s>e.maxDob?null:s}function h(){var t={firstName:e.details.firstName,lastName:e.details.lastName,dateOfBirth:"",street:e.details.street,postcode:e.details.postcode||"",customerNumber:e.details.customerNumber,plateNumber:e.details.plateNumber};return e.details.dateOfBirth&&(t.dateOfBirth=v(e.details.dateOfBirth)),t}function v(e){var t=e.getFullYear()+"",a=e.getMonth()+1,r=e.getDate();return a=10>a?"0"+a:""+a,r=10>r?"0"+r:""+r,r+"/"+a+"/"+t}function y(e){t.isLoading=!1,s.returnFrom("linkRMSStart","linkRMSSuccess",{linkRMSSuccess:!0})}function S(e){switch(t.isLoading=!1,e.message){case"NO_RMS_EMAIL":return a.go("linkRMSAddEmail");case"RMS_LINKING_NO_EMAIL_NO_PHONE":return a.go("linkRMSUnableLink");case"VALIDATION_FAILED_LINK_RMS_LOCKED":return a.go("linkRMSLocked");case"RMS_ALREADY_LINKED":case"INVALID_CREDENTIALS_LINK_RMS_LOCKED":case"DL_PC_NOT_MATCH_CARD_STOCK_NUMBER":default:return a.go("linkRMSNotSuccess",{message:m.extractErrorMessages(e)[0].message})}}function C(e){return"RMS_LINKING_EMAIL_PHONE_NOT_MATCH"===e.statusMessage?(a.go("linkRMSAlmostFinished"),!0):!1}var E=new Date;e.useDateInput=d.mobile,n.isLinkedWithRMS().then(function(e){e&&a.go("linkGovService")}),e.ready=!1,t.isLoading=!0,o.checkAndRedirect(f),e.fnRegex="[^\\\\]{1,60}",e.lnRegex="[^\\\\]{1,200}",e.streetRegex="[^\\\\]{1,40}",e.postcodeRegex=/^[\d]{4}$/,e.customerNumberRegex=/^\d+(?:\.\d{1,7})?$/,e.plateNumberRegex="[a-zA-Z0-9]{1,6}",e.maxDob=E,e.minDob=new Date(E.getFullYear()-150+"-01-01"),e.openDatepicker=function(){e.datepickerOpened=!0},e.$watch("details.dateOfBirth",function(){e.datepickerOpened=!1,e.details.dateOfBirth&&(e.dobDisplay=v(e.details.dateOfBirth))}),e.$watch("details.dateOfBirthString",function(t){e.details.dateOfBirth=b(t),e.details.dateOfBirthStringInvalid=!e.details.dateOfBirth,null!==e.details.dateOfBirth&&(e.details.dateOfBirthStringDirty=!0)}),e.dateOfBirthStringBlur=function(){e.details.dateOfBirthStringDirty=!0},e.SNIPPETS=i,e.details={firstName:"",lastName:"",dateOfBirth:null,dateOfBirthString:"",dateOfBirthStringDirty:!1,dateOfBirthStringInvalid:!1,street:"",postcode:"",customerNumber:"",plateNumber:""},e.dobDisplay="DD/MM/YYYY",e.link=function(){t.isLoading=!0,r.submitCustomerDetails(h()).then(function(e){C(e)||r.linkedToRMS().then(y)["catch"](S)})["catch"](S)},e.customerNumberOnClick=function(){e.customerNumberDisabled=!1,e.plateNumberDisabled=!0,e.details.plateNumber="",l(function(){document.getElementById("customerNumber").focus()})},e.plateNumberOnClick=function(){e.customerNumberDisabled=!0,e.plateNumberDisabled=!1,e.details.customerNumber="",l(function(){document.getElementById("plateNumber").focus()})},e.openModalLastName=function(){u.open({heading:i.RMS.CHANGEDETAILS.LASTNAMEMODAL.TITLE,body:i.RMS.CHANGEDETAILS.LASTNAMEMODAL.BODY,modalImage:g+"/images/last-name-card.png",secondaryButton:i.GLOBAL.ACTIONS.CLOSE})},e.showTnC=function(){var e=new RegExp("{snswSiteUrl}","g"),t=i.RMS.TERMSANDCONDITIONS.BODY.replace(e,c);u.open({heading:i.RMS.TERMSANDCONDITIONS.HEADING,body:t,secondaryButton:i.GLOBAL.ACTIONS.CLOSE})},p.transactionName&&(e.transactionName=p.transactionName),e.linkRMSOptions=function(){a.go("linkRMSOptions",{transactionName:p.transactionName,returnState:p.returnState})}}e.$inject=["$scope","$rootScope","$state","linkRMS","linkRMSForm","SNIPPETS","redirectService","myAccountAPI","$timeout","snswSiteUrl","snswModal","detectBrowser","$stateParams","commonUtil","resourcePath"],angular.module("ma").controller("linkRMSVehicleRegistrationDetailsController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l){function c(t){e.contact=t}e.SNIPPETS=o,e.alternateEmailAddressCopy=n.trustAsHtml(o.MYACCOUNT.PROFILE.ALTERNATEEMAILADDRESSCOPY),e.sendTo="",e.verified=!1,e.verifying=!1,r&&(e.alternateEmail={email:r.email}),e.contact={email:"",mobile:"",alternateEmail:"",firstName:"",middleName:"",lastName:""},t.getContact().then(c)["catch"](function(t){e.apiErrorMessages=l.extractErrorMessages(t)}),e.$watch("sendTo",function(e){""!==e&&i.listen()}),e.$watch("verified",function(e){e&&i.destroy()}),e.$on("$destroy",function(){i.destroy()}),e.cancel=function(){i.listen(),a.go("profile",{callToAction:"cancel"})},e.cancelCode=function(){a.go("profile")},e.cancelExternal={},e.cancelPinCode=function(){e.cancelExternal.exec()},e.deleteEmail=function(r){i.destroy(),r.preventDefault(),s.open({templateUrl:"core/profile/verifyPasswordModal/verifyPasswordModal.html",controller:"verifyPasswordModalController",scope:angular.merge(e.$new(!0),{heading:o.MYACCOUNT.PROFILE.DELETEPOPOUTHEADER,body:o.MYACCOUNT.PROFILE.DELETEPOPOUTCOPY,primaryButton:o.MYACCOUNT.PROFILE.DELETEPOPOUTYES,secondaryButton:o.MYACCOUNT.PROFILE.DELETEPOPOUTNO,password:o.MYACCOUNT.PROFILE.EDITALTERNATEEMAILADDRESS.DELETE.PASSWORD})}).result.then(t.deleteAlternateEmail).then(function(){a.go("editAlternateEmailAddressDeleted")})["catch"](function(t){e.apiErrorMessages=l.extractErrorMessages(t)})}}e.$inject=["$scope","myAccountAPI","$state","$stateParams","SNIPPETS","pageLeaveAlert","$modal","$sce","commonUtil"],angular.module("ma").controller("editAlternateEmailAddressController",e)}(),function(){"use strict";function e(e,t,a,r){e.SNIPPETS=a}e.$inject=["$scope","$state","SNIPPETS","vf"],angular.module("ma").controller("editAlternateEmailAddressDeletedController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l){e.SNIPPETS=i,e.PAGESNIPS=i.MYACCOUNT.PROFILE.EDITMOBILENUMBER,e.error="",e.newMobile="",e.verified=!1,e.verifying=!1,o.countryCode&&(e.newMobile={code:o.countryCode,mobileNumber:o.mobileNumber}),e.contact={email:"",mobile:"",alternateEmail:"",firstName:"",middleName:"",lastName:""},e.details={},s.getContact().then(function(t){e.contact=t}),e.$watch("newMobile",function(e,t){""!==e&&l.listen()}),e.$watch("verified",function(e,t){e&&l.destroy()}),e.$on("$destroy",function(){l.destroy()}),e.cancel=function(){l.listen(),r.go("profile",{callToAction:"cancel"})},e.cancelCode=function(){r.go("profile")},e.cancelExternal={},e.cancelPinCode=function(){e.cancelExternal.exec()},e.deleteMobile=function(t){l.destroy(),t.preventDefault(),n.open({templateUrl:"core/profile/verifyPasswordModal/verifyPasswordModal.html",controller:"verifyPasswordModalController",scope:angular.merge(a.$new(!0),{heading:i.MYACCOUNT.PROFILE.DELETEPOPOUTHEADER,body:i.MYACCOUNT.PROFILE.DELETEPOPOUTCOPY,primaryButton:i.MYACCOUNT.PROFILE.DELETEPOPOUTYES,secondaryButton:i.MYACCOUNT.PROFILE.DELETEPOPOUTNO,password:i.MYACCOUNT.PROFILE.EDITALTERNATEEMAILADDRESS.DELETE.PASSWORD})}).result.then(function(t){s.deleteMobile(t).then(function(e){r.go("editMobileNumberDeleted")})["catch"](function(t){e.error=t.message})})}}e.$inject=["$scope","$window","$rootScope","$state","$stateParams","SNIPPETS","myAccountAPI","$modal","pageLeaveAlert"],angular.module("ma").controller("editMobileNumberController",e)}(),function(){"use strict";function e(e,t,a,r){e.SNIPPETS=a}e.$inject=["$scope","$state","SNIPPETS","vf"],angular.module("ma").controller("editMobileNumberDeletedController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n){function l(){e.redirectCopy="You will automatically be logged out in "+e.redirectCount+" seconds",0===e.redirectCount&&(window.location.href=a)}function c(){l(),e.redirectCount=e.redirectCount-1,e.redirectCount<0||t(c,1e3)}e.SNIPPETS=o,e.PRIMARYEMAILADDRESSCOPY=n.trustAsHtml(o.MYACCOUNT.PROFILE.PRIMARYEMAILADDRESSCOPY),e.newEmail={email:""},e.verified=!1,e.verifying=!1,e.redirectCopy="",e.redirectCount=5,e.primaryEmailChangeLogoutUrl=a,e.contact={email:"",mobile:"",alternateEmail:"",firstName:"",middleName:"",lastName:""},i.getCustomerProfile().then(function(t){e.contact=t}),e.$watch("newEmail",function(e,t){""!==e&&s.listen()}),e.$watch("verified",function(e,t){e&&(s.destroy(),c())}),e.$on("$destroy",function(){s.destroy()}),e.cancel=function(){s.listen(),r.go("profile",{callToAction:"cancel"})},e.cancelCode=function(){r.go("profile")},e.cancelExternal={},e.cancelPinCode=function(){e.cancelExternal.exec()}}e.$inject=["$scope","$timeout","primaryEmailChangeLogoutUrl","$state","SNIPPETS","myAccountAPI","pageLeaveAlert","$sce"],angular.module("ma").controller("editPrimaryEmailAddressController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d){function p(e,t){e&&e!==t&&s.listen()}function m(e){e()}function g(){T.forEach(m)}function f(e){return e&&""!==e}function b(e){return e?(f(e.line1)?e.line1+", ":"")+(f(e.line2)?e.line2+", ":"")+(f(e.suburb)?e.suburb+", ":"")+(f(e.state)?e.state+", ":"")+(f(e.postCode)?e.postCode+", ":"")+e.country:void 0}function h(e){R.alert=angular.extend({},{type:"info"},e)}function v(){R.alert=void 0}function y(e){s.destroy(),h({type:"success",text:r.GLOBAL.ALERTS.DETAILSSAVED}),R.model=e,R.fields=A(),R.form.$setUntouched(),R.form.$setPristine()}function S(e){e.message&&h({type:"danger",heading:"Error!",text:e.message})}function C(){s.destroy(),t.go("editMobileNumber",{countryCode:R.newMobile.code,mobileNumber:R.newMobile.number})}function E(){s.destroy(),t.go("editAlternateEmailAddress",{email:R.newAlternateEmail})}function M(){i.open({heading:null,body:r.MYACCOUNT.EDITPRIMARYEMAILMODAL.BODY,secondaryButton:r.GLOBAL.ACTIONS.CONTINUE,primaryButton:r.GLOBAL.ACTIONS.CANCEL}).then(function(){},function(){t.go("editPrimaryEmailAddress")})}function A(){return[].concat(l,n.getAddressFields(R.model,{hideNotListed:!0}),O)}function N(e){R.validationSummaryFields=angular.copy(R.fields),R.form.$valid&&(e.currentResidential.country||e.residential||!e.mailing?((e.residentialManualEntry||"Australia"!==e.residentialCountry)&&(""===e.residential&&(e.residential={address:{}}),["line1","line2","suburb","state","postCode"].forEach(function(t){angular.isUndefined(e.residential.address[t])&&(e.residential.address[t]="")})),(e.mailingManualEntry||"Australia"!==e.mailingCountry)&&(""===e.mailing&&(e.mailing={address:{}}),["line1","line2","suburb","state","postCode"].forEach(function(t){angular.isUndefined(e.mailing.address[t])&&(e.mailing.address[t]="")})),o.saveCustomerProfile(e).then(y)["catch"](S)["finally"](function(){a.scrollTo(0,0)})):h({type:"danger",heading:"Error!",text:"Please provide a Residential Address."}))}e.SNIPPETS=r;var T=[s.destroy,e.$watch("profile.newMobile.code",p),e.$watch("profile.newMobile.number",p),e.$watch("profile.newAlternateEmail",p),e.$watch("profile.form.$dirty",p)];e.$on("$destroy",g);var R=this;R.newMobile={code:"+61",number:""},R.newAlternateEmail="",R.model=c,R.countryCodes=u,c.mobile&&c.alternateEmail||h({text:"Add some recovery options so you can regain access to your account quickly and securely"});var O=[{template:"<h5>Preferred contact method:</h5><p>We’ll send notifications about your transactions to your registered email address.</p>"},{template:"<p>Would you also like to receive updates about your transactions via SMS?</p>"},{key:"smsNotification",type:"checkbox",templateOptions:{label:"Yes, send me SMS updates"}},{template:"<h5>Email me with news and updates from:</h5>"},{key:"emailNotification",type:"checkbox",templateOptions:{label:"MyServiceNSW Account"}},{key:"news",type:"checkbox",templateOptions:{label:"Service NSW"}},{key:"newsGov",type:"checkbox",templateOptions:{label:"NSW government and related organisations"}}],D=function(e,t,a){"residential"===t&&"currentResidential"===e.key?e.template="<p>Current Residential Address: "+a+"</p>":"mailing"===t&&"currentMailing"===e.key&&(e.template="<p>Current Mailing Address: "+a+"</p>")},w=function(e,t){var a=R.model.currentResidential,r=R.model.currentMailing;switch(t){case"residential":return R.fields.forEach(function(t){D(t,"residential",e)}),void(R.fields=angular.copy(R.fields));case"mailing":return R.fields.forEach(function(t){D(t,"mailing",e)}),void(R.fields=angular.copy(R.fields))}R.fields.forEach(function(o){if(o.key===t)switch(t){case"residential.address.line1":a.line1=e;break;case"residential.address.line2":a.line2=e;break;case"residential.address.suburb":a.suburb=e;break;case"residential.address.state":a.state=e;break;case"residential.address.postCode":a.postCode=e;break;case"residentialCountry":a.country=e;break;case"mailing.address.line1":r.line1=e;break;case"mailing.address.line2":r.line2=e;break;case"mailing.address.suburb":r.suburb=e;break;case"mailing.address.state":r.state=e;break;case"mailing.address.postCode":r.postCode=e;break;case"mailingCountry":r.country=e}}),R.model.sameAddress&&(r=a),R.fields.forEach(function(e){"currentResidential"===e.key?e.template="<p>Current Residential Address: "+b(a)+"</p>":"currentMailing"===e.key&&(e.template="<p>Current Mailing Address: "+b(r)+"</p>")}),R.fields=angular.copy(R.fields),R.fields.forEach(function(a){"residential.address.state"!==a.key||angular.isUndefined(R.model.currentResidential)||t!==a.key?"mailing.address.state"!==a.key||angular.isUndefined(R.model.currentMailing)||t!==a.key||("Australia"!==R.model.mailingCountry||R.model.sameAddress&&"Australia"!==R.model.residentialCountry?a.defaultValue=e:a.defaultValue=R.model.currentMailing.state):"Australia"!==R.model.residentialCountry?a.defaultValue=e:a.defaultValue=R.model.currentResidential.state})},I=function(e,t){w(t.value,t.optionsKey)};e.$on("address-changed",I);var k={formState:{updateAddressLabel:w,sameAddressChange:function(e){e?(R.model.mailingCountry="",R.model.currentMailing=angular.copy(R.model.currentResidential)):R.model.mailingCountry=R.model.residentialCountry,this.switchEntry("mailing")},switchEntry:function(e){R.model[e]="",R.fields=A()}}},P=[];angular.extend(R,{options:k,onSubmit:N,fields:A(),dismissAlert:v,addMobileNumber:C,addAlternateEmailAddress:E,editPrimaryEmailConfirm:M,validationSummaryFields:P}),e.hasConnectedItems=function(){return d.hasConnectedItems(d.dashboardInfo)}}e.$inject=["$scope","$state","$window","SNIPPETS","myAccountAPI","snswModal","pageLeaveAlert","addressFieldsSvc","nameFields","profile","countryCodes","dashboardService"],angular.module("ma").controller("profileController",e)}(),function(){"use strict";function e(e,t,a,r,o,i){e.SNIPPETS=t,e.body&&(e.body=r.trustAsHtml(e.body)),e.error="",e.details={password:""},e.cancel=function(){""!==e.newValue&&i.listen(),a.dismiss("cancel")},e["continue"]=function(){o.verifyCurrentUserPassword(e.details).then(function(t){a.close(e.details.password)})["catch"](function(t){e.error=t.message})}}e.$inject=["$scope","SNIPPETS","$modalInstance","$sce","myAccountAPI","pageLeaveAlert"],angular.module("ma").controller("verifyPasswordModalController",e)}(),function(){"use strict";function e(e,t,a,r,o,i){function s(e){var t=angular.copy(e);return t.mobileNumber=o("snswRemoveLeadingZero")(t.mobileNumber),t}function n(){0===e.selectedRetrieveOption?t.go("retrieveEmailSent",{type:"email"}):t.go("retrieveEmailSent",{type:"sms"})}function l(t){switch(t.response.statusMessage){case"ALT_EMAIL_NOT_FOUND":e.entryForm.error=a.GLOBAL.SFDC.ERRORS.ALT_EMAIL_NOT_FOUND;break;case"MOBILEPHONE_NOT_FOUND":e.entryForm.error=a.GLOBAL.SFDC.ERRORS.MOBILEPHONE_NOT_FOUND}}e.SNIPPETS=a,e.selectedRetrieveOption=0,e.entryForm={emailValue:"",mobileValue:{code:"+61"},error:null},e.$watch("selectedRetrieveOption",function(t){e.entryForm.error=null}),e.send=function(){var t=0===e.selectedRetrieveOption?e.entryForm.emailValue:JSON.stringify(s(e.entryForm.mobileValue));return 0!==e.selectedRetrieveOption||e.entryForm.emailValue?1!==e.selectedRetrieveOption||e.entryForm.mobileValue.mobileNumber&&e.entryForm.mobileValue.code?void i.sendUsernameToUserByMobileOrEmail(t).then(n)["catch"](l):void(e.entryForm.error="Invalid phone number. Please enter a valid phone number using fewer than 14 numbers with no spaces or symbols."):void(e.entryForm.error="Please enter alternate email address")}}e.$inject=["$scope","$state","SNIPPETS","vf","$filter","myAccountAPI"],angular.module("ma").controller("retrieveEmailController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s){e.SNIPPETS=a,e.pageType=o.type.toUpperCase(),"SMS"===e.pageType?(e.heading=a.MYACCOUNT.RETRIEVEEMAIL.SMSHEADING,e.message=i.trustAsHtml(a.MYACCOUNT.RETRIEVEEMAIL.SMS.COPY)):"EMAIL"===e.pageType?(e.heading=a.MYACCOUNT.RETRIEVEEMAIL.EMAILHEADING,e.message=i.trustAsHtml(a.MYACCOUNT.RETRIEVEEMAIL.EMAIL.COPY)):e.message=i.trustAsHtml("NO MATCHING PAGETYPE FOUND: "+String(e.pageType)),e.loginUrl=s.loginUrl("dashboard")}e.$inject=["$scope","$state","SNIPPETS","vf","$stateParams","$sce","redirectService"],angular.module("ma").controller("retrieveEmailViaAnyController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u){e.SNIPPETS=r,e.resetPasswordURL=n,e.PASSWORDMESSAGE=s.trustAsHtml(r.MYACCOUNT.SECURITYSETTINGS.CHANGEPASSWORD.CHANGEPASSBLURB),e.PAGESNIPS=r.MYACCOUNT.SECURITYSETTINGS.CHANGEPASSWORD,e.error="",e.passwords={},e.passwordPattern=r.GLOBAL.FORMS.PASSWORD.VALIDATIONREGEX,e.confirmPWMatch=!1,e.details={currentPassword:"",newPassword:"",newPasswordConfirm:""},e.$watch("details.currentPassword",function(){e.error=""}),e.$watch("details.newPassword",function(){e.confirmPWMatch=e.details.newPasswordConfirm===e.details.newPassword}),e.$watch("details.newPasswordConfirm",function(){e.confirmPWMatch=e.details.newPasswordConfirm===e.details.newPassword}),e.$watch("details.currentPassword",function(t,a){""!==e.details.currentPassword&&l.listen()}),e.preventPaste=function(e){return e.preventDefault(),!1},e.$watch("details.newPassword",function(t,a){""!==e.details.newPassword&&l.listen()}),e.$watch("details.newPasswordConfirm",function(t,a){""!==e.details.newPasswordConfirm&&l.listen()}),e.$on("$destroy",function(){l.destroy()}),e.showStrength=!1,e.newPasswordOnKeyDown=function(t){c(function(){e.showStrength=t.target.value.length>0,e.$apply()})},e.password={hasEntered:!1,attemptsRemaining:3,lockOut:!1,newPasswordsMatch:!0,changeSuccessful:!1},e.errorMessages=[],e.link=function(){t.isLoading=!0,e.errorMessages=[],l.destroy(),e.details.newPassword===e.details.newPasswordConfirm?(e.password.newPasswordsMatch=!0,i.changePassword({oldPwd:e.details.currentPassword,newPwd:e.details.newPassword}).then(function(r){t.isLoading=!1,e.password.changeSuccessful=!0,a.go("changePasswordSuccess")})["catch"](function(a){t.isLoading=!1,e.errorMessages=u.extractErrorMessages(a.response),e.details.password=""})):e.password.newPasswordsMatch=!1}}e.$inject=["$scope","$rootScope","$state","SNIPPETS","vf","myAccountAPI","$sce","resetPasswordURL","pageLeaveAlert","$timeout","commonUtil"],angular.module("ma").controller("changePasswordController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l){function c(){a.go("securitySettings",{securityQuestionsSaved:!0}),window.scrollTo(0,0)}e.SNIPPETS=o,e.error="",e.apiError="",e.showNotification=!1,e.details={password:null},r.redirect&&"string"==typeof r.redirect&&0===r.redirect.indexOf("linkRMS")?(e.heading=o.RMS.LINKING.PAGEHEADER,e.enterPassword=o.MYACCOUNT.SECURITYSETTINGS.SECURITYQUESTIONS.VERIFYPASSWORD):(e.heading=o.MYACCOUNT.SECURITYSETTINGS.SECURITYQUESTIONS.EDITQUESTIONS,e.enterPassword=o.MYACCOUNT.SECURITYSETTINGS.ENTERPASSWORD),e.password={hasEntered:!1,isBad:!1},e.selectedQuestions={first:null,second:null,third:null,disabledState:!0},e.answers={first:null,second:null,third:null,disabledState:!0},e.editButtonEnabled=!0,e.submitPassword=function(){t.isLoading=!0,s.verifyCurrentUserPassword(e.details).then(function(a){t.isLoading=!1,e.password.hasEntered=!0,e.password.isBad=!1})["catch"](function(a){t.isLoading=!1,e.details.password="",e.password.isBad=!0,e.error=a.message,e.apiError=!0})},t.isLoading=!0,l.getSecurityQuestions().then(function(a){t.isLoading=!1,"TEST"===a.statusObject.question?e.selectedQuestions.first=null:e.selectedQuestions.first=a.statusObject.question,"TEST"===a.statusObject.question2?e.selectedQuestions.second=null:e.selectedQuestions.second=a.statusObject.question2,"TEST"===a.statusObject.question3?e.selectedQuestions.third=null:e.selectedQuestions.third=a.statusObject.question3;var r=!e.selectedQuestions.first||!e.selectedQuestions.second||!e.selectedQuestions.third;r?(e.showNotification=!0,e.edit()):(e.answers.first="***",e.answers.second="***",e.answers.third="***")}),e.edit=function(){e.answers.first=null,e.answers.second=null,e.answers.third=null,e.editButtonEnabled=!1,e.selectedQuestions.disabledState=!1,e.answers.disabledState=!1},e.save=function(){t.isLoading=!0,l.updateSecurityQuestions(e.details.password,e.selectedQuestions.first,e.answers.first,e.selectedQuestions.second,e.answers.second,e.selectedQuestions.third,e.answers.third).then(function(o){t.isLoading=!1,2e3===o.statusCode?r.redirect?a.go(r.redirect):(e.editButtonEnabled=!0,e.selectedQuestions.disabledState=!0,e.answers.disabledState=!0,e.answers.first=null,e.answers.second=null,e.answers.third=null,c()):(e.error=o.statusMessage,e.apiError=!0)}),e.answers.first="***",e.answers.second="***",e.answers.third="***"},"edit"===r.mode&&e.edit()}e.$inject=["$scope","$rootScope","$state","$stateParams","SNIPPETS","vf","myAccountAPI","rmsTransactionService","maSecQuestion"],angular.module("ma").controller("securityQuestionsController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d){e.error="",e.apiError="",e.details={},e.email=i.email,e.password={hasEntered:!1,isBad:!1},e.email=i.email,e.deactivatedCopyHtml=n.trustAsHtml(a.MYACCOUNT.SECURITYSETTINGS.DEACTIVATEDACCOUNT.COPY),u.securityQuestionsSaved&&(e.securityQuestionsSaved=u.securityQuestionsSaved),e.deactivateConfirm=function(){r.open({heading:a.MYACCOUNT.DEACTIVATECONFIRMMODAL.DEACTIVATE,body:a.MYACCOUNT.DEACTIVATECONFIRMMODAL.AREYOUSURE+(document.getElementsByClassName("ng-dirty").length>0?a.MYACCOUNT.LOGOUTCONFIRMMODAL.YOUWILLLOSE:""),primaryButton:a.MYACCOUNT.DEACTIVATECONFIRMMODAL.DEACTIVATE}).then(function(){t.go("deactivateAccount")})},e.deactivate=function(){o.verifyCurrentUserPassword(e.details).then(function(t){e.password.hasEntered=!0,e.password.isBad=!1,o.deActivateCustomer(e.email).then(function(e){c.location.href=l})})["catch"](function(t){e.details.password="",e.password.isBad=!0,e.error=t.message,e.apiError=!0})},e.hasConnectedItems=function(){return d.hasConnectedItems(d.dashboardInfo)}}e.$inject=["$scope","$state","SNIPPETS","snswModal","myAccountAPI","user","vf","$sce","deactivateLogoutUrl","$window","$stateParams","dashboardService"],angular.module("ma").controller("securitySettingsController",e)}(),function(){"use strict";function e(e,t,a,r,o,i){e.SNIPPETS=t,e.accepted=!1,e.termsConditionsCopyTrusted=r.trustAsHtml(e.termsConditionsCopy),e.goToTermsConditions=function(){a.dismiss("close"),o.go("updatedTermsConditions")},e.agree=function(){i.accept().then(function(){a.close("continue")})},e.$on("modal.closing",function(e,t){return"escape key press"===t?void a.dismiss("cancel"):void("backdrop click"===t&&e.preventDefault())})}e.$inject=["$scope","SNIPPETS","$modalInstance","$sce","$state","updatedTermsConditions"],angular.module("ma").controller("updatedTermsConditionsModalController",e)}(),function(){"use strict";function e(e,t,a,r,o,i){function s(){e.go("changeDetails.address")}function n(){e.go("changeDetails.confirm")}function l(e){if(c.validationSummaryFields=angular.copy(c.fields),c.form.$valid){if(""!==e.mobileNumber||!e.currentMobileNumber)return n();i.open({heading:a.RMS.CHANGEDETAILS.MOBILEDELETEDMODAL.HEADING,body:a.RMS.CHANGEDETAILS.MOBILEDELETEDMODAL.BODY,primaryButton:a.RMS.CHANGEDETAILS.MOBILEDELETEDMODAL.CONTINUE,secondaryButton:a.RMS.CHANGEDETAILS.MOBILEDELETEDMODAL.CANCEL}).then(n)}}var c=this,u=a.RMS.CHANGEDETAILS,d={updateOn:"default blur",debounce:{"default":1e3,blur:0}},p=[{key:"currentEmailAddress",template:'<p ng-if="model[options.key]">Current email address: {{model[options.key]}}</p>'},{type:"input",key:"emailAddress",wrapper:["label","validation"],templateOptions:{type:"email",required:!0,label:t.trustAsHtml(a.GLOBAL.FORMS.EMAIL.LABELFORPRIMARYEMAIL),pattern:a.GLOBAL.FORMS.EMAIL.VALIDATION.REGEX}},{key:"currentMobileNumber",template:'<p ng-if="model[options.key]">Current mobile number: {{model[options.key] | snswMobileNumber}}</p>'},{type:"input",key:"mobileNumber",wrapper:["label","validation","hint"],templateOptions:{type:"text",required:!1,label:t.trustAsHtml(a.GLOBAL.FORMS.MOBILEPHONE.LABEL),pattern:r.mobileNumber,placeholder:t.trustAsHtml(a.RMS.CHANGEDETAILS.MOBILENUMBERPLACEHOLDER),hint:"To change your mobile number, start typing your new mobile number, using no spaces or symbols",onFocus:function(e,t,a,r){t.formControl.$dirty=t.formControl.$touched=!1,t.formControl.$pristine=!0,t.templateOptions.minlength=10},onBlur:function(e,t,a,r){t.templateOptions.minlength=0}}}];angular.extend(c,{fields:p,onSubmit:l,backState:"changeDetails.address",back:s,additionalOptions:d},u)}e.$inject=["$state","$sce","SNIPPETS","regex","$scope","snswModal"],angular.module("rms").controller("additionalDetailsController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s){function n(){r.isAuthenticated&&!b?t.go("changeDetails.additional"):t.go("changeDetails.confirm",{isGuest:!0})}function l(){r.isAuthenticated?t.go("changeDetails.options"):t.go("changeDetails.card",{isGuest:!0})}function c(){}function u(e){p.validationSummaryFields=angular.copy(p.fields);var t=p.form.$valid,a=e.mailingAddress||{},o=e.residentialAddress||{},s=!e.mailingAddress||a.notListed;t&&(a.dpid&&!e.residentialAddress?i.open({body:m.ADDRESSBLANK.BODY,primaryButton:m.ADDRESSBLANK.NO,secondaryButton:m.ADDRESSBLANK.YES}).then(n):a.dpid&&o.notListed?i.open({body:m.ADDRESSNOTLISTED.BODY,primaryButton:m.ADDRESSNOTLISTED.OK,secondaryButton:m.ADDRESSNOTLISTED.BACK}).then(n):o.dpid&&s?n():r.isAuthenticated||t?n():c())}function d(){i.open({heading:m.PRIVACYPOLICYHEADING,body:m.PRIVACYPOLICYBODY,primaryButton:null,secondaryButton:o.GLOBAL.ACTIONS.CLOSE})}var p=this,m=o.RMS.CHANGEDETAILS,g={formState:{notListedExpression:function(e){return!(!e||!e.notListed)},residentialAddressChange:function(e,t){t.sameAddress&&e?t.mailingAddress={address:"",dpid:e.dpid}:t.sameAddress&&!e&&(t.mailingAddress="")},sameAddressChange:function(e,t){(!e&&t.mailingAddress||e)&&(t.mailingAddress="")}}},f=[{key:"pleaseEnter",template:'<div ng-if="model.userNotAuthenticated && model.currentResidentialAddress && model.currentMailingAddress"><p>Please enter your residential and mailing address to continue.</p><p>Use the checkbox if your mailing address is the same as your residential address.</p></div>'},{key:"currentResidentialAddress",template:'<p ng-if="model[options.key]">Current residential address: {{model[options.key]}}</p>'},{type:"address",key:"residentialAddress",templateOptions:{filterState:"NSW",addressType:"residential",placeholder:"Enter residential address",label:a.trustAsHtml(m.RESIDENTIALADDRESSLABEL),hint:m.RESIDENTIALADDRESSHINT,onBlur:"formState.residentialAddressChange(fc.$modelValue, model)"},expressionProperties:{"templateOptions.notListed":"formState.notListedExpression(fc.$modelValue)","templateOptions.infoAlert":function(e,t,r){var o,i=r.model.sameAddress,s=t&&t.notListed;s&&(o=i?"RESIDENTIALADDRESSSAME":"RESIDENTIALADDRESS");var n=o?m.NOTLISTED[o]:o;return a.trustAsHtml(n)}}},{type:"checkbox",key:"sameAddress",defaultValue:!0,templateOptions:{label:a.trustAsHtml(m.SAMEADDRESSLABEL),onChange:"formState.sameAddressChange(fc.$modelValue, model)"}},{key:"currentMailingAddress",template:'<div class="form-group" ng-if="model[options.key]">Current mailing address: {{model[options.key]}}</div>'},{type:"address",key:"mailingAddress",expressionProperties:{"templateOptions.disabled":"model.sameAddress","templateOptions.notListed":"formState.notListedExpression(fc.$modelValue)","templateOptions.infoAlert":function(e,t,r){var o,i=r.model.residentialAddress||{},s=i.notListed,n=t&&t.notListed;n&&(o=s?"BOTH":"MAILINGADDRESS");var l=o?m.NOTLISTED[o]:o;return a.trustAsHtml(l)}},templateOptions:{addressType:"mailing",placeholder:"Enter mailing address",label:a.trustAsHtml(m.MAILINGADDRESSLABEL),hint:m.MAILINGADDRESSHINT}}];r.isAuthenticated&&(f.push({key:"vehcileDetailsLabel",template:'<label class="control-label form-group">'+m.UPDATEADDRESSFORFOLLOWINGVEHICLES+"</label>",hideExpression:function(e,t,a){return a.model.vehcileDetailsList?0===a.model.vehcileDetailsList.length:void 0}}),f.push({type:"registration-detail",key:"vehcileDetailsList"}));var b=s.isGuest,h=[];angular.extend(p,{validationSummaryFields:h,fields:f,options:g,onSubmit:u,back:l,showPrivacyStatement:d},m)}e.$inject=["$scope","$state","$sce","user","SNIPPETS","snswModal","$stateParams"],angular.module("rms").controller("addressDetailsController",e)}(),function(){"use strict";function e(e,t,a){a&&e.$emit("startTransaction",a),t.go("changeDetails.address")}e.$inject=["$scope","$state","transaction"],angular.module("rms").controller("addressDetailsStartTransactionController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l){function c(a){if("undefined"==typeof a.statusObject)t.go("changeDetails.address",{isGuest:!0});else if(a.statusObject&&1===a.statusObject.validationAttempsLeft){var r=m.LOCKOUTVALIDATION;e.$emit("transactionError",{data:{message:r}})}else e.$emit("transactionError",{message:a.statusMessage,data:a})}function u(t){var a=t.statusMessage;"RMS_VALIDATION_LOCKED"===t.statusMessage&&(a=t.statusObject.errorDetails[0].message),e.$emit("transactionError",{message:a,data:t})}function d(e){p.validationSummaryFields=angular.copy(p.fields),p.form.$valid&&o.validateLicenseDetails(e).then(c)["catch"](u)}var p=this,m=r.RMS.CHANGEDETAILS,g={formState:{helpModal:function(){s.open({templateUrl:"rms/changeDetails/views/cardExamples.html",controller:"cardExamplesController"})},cardNumberModal:function(){
s.open({templateUrl:"rms/changeDetails/views/cardNumberModal.html",controller:"cardNumberModalController"})}}},f=[{template:'<a href="javascript:" ng-click="formState.helpModal()">Where do I find my card details?</a>',className:"form-field"},{template:"<p>All fields are mandatory, unless otherwise noted.</p>"},{type:"input",key:"lastName",wrapper:["labels-with-modal","hint","info-alert","validation"],templateOptions:{placeholder:"Enter last name",type:"text",required:!0,label:a.trustAsHtml(m.LASTNAMELABEL),patternValidationMessage:a.trustAsHtml(r.GLOBAL.VALIDATION.PATTERNVALIDATIONLETTERS),maxlength:60,pattern:"[A-Za-z\\s-']*",labels:[{text:a.trustAsHtml(m.LASTNAMELINK),openModal:function(){i.open({heading:m.LASTNAMEMODAL.TITLE,body:m.LASTNAMEMODAL.BODY,modalImage:n+"/images/last-name-card.png",secondaryButton:r.GLOBAL.ACTIONS.CLOSE}).then(c)}},{text:a.trustAsHtml(m.LASTNAMEADDITIONALTEXT)}],hint:m.LASTNAMEHINT}},{type:"input",key:"photoIdNumber",wrapper:["labels-with-modal","hint","info-alert","validation"],templateOptions:{placeholder:"Enter number",type:"text",required:!0,label:a.trustAsHtml(m.PHOTOIDNUMBERLABEL),classes:{validation:["label-wrap-xs-2"]},patternValidationMessage:a.trustAsHtml(r.GLOBAL.VALIDATION.PATTERNVALIDATIONLETTERSNUMBERS),maxlength:10,pattern:"[a-zA-Z0-9]*",labels:[{text:a.trustAsHtml(m.DRIVERLICENCEMODAL.LINK),openModal:function(){i.open({heading:m.DRIVERLICENCEMODAL.TITLE,body:m.DRIVERLICENCEMODAL.BODY,modalImage:n+"/images/drivers-licence-number.png",secondaryButton:r.GLOBAL.ACTIONS.CLOSE}).then(c)}},{text:a.trustAsHtml(m.PHOTOIDADDITIONALTEXT)},{text:a.trustAsHtml(m.PHOTOCARDMODAL.LINK),openModal:function(){i.open({heading:m.PHOTOCARDMODAL.TITLE,body:m.PHOTOCARDMODAL.BODY,modalImage:n+"/images/photo-card-number.png",secondaryButton:r.GLOBAL.ACTIONS.CLOSE}).then(c)}}],hint:"<strong>NSW Driver Licence?</strong> This number appears under 'Licence No.' (not under 'Card Number') on the front of your card. <strong>NSW Photo Card?</strong> This number appears under 'PC Number' (not under 'Card Number') on the front of your card."}},{template:'<a href="javascript:" ng-click="formState.cardNumberModal()">Card ID number</a><br/>',className:"form-field"},{type:"input",key:"cardNumber",wrapper:["labels-with-modal","hint","info-alert","validation"],templateOptions:{placeholder:"Enter card number",type:"text",required:!0,maxlength:10,pattern:"^([0-9]*|.{11,})$",patternValidationMessage:"Invalid card ID number. Please use numerals only.",hint:"Your card ID number is located on the top left corner on the back of your NSW Driver Licence and NSW Photo Card."}}];angular.extend(p,{options:g,fields:f,onSubmit:d},m)}e.$inject=["$scope","$state","$sce","SNIPPETS","CardDetailsService","snswModal","$modal","resourcePath","rmsTransactionService"],angular.module("rms").controller("cardDetailsController",e)}(),function(){"use strict";function e(e,t,a,r){e.$emit("resetModel","resetModel"),e.$parent.changeDetails.model.transactionToken=a.transactionToken,r.debug("cardDetailsStartTransaction - transaction: ",a),t.go("changeDetails.card")}e.$inject=["$scope","$state","transaction","$log"],angular.module("rms").controller("cardDetailsStartTransactionController",e)}(),function(){"use strict";function e(e,t,a){var r=e[t].pageHeader;if(a&&a.now>0&&r){var o=a.now+". ";return o+r}return r}function t(e,t){return e[t].pageBody}function a(e){var t=e.residentialAddress||{},a=e.mailingAddress||{},r=!(t.dpid||a.dpid),o=t.notListed&&a.notListed;return Boolean(r||o)}function r(r,o,i,s,n,l,c,u){function d(e,t){T.model.transactionToken||angular.extend(T.model,t,u)}function p(e,t){angular.extend(T.model,t)}function m(){T.model={}}function g(){T.model.residentialAddress=void 0,T.model.mailingAddress=void 0,T.model.termsAndConditions=void 0}function f(e,t){t.heading=t.data.message||"Error!",t.type="danger","RMS_VALIDATION_LOCKED"===t.text&&(t.text=O.RMSVALIDATIONLOCKED),"RMS_VALIDATION_FAILED"===t.text&&(t.text=O.INVALIDDETAILS),"RMS_VALIDATION_FAILED"===t.message&&(t.heading=O.RMSVERIFICATIONFAILED),b(e,t)}function b(e,t){t.type||(t.type="info"),T.alert=t}function h(e,t){var r=!(T.emailChanged()||T.mobileChanged()||T.sameAddressChanged());a(T.model)&&r&&b(e,t)}function v(){var e=T.model.emailAddress!==T.model.currentEmailAddress;return e&&""!==T.model.emailAddress}function y(){var e=T.model.mobileNumber!==T.model.currentMobileNumber;return e}function S(){var e=T.model.currentResidentialAddress!==T.model.currentMailingAddress;return e&&T.model.sameAddress===!0}function C(){N();var a=i.current.name,r=l.current(a);r?(T.progress.now=r,T.pageHeader=e(I,a,T.progress),T.pageBody=t(I,a)):(T.progress.now=0,T.pageHeader=r,T.pageBody=r)}function E(){var e=!u.isAuthenticated&&a(T.model);T.model.submitDisabled=e}function M(e){e()}function A(){k.forEach(M)}function N(){T.alert=void 0}var T=this,R={isDeletingMobile:!1,userNotAuthenticated:!u.isAuthenticated},O=c.RMS.CHANGEDETAILS,D={},w={"changeDetails.options":!0,"changeDetails.address":u.isAuthenticated,"changeDetails.card":!0};w[i.current.name]||i.go("changeDetails.options"),s.linkRMSSuccess&&b({},{type:"success",heading:"Success!",text:"We have successfully linked your Roads and Maritime Services account. You can now continue with Roads and Maritime change of contact details."}),s.error.response&&(T.alert={},T.alert.type="danger",T.alert.text=s.error.response.statusMessage),o.$on("resetModel",m),r.$on("resetAddressChangeDetails",g);var I={"changeDetails.options":{pageHeader:n.trustAsHtml(O.OPTIONSPAGEHEADER),pageBody:n.trustAsHtml(O.OPTIONSBODYCOPY)},"changeDetails.tla":{pageHeader:n.trustAsHtml(O.TLAPAGEHEADER)},"changeDetails.cardStartTransaction":{pageHeader:n.trustAsHtml(O.DRIVERLICENCEPAGEHEADER),pageBody:n.trustAsHtml(O.DRIVERLICENCEBODYCOPY)},"changeDetails.card":{pageHeader:n.trustAsHtml(O.DRIVERLICENCEPAGEHEADER),pageBody:n.trustAsHtml(O.DRIVERLICENCEBODYCOPY)},"changeDetails.addressStartTransaction":{pageHeader:n.trustAsHtml(O.CHANGEADDRESSPAGEHEADER),pageBody:n.trustAsHtml(O.CHANGEADDRESSBODYCOPY)},"changeDetails.address":{pageHeader:n.trustAsHtml(O.CHANGEADDRESSPAGEHEADER),pageBody:n.trustAsHtml(O.CHANGEADDRESSBODYCOPY)},"changeDetails.additional":{pageHeader:n.trustAsHtml(O.ADDITIONALDETAILSPAGEHEADER),pageBody:n.trustAsHtml(O.ADDITIONALDETAILSBODYCOPY)},"changeDetails.confirm":{pageHeader:n.trustAsHtml(O.CHECKPAGEHEADER),pageBody:n.trustAsHtml(O.CHECKBODYCOPY)},"changeDetails.receipt":{}},k=[r.$on("startTransaction",d),r.$on("updateTransactionDetails",p),r.$on("finaliseTransaction",h),r.$on("transactionError",f),o.$on("$stateChangeSuccess",C),r.$watchCollection("changeDetails.model",E)];r.$on("$destroy",A),angular.extend(T,{progress:l,model:R,options:D,pageHeader:e(I,i.current.name,l),pageBody:t(I,i.current.name),dismissAlert:N,emailChanged:v,mobileChanged:y,sameAddressChanged:S},O)}r.$inject=["$scope","$rootScope","$state","$stateParams","$sce","progress","SNIPPETS","user"],angular.module("rms").controller("changeDetailsController",r)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c){function u(e){n.$emit("updateTransactionDetails",e),s.isAuthenticated&&b?a.go("changeDetails.receipt",{isGuest:!0}):s.isAuthenticated?a.go("changeDetails.receipt"):(l.set("guestTransactionToken",e.transactionToken),a.go("changeDetails.receipt"))}function d(e){n.$emit("transactionError",{message:"System Error",data:e})}function p(e){return g.form.$valid?r.updateDetails(e).then(u)["catch"](d):d(e)}function m(){s.isAuthenticated&&s.isLinkedToRms?a.go("changeDetails.additional"):(i(function(){n.$emit("resetAddressChangeDetails","resetAddressChangeDetails")},750),a.go("changeDetails.address",{isGuest:!0}))}var g=this,f=e.RMS.CHANGEDETAILS,b=c.isGuest;n.$emit("finaliseTransaction",{text:"There were no changes made to your contact details. If you’d like to change your address, mobile or email, please go back and enter the new details in the appropriate fields."});var h=[{key:"termsAndConditions",type:"checkbox-label-with-action",templateOptions:{label:"Terms and Conditions",labels:[{text:t.trustAsHtml(f.IACCEPT)},{text:"Terms and Conditions",action:function(){return o.open({heading:e.RMS.CHANGEDETAILS.TERMSCONDITIONSHEADING,body:e.RMS.CHANGEDETAILS.TERMSCONDITIONSBODY,secondaryButton:e.GLOBAL.ACTIONS.CLOSE})}}]}}];angular.extend(g,{back:m,fields:h,isAuthenticated:s.isAuthenticated,isGuest:b,onSubmit:p},f)}e.$inject=["SNIPPETS","$sce","$state","changeDetailsService","snswModal","$timeout","user","$scope","cookie","$stateParams"],angular.module("rms").controller("confirmDetailsController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d,p,m,g){function f(e){n.additionalEmail(e).then(function(e){S.isAdditionalAddress=e;var t=document.getElementsByClassName("alert-receipt-sent")[0];t.className=t.className.replace("hidden","")})}function b(){s.location=o}function h(e){"cancel"===e&&(s.location=l)}function v(){window.print()}function y(){r.open({heading:e.RMS.DOMORE.CONFIRMFINISH.HEADING,body:e.RMS.DOMORE.CONFIRMFINISH.BODY,primaryButton:e.RMS.DOMORE.CONFIRMFINISH.YES,secondaryButton:e.RMS.DOMORE.CONFIRMFINISH.NO,twoLineButtonsOnMobile:!0}).then(b)["catch"](h)}var S=this,C=e.RMS.CHANGEDETAILS.RECEIPT;C.DOMORE=e.RMS.DOMORE.CONFIRMFINISH,S.snswSiteUrl=o;var E={CHANGENOTE:t.trustAsHtml(C.CHANGENOTE),REMEMBERCHANGENOTE:t.trustAsHtml(C.REMEMBERCHANGENOTE),PRINTANDSURVEY:t.trustAsHtml(C.PRINTANDSURVEY)};i.logoutUrl=l;var M=a.isAuthenticated,A=[{template:"<p>{{::to.copyText}}</p>",templateOptions:{copyText:C.EMAILCOPYTEXT}},{type:"input-with-success-alert",key:"emailAddressCopy",defaultValue:i.changeDetails.model.emailAddress,templateOptions:{type:"email",required:!0,pattern:c.email,placeholder:"Enter email address",alert:t.trustAsHtml('<div class="hidden alert-receipt-sent alert-with-icon alert alert-success alert-inline" role="alert" aria-live="assertive" type="success"><div><i class="fa fa-check-circle text-success"></i><div><p>Receipt sent</p></div></div></div>')}},{type:"submit",key:"emailAddressSubmit",templateOptions:{label:"Send"}}],N=u.isGuest;angular.extend(S,{fields:A,onSubmit:f,isLoggedIn:M,printReceipt:v,confirmFinish:y,isGuest:N},C,E)}e.$inject=["SNIPPETS","$sce","user","snswModal","snswSiteUrl","$scope","$window","receiptDetailsService","logoutUrl","regex","$stateParams","$location","$state","$rootScope","pageLeaveAlert"],angular.module("rms").controller("receiptDetailsController",e)}(),function(){"use strict";function e(e,t,a,r,o){function i(a){if(this.validationFields=this.fields[0].templateOptions.validationFields,!(this.validationFields.length>0)&&s.form.$valid){if("driverLicence"===a.selectedOption.value)return e.go("changeDetails.addressStartTransaction");t.location=a.selectedOption.url}}var s=this,n=[],l={key:"selectedOption",name:"Details",errorMessage:"Please choose one of the following options to continue."},c=[{type:"radio-panel",key:"selectedOption",templateOptions:{options:a,required:!0,validationFields:[l],onClick:function(e){this.selectedOptionKey===e?this.selectedOptionKey=null:this.selectedOptionKey=e,null===this.selectedOptionKey?this.validationFields=[l]:this.validationFields=[]}}}];angular.extend(s,{fields:c,onSubmit:i,validationFields:n})}e.$inject=["$state","$window","selectOptions","$sce","SNIPPETS"],angular.module("rms").controller("selectOptionsController",e)}(),function(){"use strict";function e(e,t,a,r,o){function i(e){var a=r.startChangeDetailsTransaction();return e.isAuthenticated&&e.isLinkedToRms?a.then(o.get):t.all({transactionToken:a})}function s(e){return e.isAuthenticated?o.update(e):a.updateAddresses(e)}return{startTransaction:i,updateDetails:s}}e.$inject=["vf","$q","addressDetailsService","rmsTransactionService","userAndRegistrationInfoService"],angular.module("rms").factory("changeDetailsService",e)}(),function(){"use strict";function e(e,t,a){function r(){var e=a.startChangeMobileEmailTransaction();return t.all({transactionToken:e})}function o(t){var a={remoteAction:"RMSTransactionService.retrieveRMSEmailMobile",params:[t.transactionToken],resultMap:function(e){var a=angular.copy(e.statusObject);return a.currentEmailAddress=a.emailAddress,a.currentMobileNumber=a.mobileNumber,a.transactionToken=t.transactionToken,a}};return e.call(a)}function i(t){var a={remoteAction:"RMSTransactionService.updateContactDetails",params:[t.transactionToken,t.emailAddress,t.mobileNumber]};return e.call(a)}return{startTransaction:r,retrieveRMSEmailMobile:o,updateDetails:i}}e.$inject=["vf","$q","rmsTransactionService"],angular.module("rms").factory("changeMobileEmailService",e)}(),function(){"use strict";function e(e){function t(t){var a=t.residentialAddress||{},r=t.mailingAddress||{};a.dpid&&!r.dpid&&t.sameAddress===!0&&(r.dpid=a.dpid);var o={params:[t.transactionToken,a.dpid||"",r.dpid||"",t.sameAddress],remoteAction:"RMSTransactionService.updateAddresses",resultMap:function(e){return{receiptNumber:e.statusObject,transactionToken:t.transactionToken}}};return e.call(o)}this.updateAddresses=t}e.$inject=["vf"],angular.module("rms").service("addressDetailsService",e)}(),function(){"use strict";function e(e){this.validateLicenseDetails=function(t){var a={remoteAction:"RMSTransactionService.validateLicenseDetails",params:[t.transactionToken,t.lastName,t.photoIdNumber,t.cardNumber],resultMap:function(e){return e}};return e.call(a)}}e.$inject=["vf"],angular.module("rms").service("CardDetailsService",e)}(),function(){"use strict";function e(e){function t(t){var a={remoteAction:"RMSTransactionService.emailReceipt",params:[t.transactionToken,t.emailAddressCopy],resultMap:function(e){return e.transactionToken=t.transactionToken,e}};return e.call(a)}function a(t){var a={remoteAction:"RMSTransactionService.emailChangeOfContactDetailsReceipt",params:[t.transactionToken,t.emailAddressCopy],resultMap:function(e){return e.transactionToken=t.transactionToken,e}};return e.call(a)}this.additionalEmail=t,this.changeMobileEmailReceiptEmail=a}e.$inject=["vf"],angular.module("rms").service("receiptDetailsService",e)}(),function(){"use strict";function e(e){function t(t){var a={params:[t],remoteAction:"RMSTransactionService.retrieveUserAndRegistrationInfo",resultMap:function(e){var a=angular.copy(e.statusObject);return a.sameAddress=a.residentialAddress===a.mailingAddress||!a.mailingAddress,a.transactionToken=t,a.residentialAddress&&(a.currentResidentialAddress=a.residentialAddress,a.residentialAddress=void 0),a.mailingAddress&&(a.currentMailingAddress=a.mailingAddress,a.mailingAddress=void 0),a.currentEmailAddress=a.emailAddress,a.currentMobileNumber=a.mobileNumber,a}};return e.call(a)}function a(t){var a=t.emailAddress,r=t.mobileNumber,o=t.residentialAddress||{},i=t.mailingAddress||{};t.currentEmailAddress===a&&(a=""),t.currentMobileNumber===r&&(r=""),o.dpid&&!i.dpid&&t.sameAddress===!0&&(i.dpid=o.dpid),""===t.mobileNumber&&(t.isDeletingMobile=!0);var s={params:[t.transactionToken,o.dpid||"",i.dpid||"",a,r,t.sameAddress,t.isDeletingMobile],remoteAction:"RMSTransactionService.updateAddressesAndContactDetails",resultMap:function(e){return e.receiptNumber=e.statusObject,e}};return e.call(s)}this.update=a,this.get=t}e.$inject=["vf"],angular.module("rms").service("userAndRegistrationInfoService",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s){function n(){t.go("manageRMS")}function l(e){o.$emit("transactionError",{message:"System Error",data:e})}function c(e){t.go("rms.changeMobileEmail.confirm",{model:e})}function u(){var e=p.model.mobileNumber!==p.model.currentMobileNumber;return!p.model.mobileNumber&&e}function d(e,t){t.type||(t.type="info"),p.alert=t}var p=this,m={currentEmailAddress:o.$parent.currentEmailAddress||"",currentMobileNumber:o.$parent.currentMobileNumber||"",transactionToken:o.$parent.transactionToken||"",emailAddress:e.model.emailAddress||"",mobileNumber:e.model.mobileNumber||""},g={formState:{removeCurrentMobileModal:function(){s.open({heading:i.RMS.CHANGEDETAILS.MOBILEDELETEDMODAL.HEADING,body:i.RMS.CHANGEDETAILS.MOBILEDELETEDMODAL.BODY,primaryButton:i.RMS.CHANGEDETAILS.MOBILEDELETEDMODAL.CONTINUE,secondaryButton:i.RMS.CHANGEDETAILS.MOBILEDELETEDMODAL.CANCEL}).then(function(){p.model.currentMobileNumber=""})}}},f={updateOn:"blur"},b=i.RMS.CHANGEMOBILEEMAIL,h=i.RMS.CHANGEMOBILEEMAIL.HEADER,v=[{key:"currentEmailAddress",template:'<p ng-if="model[options.key]">Current email:<br/><strong>{{model[options.key]}}</strong></p>'},{type:"input",key:"emailAddress",wrapper:["label","validation","hint"],templateOptions:{type:"email",required:!0,label:r.trustAsHtml(i.RMS.CHANGEMOBILEEMAIL.NEWEMAILLABEL),hint:i.RMS.CHANGEMOBILEEMAIL.EMAILHINT,pattern:i.GLOBAL.FORMS.EMAIL.VALIDATION.REGEX}},{key:"currentMobileNumber",template:'<span ng-if="model[options.key]">Current mobile:<br/><strong>{{model[options.key] | snswMobileNumber}}</strong></span><a ng-if="model[options.key]" href="javascript:" ng-click="formState.removeCurrentMobileModal()"></a><p ng-if="!model[options.key]">Current mobile:<br/><strong>Please add your mobile number (optional)</strong></p>'},{type:"input",key:"mobileNumber",wrapper:["label","hint","validation"],templateOptions:{type:"text",required:!1,label:r.trustAsHtml(i.RMS.CHANGEMOBILEEMAIL.NEWMOBILELABEL),hint:i.RMS.CHANGEMOBILEEMAIL.MOBILEHINT,pattern:a.mobileNumber,onFocus:function(e,t,a,r){t.formControl.$dirty=t.formControl.$touched=!1,t.formControl.$pristine=!0,t.templateOptions.minlength=10},onBlur:function(e,t,a,r){t.templateOptions.minlength=0}}},{key:"missingMobileNumberAlert",template:'<p ng-if="!model.currentMobileNumber" class="alert alert-danger">You don&#39;t currently have a mobile number on record. Add one now.</p>'}];e.linkRMSSuccess&&d({},{type:"success",heading:"Success!",text:"We have successfully linked your Roads and Maritime Services account. You can now continue with Roads and Maritime change an email address or mobile number ."}),angular.extend(p,{fields:v,onSubmit:c,failResult:l,back:n,model:m,options:g,modelOptions:f,pageHeader:h,mobileDeleted:u},b)}e.$inject=["$stateParams","$state","regex","$sce","$scope","SNIPPETS","snswModal"],angular.module("rms").controller("changeMobileEmailController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n){function l(e){a.go("rms.changeMobileEmail.receipt",{model:f.model,result:e})}function c(e){i.$emit("transactionError",{message:"System Error",data:e})}function u(e){return f.form.$valid?n.updateDetails(e).then(l)["catch"](c):c(e)}function d(){a.go("rms.changeMobileEmail.details",{model:v})}function p(){r.open({heading:b.PRIVACYPOLICYHEADING,body:b.PRIVACYPOLICYBODY,primaryButton:null,secondaryButton:e.GLOBAL.ACTIONS.CLOSE})}function m(e,t){t.type||(t.type="info"),f.alert=t}function g(){f.alert=void 0}var f=this,b=e.RMS.CHANGEDETAILS,h=t.trustAsHtml(e.RMS.CHANGEMOBILEEMAIL.CHECKBODYCOPY),v=s.model,y=[{key:"termsAndConditionsChangeMobileEmail",type:"checkbox-label-with-action",templateOptions:{label:"Terms and Conditions",labels:[{text:t.trustAsHtml(b.IACCEPT)},{text:"Terms and Conditions",action:function(){return r.open({heading:e.RMS.CHANGEDETAILS.TERMSCONDITIONSHEADING,body:e.RMS.CHANGEDETAILS.TERMSCONDITIONSBODY,secondaryButton:e.GLOBAL.ACTIONS.CLOSE})}}]}}],S=v.mobileNumber===v.currentMobileNumber||""===v.mobileNumber,C=v.emailAddress===v.currentEmailAddress,E=""===v.mobileNumber,M=""===v.currentMobileNumber;S&&C&&!M||C&&E&&!M?m({},{type:"info",text:e.RMS.CHANGEMOBILEEMAIL.NOCHANGE}):C&&!M?m({},{type:"info",text:e.RMS.CHANGEMOBILEEMAIL.NOEMAILCHANGE}):S&&!M&&m({},{type:"info",text:e.RMS.CHANGEMOBILEEMAIL.NOMOBILECHANGE}),angular.extend(f,{model:v,back:d,fields:y,onSubmit:u,dismissAlert:g,checkBodyCopy:h,showPrivacyStatement:p,noMobileChange:S,noEmailChange:C,mobileEmpty:E,currentMobileEmpty:M},b)}e.$inject=["SNIPPETS","$sce","$state","snswModal","user","$scope","$stateParams","changeMobileEmailService"],angular.module("rms").controller("changeMobileEmailConfirmDetailsController",e)}(),function(){"use strict";function e(e,t,a,r){var o=this;a.currentEmailAddress=r.currentEmailAddress||"",a.currentMobileNumber=r.currentMobileNumber||"",a.transactionToken=r.transactionToken||"",e.go("rms.changeMobileEmail.details"),angular.extend(o,{})}e.$inject=["$state","$stateParams","$scope","transaction"],angular.module("rms").controller("changeMobileEmailParentController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d,p,m,g){function f(e){n.changeMobileEmailReceiptEmail(e).then(function(e){S.isAdditionalAddress=e;var t=document.getElementsByClassName("alert-receipt-sent")[0];t.className=t.className.replace("hidden","")})}function b(){s.location=o}function h(e){"cancel"===e&&(s.location=l)}function v(){window.print()}function y(){r.open({heading:e.RMS.DOMORE.CONFIRMFINISH.HEADING,body:e.RMS.DOMORE.CONFIRMFINISH.BODY,primaryButton:e.RMS.DOMORE.CONFIRMFINISH.YES,secondaryButton:e.RMS.DOMORE.CONFIRMFINISH.NO,twoLineButtonsOnMobile:!0}).then(b)["catch"](h)}var S=this,C=e.RMS.CHANGEDETAILS.RECEIPT;C.DOMORE=e.RMS.DOMORE.CONFIRMFINISH,S.snswSiteUrl=o;var E=u.model,M=u.result,A=""===E.currentMobileNumber,N={CHANGENOTE:t.trustAsHtml(C.CHANGENOTE),REMEMBERCHANGENOTE:t.trustAsHtml(C.REMEMBERCHANGENOTE),PRINTANDSURVEY:t.trustAsHtml(C.PRINTANDSURVEY)};i.logoutUrl=l;var T=a.isAuthenticated,R=[{template:"<p>{{::to.copyText}}</p>",templateOptions:{copyText:C.EMAILCOPYTEXT}},{type:"input-with-success-alert",key:"emailAddressCopy",templateOptions:{type:"email",required:!0,pattern:c.email,placeholder:"Enter email address",alert:t.trustAsHtml('<div class="hidden alert-receipt-sent alert-with-icon alert alert-success alert-inline" role="alert" aria-live="assertive" type="success"><div><i class="fa fa-check-circle text-success"></i><div><p>Receipt sent</p></div></div></div>')}},{type:"submit",key:"emailAddressSubmit",templateOptions:{label:"Send"}}];angular.extend(S,{result:M,fields:R,model:E,onSubmit:f,isLoggedIn:T,printReceipt:v,confirmFinish:y,currentMobileEmpty:A},C,N)}e.$inject=["SNIPPETS","$sce","user","snswModal","snswSiteUrl","$scope","$window","receiptDetailsService","logoutUrl","regex","$stateParams","$rootScope","$location","pageLeaveAlert","$state"],angular.module("rms").controller("changeMobileEmailReceiptDetailsController",e)}(),function(){"use strict";function e(e,t,a,r,o,i){function s(){a.location=r}function n(e){"cancel"===e&&(a.location=i)}function l(){e.open({heading:t.RMS.DOMORE.CONFIRMFINISH.HEADING,body:t.RMS.DOMORE.CONFIRMFINISH.BODY,primaryButton:t.RMS.DOMORE.CONFIRMFINISH.YES,secondaryButton:t.RMS.DOMORE.CONFIRMFINISH.NO}).then(s)["catch"](n)}var c=this,u={},d=t.RMS.DEMERITPOINT;u.points=o.demeritPoint.demerits;var p=u.points.demeritPointsLine;if(p.length>1){var m=p[0],g=p[1],f=parseInt(m.demeritPoints.maximum),b=parseInt(g.demeritPoints.maximum);f===b?(u.isAdditionalMessage=!1,u.maxDPMultipleLicense=f):f>b?(u.isAdditionalMessage=!0,u.secondaryDemeritDetail=g,u.maxDPMultipleLicense=m.demeritPoints.maximum):(u.isAdditionalMessage=!0,u.secondaryDemeritDetail=m,u.maxDPMultipleLicense=b)}angular.extend(c,{confirmFinish:l,resultDP:u},d)}e.$inject=["snswModal","SNIPPETS","$window","snswSiteUrl","transaction","logoutUrl"],angular.module("rms").controller("checkDemeritController",e)}(),function(){"use strict";function e(e,t,a,r,o){function i(){a.go("linkRMSOptions",t.returnState)}var s=this,n=r.RMS.LINKING,l=o.trustAsHtml(r.RMS.LINKING.BODYTEXT);angular.extend(s,{linkToRMS:i,bodyText:l},n)}e.$inject=["$state","$stateParams","redirectService","SNIPPETS","$sce"],angular.module("rms").controller("rmsLinkingController",e)}(),function(){"use strict";function e(e,t,a,r,o){function i(){t.setAcceptTerms(c.agree)}function s(){c.fullTerms=!0}function n(){a.go("rms.demeritPoints.results")}var l=e.RMS.DEMERITPOINT,c=this;c.tc4CheckDemeritPoints=o.trustAsHtml(r),angular.extend(c,{showTerms:s,continueTerms:n,agreeConditions:i},l)}e.$inject=["SNIPPETS","termsService","$state","tc4CheckDemeritPoints","$sce"],angular.module("rms").controller("demeritTermsController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n){function l(){i.location=t}function c(e){"cancel"===e&&(i.location=s)}function u(){o.open({heading:e.RMS.DOMORE.CONFIRMFINISH.HEADING,body:e.RMS.DOMORE.CONFIRMFINISH.BODY,primaryButton:e.RMS.DOMORE.CONFIRMFINISH.YES,secondaryButton:e.RMS.DOMORE.CONFIRMFINISH.NO}).then(l)["catch"](c)}function d(){p.alert=void 0}var p=this,m=e.RMS.DEMERITPOINT;a.error.response?(p.alert={},p.alert.type="danger",p.alert.text=n.extractErrorMessages(a.error.response)[0].message):r.go("dashboard"),angular.extend(p,{dismissAlert:d,confirmFinish:u},m)}e.$inject=["SNIPPETS","snswSiteUrl","$stateParams","$state","snswModal","$window","logoutUrl","commonUtil"],angular.module("rms").controller("demeritFailedController",e)}(),function(){"use strict";function e(e,t,a,r){function o(e,t,a,r,o,s){s&&s.message&&(e.preventDefault(),i(e,s))}function i(e,t){t.heading="Error!",t.type="danger",s(e,t)}function s(e,t){t.type||(t.type="info"),c.alert=t}function n(e){c.alert=e,c.alert.type="danger",c.alert.heading="We need to check a few details before we proceed. Please call us on 13 77 88"}function l(){c.alert=void 0}var c=this;t.linkRMSSuccess&&s({},{type:"success",heading:"Success!",text:"We have successfully linked your Roads and Maritime Services account. You can now continue with check demerit points."}),e.go("rms.demeritPoints.terms"),a.$on("$stateChangeError",o),r.$on("demeritTermsError",n),angular.extend(c,{dismissAlert:l,hasdemeritTermsErrorError:n})}e.$inject=["$state","$stateParams","$scope","$rootScope"],angular.module("rms").controller("demeritPointController",e)}(),function(){"use strict";function e(e,t,a,r,o){function i(){e.go(l.returnGuestState,{isGuest:!0})}function s(){o.logIn(l.returnState)}function n(){o.go("createAccount",l.returnState)}var l=this,c=a.RMS.TRANSAUTH,u={};u.BODYHEADER=r.trustAsHtml(a.RMS.TRANSAUTH.BODYHEADER),u.BODYTEXT=r.trustAsHtml(a.RMS.TRANSAUTH.BODYTEXT),u.BODYHEADERGUEST=r.trustAsHtml(a.RMS.TRANSAUTH.BODYHEADERGUEST);var d=t.isGuest;angular.extend(l,{isGuestLogin:d,guestLogin:i,logIn:s,register:n,returnState:t.returnState,returnGuestState:t.returnGuestState||t.returnState,trusted:u},c)}e.$inject=["$state","$stateParams","SNIPPETS","$sce","redirectService"],angular.module("rms").controller("transAuthController",e)}(),function(){"use strict";angular.module("rms").controller("transAuthWithTokenController",["$scope","vf","token","$state","$stateParams","SNIPPETS","$sce","redirectService","commonUtil",function(e,t,a,r,o,i,s,n,l){function c(e){return e&&e.statusCode?2001===e.statusCode?!1:2e3===e.statusCode&&e.statusObject&&e.statusObject.errorDetails&&e.statusObject.errorDetails.causes&&e.statusObject.errorDetails.causes.length>0?!0:2002===e.statusCode?!0:!(2e3!==e.statusCode||!e.statusObject||!m.hasError(e.statusObject.messages)):!0}function u(){t.call({remoteAction:"rmsTransactionCtrl.logAction",params:[b,"Continue as a guest Action"]}).then(function(e){c(e)||(console.log("rmsTransactionCtrl.logAction succeeded. resp=",e),r.go(m.returnGuestState,{isGuest:!0}))})["catch"](function(e){l.failRmsTransactionTimeout(e)&&console.log("rmsTransactionCtrl.logAction session timeout"),console.log("rmsTransactionCtrl.logAction failed. reason=",e)})}function d(){t.call({remoteAction:"rmsTransactionCtrl.logAction",params:[b,"Login Action"]}).then(function(e){c(e)||(console.log("rmsTransactionCtrl.logAction succeeded. resp=",e),n.logIn(m.returnState))})["catch"](function(e){console.log("rmsTransactionCtrl.logAction failed. reason=",e)})}function p(){t.call({remoteAction:"rmsTransactionCtrl.logAction",params:[b,"Register Action"]}).then(function(e){c(e)||(console.log("rmsTransactionCtrl.logAction succeeded. resp=",e),n.go("createAccount",m.returnState))})["catch"](function(e){console.log("rmsTransactionCtrl.logAction failed. reason=",e)})}var m=this,g=i.RMS.TRANSAUTH,f={},b=a&&a.statusObject?a.statusObject:a;f.BODYHEADER=s.trustAsHtml(i.RMS.TRANSAUTH.BODYHEADER),f.BODYTEXT=s.trustAsHtml(i.RMS.TRANSAUTH.BODYTEXT),f.BODYHEADERGUEST=s.trustAsHtml(i.RMS.TRANSAUTH.BODYHEADERGUEST);var h=o.isGuest;angular.extend(m,{isGuestLogin:h,guestLogin:u,logIn:d,register:p,returnState:o.returnState,returnGuestState:o.returnGuestState||o.returnState,trusted:f},g)}])}(),function(){"use strict";angular.module("ma").controller("manageRMSController",["$scope","snswModal","snswSiteUrl","SNIPPETS","$state","linkRMS","vf","myAccountAPI","rmsTransactionService",function(e,t,a,r,o,i,s,n,l){e.otherLinkedAccounts=[],e.snswSiteUrl=a,e.toggle=function(){t.open({heading:r.MYACCOUNT.DASHBOARD.LINKEDSERVICES.MANAGERMS.UNLINKMODALTITLE,body:r.MYACCOUNT.DASHBOARD.LINKEDSERVICES.MANAGERMS.UNLINKMODALBODY,primaryButton:r.GLOBAL.ACTIONS.YES,secondaryButton:r.GLOBAL.ACTIONS.NO}).then(function(){o.go("unlinkRMS")})},n.retrieveUserAndRegistrationInfo_nonTranscation().then(function(t){if(e.rmsDetails=t,angular.isUndefined(t.statusObject.emailAddress)||""===t.statusObject.emailAddress?e.rmsEmail="You don't currently have an email address on record with Roads and Maritime.":e.rmsEmail=t.statusObject.emailAddress,angular.isUndefined(t.statusObject.mobileNumber)||""===t.statusObject.mobileNumber)e.rmsMobile="You don't currently have a mobile number on record with Roads and Maritime.";else if(e.rmsMobile=t.statusObject.mobileNumber,10===e.rmsMobile.length&&"0"===e.rmsMobile.charAt(0)){var a=e.rmsMobile.replace(/ /g,"");e.rmsMobile=(a.substr(0,4)+" "+a.substr(4,3)+" "+a.substr(7,3)).trim()}e.residentialAddress=t.statusObject.residentialAddress||"No residential address",e.mailingAddress=t.statusObject.mailingAddress||"No mailing address"})["catch"](function(t){e.error=t})}])}(),function(){"use strict";angular.module("ma").controller("unavailableController",["$scope","SNIPPETS",function(e,t){e.SNIPPETS=t}])}(),function(){"use strict";angular.module("ma").controller("unlinkRMSController",["$scope","myAccountAPI","commonUtil",function(e,t,a){e.error="",e.errorMessages=[],e.password={hasEntered:!1,isBad:!1},e.details={},e.unlinked=!1,e.unlink=function(){e.error="",e.errorMessages=[],t.unlinkRMS().then(function(){e.unlinked=!0})["catch"](function(t){e.errorMessages=a.extractErrorMessages(t.response)})},e.unlink()}])}(),function(){"use strict";function e(e,t){e.fileName&&e.transactionToken&&!e.fileData?t.getPdfFile(e.fileName,e.transactionToken).then(t.openPdf):t.openPdf({fileData:e.fileData,fileName:e.fileName})}e.$inject=["$stateParams","rmsPdfService"],angular.module("rms").controller("pdfFileController",e)}(),function(){"use strict";function e(e){var t=this;t.contactDetails=e}e.$inject=["userContactDetails"],angular.module("rms").controller("addEmailContactController",e)}(),function(){"use strict";function e(){return{scope:{},restrict:"AE",transclude:!0,bindToController:{contactDetails:"="},controller:"rmsAddEmailController",controllerAs:"rmsAddEmail",templateUrl:"rms/directives/rmsAddEmail/rms-add-email.html"}}angular.module("rms").directive("rmsAddEmail",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s){function n(){"0"===p.model.emailType&&(p.fields[1].formControl.$invalid=!1),l(),p.form.$setPristine(),p.form.$setUntouched()}function l(){p.alert=void 0}function c(e){var t=e.message||e.response.statusMessage,a=e.type||"danger",r=e.heading||"Error!";p.alert={heading:r,text:t,type:a}}function u(e){l();var t="0"===e.emailType?p.snswEmail:e.email;a.updateRMSEmail(t).then(d)["catch"](c)}function d(){t.go(e.returnState,{},{reload:!0})}var p=this,m={formState:{emailTypeChange:n}};p.pageTitle=e.transactionAgency,p.model={},p.snswEmail=p.contactDetails.email,p.fields=[{key:"emailType",type:"radio",defaultValue:"0",templateOptions:{options:[{value:"0",label:"Use my registered email with Service NSW: <strong> "+p.snswEmail+"</strong>"},{value:"1",label:"Provide another email address to Roads and Maritime Services"}],onChange:"formState.emailTypeChange()"}},{key:"email",type:"input",wrapper:["validation","bootstrap-row-col"],hideExpression:'model.emailType != "1"',templateOptions:{type:"email",label:"Another email address",maxlength:50,
bootstrapColClassNames:"col-xs-12 col-md-6"},expressionProperties:{"templateOptions.required":'model.emailType == "1"'}}],p.quit=function(){return o.quitTransaction().then(function(){s.location=i})},p.back=function(){return e.back?t.go(e.back):void t.go("linkRMSStart")},angular.extend(p,{options:m,onSubmit:u})}e.$inject=["$stateParams","$state","linkRMS","myAccountAPI","snswModal","snswSiteUrl","$window"],angular.module("rms").controller("rmsAddEmailController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"rms/directives/rmsCardDetails/rms-card-details.html",controller:"rmsCardDetailsController as cardDetails"}}angular.module("rms").directive("rmsCardDetails",e)}(),function(){"use strict";function e(e,r,o,i,s,n,l,c){function u(e){f.alert=f.transaction.alert(e),angular.isDefined(e.response.statusObject)&&angular.isDefined(e.response.statusObject.isLocked)&&(f.isLocked=e.response.statusObject.isLocked,f.lockedTime=e.response.statusObject.lockedTime)}function d(){f.alert=void 0}function p(e){return s.getPersonByCardDetails(e).then(f.transaction.tlaSuccess)["catch"](u)}function m(e){return f.form.$valid?f.isLocked&&moment(f.lockedTime).add(10,"minutes").isAfter()?p(e):f.transaction.startTransaction(e).then(p):void 0}function g(){var t=e.current.name.replace("tla","login");e.go(t)}var f=this;f.transaction.model&&!f.transaction.model.transactionToken&&g(),f.transaction.user.isAuthenticated&&!i.continueWithoutLinking&&r.path(e.href("^").replace("#","")),!f.transaction.user.isAuthenticated&&f.transaction.model&&(delete f.transaction.model.familyName,delete f.transaction.model.cardNumber,delete f.transaction.model.cardStockNumber),t.warn(a,this.transaction);var b=o.RMS.CHANGEDETAILS,h={formState:{helpModal:function(){l.open({templateUrl:"rms/changeDetails/views/cardExamples.html",controller:"cardExamplesController"})},cardNumberModal:function(){l.open({templateUrl:"rms/changeDetails/views/cardNumberModal.html",controller:"cardNumberModalController"})}}};angular.extend(f,{pageHeader:b.DRIVERLICENCEPAGEHEADER,pageBody:b.DRIVERLICENCEBODYCOPY,options:h,model:f.transaction.model,dismissAlert:d,fields:c,onSubmit:m,onBack:g},b)}e.$inject=["$state","$location","SNIPPETS","user","TransAuthService","rmsTransactionService","$modal","rmsCardDetailsFields"];var t=apiCheck({output:{prefix:"rmsCardDetailsController transaction:"}}),a=apiCheck.shape({model:apiCheck.shape({transactionToken:apiCheck.string}),tlaSuccess:apiCheck.func});angular.module("rms").controller("rmsCardDetailsController",e)}(),function(){"use strict";function e(e,t,a,r){var o=t.RMS.CHANGEDETAILS;return[{template:'<a href="javascript:" ng-click="formState.helpModal()">Where do I find my card details?</a>',className:"form-field"},{template:"<p>All fields are mandatory, unless otherwise noted.</p>"},{type:"input",key:"familyName",wrapper:["label-with-modal","validation","hint"],templateOptions:{placeholder:"Enter last name",type:"text",required:!0,label:"Last name (surname) on the card",patternValidationMessage:e.trustAsHtml(t.GLOBAL.VALIDATION.PATTERNVALIDATIONLETTERS),maxlength:60,pattern:"[A-Za-z\\s-']*",labels:[{text:e.trustAsHtml(o.LASTNAMELINK),openModal:function(){r.open({heading:o.LASTNAMEMODAL.TITLE,body:o.LASTNAMEMODAL.BODY,modalImage:a+"/images/last-name-card.png",secondaryButton:t.GLOBAL.ACTIONS.CLOSE})}},{text:e.trustAsHtml(o.LASTNAMEADDITIONALTEXT)}],hint:o.LASTNAMEHINT}},{type:"input",key:"cardNumber",wrapper:["label-with-modal","validation","hint"],templateOptions:{placeholder:"Enter number",type:"text",required:!0,label:"NSW Driver Licence or NSW Photo Card number",classes:{validation:["label-wrap-xs-2"]},patternValidationMessage:e.trustAsHtml(t.GLOBAL.VALIDATION.PATTERNVALIDATIONLETTERSNUMBERS),maxlength:10,pattern:"[a-zA-Z0-9]*",labels:[{text:"NSW Driver Licence",openModal:function(){r.open({heading:o.DRIVERLICENCEMODAL.TITLE,body:o.DRIVERLICENCEMODAL.BODY,modalImage:a+"/images/drivers-licence-number.png",secondaryButton:t.GLOBAL.ACTIONS.CLOSE})}},{text:"or"},{text:"NSW Photo Card number",openModal:function(){r.open({heading:o.PHOTOCARDMODAL.TITLE,body:o.PHOTOCARDMODAL.BODY,modalImage:a+"/images/photo-card-number.png",secondaryButton:t.GLOBAL.ACTIONS.CLOSE})}}],hint:o.PHOTOIDNUMBERHINT}},{template:'<a href="javascript:" ng-click="formState.cardNumberModal()">Card ID number</a><br/>',className:"form-field"},{type:"input",key:"cardStockNumber",wrapper:["info-alert","validation","hint"],templateOptions:{placeholder:"Enter card number",type:"text",label:"Card ID number",required:!0,maxlength:10,pattern:"[0-9]*",patternValidationMessage:e.trustAsHtml(t.GLOBAL.VALIDATION.PATTERNVALIDATIONNUMBERS),hint:"Your card ID number is located on the top left corner on the back of your NSW Driver Licence and NSW Photo Card."}}]}e.$inject=["$sce","SNIPPETS","resourcePath","snswModal"],angular.module("rms").service("rmsCardDetailsFields",e)}(),function(){"use strict";function e(e,t,a){function r(){o()}function o(){t.location.href=a}var i=this;angular.extend(i,{pageTitle:e.transactionTitle||"An error has occured",message:e.message||"We are unable to proceed with this transaction",goHome:r,snswSiteUrl:a,quitText:e.quitText||"Go to Service NSW Home Page"})}e.$inject=["$stateParams","$window","snswSiteUrl"],angular.module("rms").controller("ineligibleController",e)}(),function(){"use strict";function e(){return{scope:{},restrict:"E",transclude:!0,bindToController:{},controller:"ineligibleController",controllerAs:"ineligible",templateUrl:"rms/directives/rmsIneligible/rms-ineligible.html"}}angular.module("rms").directive("rmsIneligible",e)}(),function(){"use strict";function e(e,t){return{restrict:"AE",scope:{transaction:"="},templateUrl:"rms/directives/rmsPayment/rms-payment.html",link:function(a,r,o){var i=r.find("form");a.$watch("transaction.pspPostURL",function(r){r&&(t.log("scope",a),i.attr("action",e.trustAsResourceUrl(r)),i[0].submit())})}}}e.$inject=["$sce","$log"],angular.module("rms").directive("rmsPayment",e)}(),function(){"use strict";function e(){return{scope:{},restrict:"E",transclude:!0,bindToController:{fileName:"=",linkText:"@",transactionToken:"=",fileData:"=?"},controller:"rmsPdfLinkController",controllerAs:"rmsPdfLink",templateUrl:"rms/directives/rmsPdfLink/rms-pdf-link.html"}}angular.module("rms").directive("rmsPdfLink",e)}(),function(){"use strict";function e(e,t){function a(){r.fileData?t.openPdf({fileData:r.fileData,fileName:r.fileName}):t.getPdfFile(r.fileName,r.transactionToken).then(t.openPdf)}var r=this,o=e.navigator&&e.navigator.msSaveOrOpenBlob;angular.extend(r,{supportsMsSaveOrOpenBlob:o,msSaveOrOpen:a})}e.$inject=["$window","rmsPdfService"],angular.module("rms").controller("rmsPdfLinkController",e)}(),function(){"use strict";function e(){return{restrict:"AE",scope:{},templateUrl:"rms/directives/rmsPreLink/rms-pre-link.html",controller:"rmsPreLinkController as rmsPreLink"}}angular.module("rms").directive("rmsPreLink",e)}(),function(){"use strict";function e(e,t,a,r,o,i){function s(){if(l.allowGuest){o.continueWithoutLinking=!0;var a=i.getStorage("USER");a.setItem("CONTINUE_WITHOUT_LINKING_TO_RMS",!0),e.go(t.returnState,{isGuest:!0})}}function n(){a.go("linkRMSOptions",t.returnState,{returnState:e.current.name})}var l=this;angular.extend(l,{continueWithoutLinking:s,linkToRMS:n,allowGuest:t.allowGuest,returnState:t.returnState,returnGuestState:t.returnGuestState||t.returnState,SNIPPETS:r})}e.$inject=["$state","$stateParams","redirectService","SNIPPETS","user","snswSessionStorage"],angular.module("rms").controller("rmsPreLinkController",e)}(),function(){"use strict";function e(){return{scope:{},restrict:"E",transclude:!0,bindToController:{interimLicenceOnly:"="},controller:"rmsReplaceLicenceInfoController",controllerAs:"replaceLicenceInfo",templateUrl:"rms/directives/rmsReplaceLicenceInfo/rms-replace-licence-info.html"}}angular.module("rms").directive("rmsReplaceLicenceInfo",e)}(),function(){"use strict";function e(e){var t=this;angular.extend(t,{snswSiteUrl:e,options:{severity:"info"}})}e.$inject=["snswSiteUrl"],angular.module("rms").controller("rmsReplaceLicenceInfoController",e)}(),function(){"use strict";function e(){return{scope:{},restrict:"AE",transclude:!0,bindToController:{sendDocumentDesc:"=",transactionToken:"=",emailRequired:"=?",defaultEmail:"=?",onSubmit:"=?",model:"=?"},controller:"rmsSendEmailController",controllerAs:"rmsSendEmail",templateUrl:"rms/directives/rmsSendEmail/rms-send-email.html",link:function(e,t,a,r){t.find("ng-transclude").children().length||(r.defaultTemplate=!0,t.find("ng-transclude").remove())}}}angular.module("rms").directive("rmsSendEmail",e)}(),function(){"use strict";function e(e,t,a,r){function o(e){return e?i.form.$invalid||i.model.email===e||!t.isAuthenticated:!0}var i=this;angular.isUndefined(i.emailRequired)&&(i.emailRequired=!0),i.fields=[{key:"email",type:"input",wrapper:["label","validation","bootstrap-row-col"],templateOptions:{label:i.sendDocumentDesc,type:"email",required:i.emailRequired,bootstrapColClassNames:"col-xs-12 col-md-9"}},{key:"updateContact",type:"checkbox",wrapper:["bootstrap-row-col"],templateOptions:{label:e.RMS.RECEIPT.MAKETHISMYEMAILLABEL,bootstrapColClassNames:"col-xs-12"},hideExpression:function(e,t,a){return i.checkBoxHidden(a.fields[0].initialValue)}}];var s=function(e){if(i.alerts=[],e.email){var t=e.updateContact&&i.form.$dirty||!1;a.sendTransactionPDFEmail(e.email,e.transactionToken,t).then(function(){t?i.message="Email sent and email address successfully updated":i.message="Email sent"})["catch"](function(e){i.alerts.push(r.alert(e))})}},n=function(e){i.alerts.splice(e,1)},l={email:angular.copy(i.defaultEmail),transactionToken:i.transactionToken};angular.extend(i,{message:"",SNIPPETS:e,model:i.model||l,dismissAlert:n,checkBoxHidden:o,onSubmit:i.onSubmit||s})}e.$inject=["SNIPPETS","user","receiptService","rmsTransactionService"],angular.module("rms").controller("rmsSendEmailController",e)}(),function(){"use strict";function e(){return{scope:{},restrict:"AE",bindToController:{transaction:"="},controller:"rmsTransAuthController as rmsTransAuth",templateUrl:"rms/directives/rmsTransAuth/rms-trans-auth.html"}}angular.module("rms").directive("rmsTransAuth",e)}(),function(){"use strict";function e(e,r,o,i,s,n,l,c){function u(e){return m.transaction.startTransaction(e).then(c.guestLogin).then(function(){r.go("^.tla")})}function d(t){return m.transaction.startTransaction(t).then(function(t){return e.call({remoteAction:"rmsTransactionCtrl.logAction",params:[t.transactionToken,"Login Action"]}).then(function(){l.logIn(m.returnState)})})}function p(t){return m.transaction.startTransaction(t).then(function(t){e.call({remoteAction:"rmsTransactionCtrl.logAction",params:[t.transactionToken,"Register Action"]}).then(function(){l.go("createAccount",m.returnState)})})}var m=this;t.warn(a,this.transaction);var g=i.RMS.TRANSAUTH,f={BODYHEADER:s.trustAsHtml(g.BODYHEADER),BODYTEXT:s.trustAsHtml(g.BODYTEXT),BODYHEADERGUEST:s.trustAsHtml(g.BODYHEADERGUEST)};m.transaction.user.isAuthenticated&&n.path(r.href("^").replace("#","")),angular.extend(m,{logIn:d,register:p,guestLogin:u,model:m.transaction.model,returnState:o.returnState,returnGuestState:o.returnGuestState||o.returnState,trusted:f},g)}e.$inject=["vf","$state","$stateParams","SNIPPETS","$sce","$location","redirectService","TransAuthService"];var t=apiCheck({output:{prefix:"rmsTransAuthController transaction:"}}),a=apiCheck.shape({model:apiCheck.shape({transactionToken:apiCheck.string.optional}),startTransaction:apiCheck.func,user:apiCheck.shape({isAuthenticated:apiCheck.bool})});angular.module("rms").controller("rmsTransAuthController",e)}(),function(){"use strict";function e(e){this.getPersonByCardDetails=function(t){var a={remoteAction:"RMSWrapperCtrl.getPersonByCardDetails",params:[JSON.stringify(t)],resultMap:function(e){return e.statusObject}};return e.vf(a)}}e.$inject=["rmsTransactionService"],angular.module("rms").service("TransAuthService",e)}(),function(){"use strict";function e(){return{scope:{},restrict:"E",replace:!0,transclude:!0,bindToController:{showDisclaimer:"=?"},controller:"rmsVehicleReportExpandableInfoController",controllerAs:"info",templateUrl:"rms/directives/rmsVehicleReportExpandableInfo/rms-vehicle-report-expandable-info.html"}}angular.module("rms").directive("rmsVehicleReportExpandableInfo",e)}(),function(){"use strict";function e(e){var t=this;null!==t.showDisclaimer&&void 0!==t.showDisclaimer||(t.showDisclaimer=!0),angular.extend(t,{snswSiteUrl:e,expanded:!1})}e.$inject=["snswSiteUrl"],angular.module("rms").controller("rmsVehicleReportExpandableInfoController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"rms/drivingRecord/confirmation/driving-record-confirmation.html",controller:"DrivingRecordConfirmationController as confirmation"}}angular.module("rms").directive("drivingRecordConfirmation",e)}(),function(){"use strict";function e(e,t,a){function r(e){l.alert=t.alert(e)}function o(e){var t=e.pspPayload;t&&(l.transaction.textToken=t.textToken,l.transaction.jwtToken=t.jwtToken),e.pspPostURL&&(l.transaction.pspPostURL=e.pspPostURL)}function i(){return t.submitForPayment({transactionToken:l.transaction.model.transactionToken,userContext:{},requestObj:{progressStep:"4",progressStepTotal:"5"}})}function s(){return a.destroy(),t.saveContext(l.transaction.model.transactionToken,l.transaction.model).then(i).then(o)["catch"](r)}function n(){l.form.$valid&&s()}var l=this,c=[],u={severity:"info",message:"&nbsp;<strong>Important information</strong>"};a.listen(),angular.extend(l,{demeritObject:l.transaction.model.demerits,chosenProduct:l.transaction.model.demerits[l.transaction.model.recordProduct],fields:c,infoPanelObj:u,onSubmit:n})}e.$inject=["DrivingRecordService","rmsTransactionService","pageLeaveAlert"],angular.module("rms").controller("DrivingRecordConfirmationController",e)}(),function(){"use strict";!function(e){e.service("DrivingRecordDetailsService",[function(){var e=this;e.getAddtionalFee=function(t,a,r){switch(e.getPurchasedReport(t,a,r)){case"CDR24":return"NO_FEE";case"CDR":case"CDR1to7":case"ODR":return"legalProceedings";default:return"whereAccrued"}},e.getPurchasedReport=function(e,t,a){return e?a.purchased&&!t.purchased&&t.purchasedWithin7Days?"ODR":!t.purchased&&t.purchasedWithin7Days?"CDR1to7":t.purchased&&t.purchasedWithin7Days||t.purchased&&!t.purchasedWithin7Days?"CDR24":a.purchased?"ODR":!1:!1}}])}(angular.module("rms"))}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"rms/drivingRecord/details/driving-record-details.html",controller:"DrivingRecordDetailsController as details"}}angular.module("rms").directive("drivingRecordDetails",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u){function d(){return E.ODR.purchased||E.CDR.purchased||E.CDR.purchased1To7}function p(e){o.scrollTo(e)}function m(t){u.validateTransaction(C.transaction.model.demeritToken).then(function(){e.startDrivingRecordTransaction(t,C.transaction.model,C.transaction.model.demeritToken).then(function(){C.transaction.model.recordProduct=t,b()})})}function g(e){if(!M.eligibleForDrivingRecord)return!1;switch(e){case"CDR":return!E.CDR.purchased;case"ODR":return!E.ODR.purchased&&!E.CDR.purchased&&!E.CDR.purchasedWithin7Days;default:return!1}}function f(){return M.eligibleForDrivingRecord&&C.allowProductPurchase&&(g("CDR")||g("ODR"))}function b(){c.destroy(),r.go("rms.drivingRecord.confirmation",{token:void 0})}function h(){return i.quitTransaction({heading:null}).then(v)}function v(){s.location=n}function y(e){for(var t=1;t<e.length;t++)if(e[t].licenceType.code!==e[t-1].licenceType.code)return!1;return!0}function S(e){function t(e){return e}for(var a=[],r=0;r<e.length;r++){var o=[e[r].licenceClass.description,e[r].licenceType.description];o.filter(t),a.push(o.join(" "))}return a.filter(t),a.length>1?a.slice(0,a.length-1).join(", ")+" and "+a[a.length-1]:a.join(", ")}var C=this,E=C.transaction.model.demerits,M=C.transaction.model.drivingRecord,A={CDR:E.CDR.name.toLowerCase(),ODR:E.ODR.name.toLowerCase()};C.ineligible=!M.eligibleForDrivingRecord,C.purchasedReport=t.getPurchasedReport(M.eligibleForDrivingRecord,E.CDR,E.ODR),C.additionalFee=t.getAddtionalFee(M.eligibleForDrivingRecord,E.CDR,E.ODR),C.pdfLink=E.pdfLink,C.allowProductPurchase=!C.ineligible,C.transaction.model.demeritToken=C.transaction.model.demeritToken||C.transaction.model.transactionToken;var N=C.transaction.model.demerits,T=N.demeritPointsLine;if(T&&T.length>1){var R=T[0],O=T[1],D=parseInt(R.demeritPoints.maximum,10),w=parseInt(O.demeritPoints.maximum,10);D===w?(N.isAdditionalMessage=!1,N.maxDPMultipleLicense=D):D>w?(N.isAdditionalMessage=!0,N.secondaryDemeritDetail=O,N.maxDPMultipleLicense=R.demeritPoints.maximum):(N.isAdditionalMessage=!0,N.secondaryDemeritDetail=R,N.maxDPMultipleLicense=w)}c.listen(),angular.extend(C,{snswSiteUrl:n,canSendODR:d,scrollToAnchor:p,setRecordProduct:m,hasProduct:g,isPurchaseAllowed:f,SNIPPETS:a,isAuthenticated:l.isAuthenticated,isAllLinesSameType:y,joinLineNames:S,names:A,quit:h})}e.$inject=["DrivingRecordService","DrivingRecordDetailsService","SNIPPETS","$state","UIService","snswModal","$window","snswSiteUrl","user","pageLeaveAlert","rmsTransactionService"],angular.module("rms").controller("DrivingRecordDetailsController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"=",receiptData:"="},restrict:"AE",transclude:!0,templateUrl:"rms/drivingRecord/receipt/driving-record-receipt.html",controller:"DrivingRecordReceiptController as receipt"}}angular.module("rms").directive("drivingRecordReceipt",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c){function u(e){n.scrollTo(e)}function d(e){switch(e){case"CDR":return p.transaction.model.transactionDetails.drivingRecordType.toLowerCase().indexOf("certified driving record")>=0;case"ODR":return p.transaction.model.transactionDetails.drivingRecordType.toLowerCase().indexOf("online driving record")>=0;default:return!1}}var p=this,m={severity:"info",message:"&nbsp;<strong>Important information</strong>"};c.listen(),angular.extend(p,{snswSiteUrl:e,details:p.transaction.model,SNIPPETS:s,infoPanelObj:m,isAuthenticated:l.isAuthenticated,scrollToAnchor:u,transactionToken:i.token,isRecord:d,email:p.transaction.model.transactionDetails.RMSCustomerEmail})}e.$inject=["snswSiteUrl","$state","$log","DrivingRecordService","rmsPdfService","$stateParams","SNIPPETS","UIService","user","pageLeaveAlert"],angular.module("rms").controller("DrivingRecordReceiptController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"rms/drivingRecord/terms/driving-record-terms.html",controller:"DrivingRecordTermsController as terms"}}angular.module("rms").directive("drivingRecordTerms",e)}(),function(){"use strict";function e(e,t,a,r,o){function i(){return a.privacyStatement()}function s(){n.form.$valid&&o.validateTransaction(n.transaction.model.transactionToken).then(function(){var t=e.current.name.split(".").slice(0,2).join(".");o.updateModel({stateOrigin:t}),r.destroy(),e.go(t+".details")})}var n=this,l=[{key:"termsAndConditions",type:"checkbox-label-with-action",templateOptions:{required:!0,label:"Terms and Conditions",labels:[{text:"I agree to the"},{text:"Terms and Conditions",action:function(){return a.remoteTermsAndConditions({heading:"Terms & Conditions: Check demerits and driving record",productCode:n.transaction.code})}}]},validation:{messages:{required:'"Please accept the Terms and Conditions to continue."'}}}];r.listen(),angular.extend(n,{fields:l,showPrivacy:i,quitText:n.transaction.quitState?"Back":"Quit",onSubmit:s})}e.$inject=["$state","DrivingRecordService","snswModal","pageLeaveAlert","rmsTransactionService"],angular.module("rms").controller("DrivingRecordTermsController",e)}(),function(){"use strict";function e(){return{scope:{},restrict:"AE",transclude:!0,bindToController:{transaction:"="},templateUrl:"rms/electGoodBehaviour/confirmation/elect-good-behaviour-confirmation.html",controller:"electGoodBehaviourConfirmationController as confirmation"}}angular.module("rms").directive("electGoodBehaviourConfirmation",e)}(),function(){"use strict";function e(e,t,a,r,o){function i(){return"1"!==u.eligibility.iTopCount}function s(){r.destroy(),e.go("rms.electGoodBehaviour.declarations")}function n(){e.go("rms.electGoodBehaviour.receipt")}function l(){c.form.$valid&&(r.destroy(),n())}var c=this,u=t.getModel();o.isTLA&&(u.LicenceNumber=u.cardNumber),r.listen();var d=[{key:"termsAndConditions",type:"checkbox-label-with-action",templateOptions:{required:!0,label:"Terms and Conditions",labels:[{text:"I agree to the"},{text:"Terms and Conditions",action:function(){return a.remoteTermsAndConditions({heading:"Terms & Conditions: Elect good behaviour",transactionToken:u.transactionToken})}}]},validation:{messages:{required:'"Please accept the Terms and Conditions to continue."'}}}];angular.extend(c,{onSubmit:l,reviewMessage:{severity:"info"},showGuidance:i,model:u,fields:d,back:s})}e.$inject=["$state","rmsTransactionService","snswModal","pageLeaveAlert","user"],angular.module("rms").controller("electGoodBehaviourConfirmationController",e)}(),function(){"use strict";function e(){return{scope:{},restrict:"AE",transclude:!0,bindToController:{transaction:"="},templateUrl:"rms/electGoodBehaviour/declarations/elect-good-behaviour-declarations.html",controller:"electGoodBehaviourDeclarationsController as declarations"}}angular.module("rms").directive("electGoodBehaviourDeclarations",e)}(),function(){"use strict";function e(e,t,a,r,o){function i(){var e=u.questions;e.sort(function(e,t){return e.displayOrder-t.displayOrder}),d=e.map(function(e){var t=e.text;return t=t.replace("|commencementDate|",u.commencementDate),t=t.replace("|licenceNumber|",u.eligibility.licenceId),{key:"declarationAnswers["+e.displayOrder+"]",type:"checkbox-label-with-action",wrapper:["validation"],templateOptions:{labels:[{text:t}],required:!0},validation:{messages:{required:'"Please accept this declaration"'}}}})}function s(){e.go("rms.electGoodBehaviour.confirmation")}function n(){c.form.$valid&&(o.destroy(),a.updateModel(),s())}function l(){o.destroy(),e.go("rms.electGoodBehaviour.details")}var c=this,u=a.getModel();u.commencementDate=r("moment")(u.eligibility.suspensionStartDate,"LL");var d=[];i(),o.listen(),angular.extend(c,{onSubmit:n,model:u,fields:d,back:l})}e.$inject=["$state","$scope","rmsTransactionService","$filter","pageLeaveAlert"],angular.module("rms").controller("electGoodBehaviourDeclarationsController",e)}(),function(){"use strict";function e(){return{scope:{},restrict:"AE",transclude:!0,bindToController:{transaction:"="},templateUrl:"rms/electGoodBehaviour/details/elect-good-behaviour-details.html",controller:"electGoodBehaviourDetailsController as details"}}angular.module("rms").directive("electGoodBehaviourDetails",e)}(),function(){"use strict";function e(e,t,a,r,o){function i(t){o.destroy(),t.eligibility&&"Y"!==t.eligibility.eligibilityStatus?e.go("rms.electGoodBehaviour.ineligible"):e.go("rms.electGoodBehaviour.declarations")}function s(e){c.alert=angular.extend({},e)}function n(e){var t=e.message||e.response.statusMessage,a=e.type||"danger",r=e.heading||'<i class="fa fa-exclamation-triangle"></i>';s({type:a,heading:r,text:t})}function l(){if(c.form.$valid){var e=angular.extend({},{transactionToken:u.transactionToken,suspensionLetterID:u.letterId});a.getElectGoodBehaviourEligibility(e).then(r.updateModel).then(function(){return a.getElectGoodBehaviourDeclarations({transactionToken:u.transactionToken})}).then(r.updateModel).then(i)["catch"](n)}}var c=this,u=r.getModel();o.listen();var d=[{key:"letterId",type:"input",wrapper:["label","validation","hint"],templateOptions:{required:!0,label:"Suspension letter ID number.",hint:"This number starts with the letter 'D' and can be found in the top left corner of your notice of suspension letter.",pattern:"[dD][a-zA-Z0-9]+"},validation:{messages:{required:'"Invalid letter ID number. Please enter a valid letter ID that starts with a D."',pattern:'"Invalid letter ID number. Please enter a valid letter ID that starts with a D."'}}}];angular.extend(c,{fields:d,onSubmit:l,quitText:c.transaction.quitState?"Back":"Quit",model:u,familyName:u.familyName||u.customer.customerName.familyName,LicenceNumber:u.cardNumber||u.LicenceNumber})}e.$inject=["$state","$scope","electGoodBehaviourService","rmsTransactionService","pageLeaveAlert"],angular.module("rms").controller("electGoodBehaviourDetailsController",e)}(),function(){"use strict";function e(){return{scope:{},restrict:"AE",transclude:!0,bindToController:{transaction:"=",receiptData:"="},templateUrl:"rms/electGoodBehaviour/receipt/elect-good-behaviour-receipt.html",controller:"electGoodBehaviourReceiptController as receipt"}}angular.module("rms").directive("electGoodBehaviourReceipt",e)}(),function(){"use strict";function e(e,t,a){var r=this;a.listen(),r.important={severity:"info",message:"<strong>Important information</strong>"},angular.extend(r,{snswSiteUrl:t,passedDKT:"CUSTOMER_TO_COMPLETE_DKT"!==r.receiptData.warningCode,SNIPPETS:e})}e.$inject=["SNIPPETS","snswSiteUrl","pageLeaveAlert"],angular.module("rms").controller("electGoodBehaviourReceiptController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d){var p;a.errorMessages=[],r.transErrorInfo&&(a.transErrorInfo=r.transErrorInfo,p=a.transErrorInfo&&a.transErrorInfo.document&&a.transErrorInfo.document.content),console.log("errorController called => $stateParams=",r,"$scope.transErrorInfo=",a.transErrorInfo),r.transactionToken&&u.getReceiptData(r.transactionToken).then(function(e){d.successResult(e,a,a.model),window.scrollTo(0,0)})["catch"](d.failResult(a)),a.transErrorInfo.hidePageHeader===!0?a.pageHeader="":a.pageHeader="An error has occurred",a.$watch("$scope.model",function(e,t){""!==e&&c.listen()}),a.$on("$destroy",function(){c.destroy()}),""===r.transactionToken&&(a.fields=[{template:'<snsw-error-messages messages="to.getErrorMessages()"></snsw-error-messages>',templateOptions:{getErrorMessages:function(){return a.transErrorInfo.messages&&a.transErrorInfo.messages.length>0?a.transErrorInfo.messages:""}},hideExpression:function(){var e=!a.transErrorInfo.style||"text"!==a.transErrorInfo.style;return e}},{key:"message-error",type:"message-panel",templateOptions:{options:{severity:a.transErrorInfo.style,hasMargin:!1,message:t.trustAsHtml(a.transErrorInfo.messages[0].message)}},hideExpression:function(){var e=!a.transErrorInfo.style||"info"!==a.transErrorInfo.style&&"error"!==a.transErrorInfo.style;return e}},{key:"document",type:"message-panel",templateOptions:{pdfFile:p,fileName:"Declaration.pdf",options:{severity:"info",hasMargin:!0,message:t.trustAsHtml(a.transErrorInfo.document?a.transErrorInfo.document.message:""),anchor:{iconClass:"fa fa-file-pdf-o",target:"_blank",text:t.trustAsHtml(s.RMS.RENEWLICENCE.INELIGIBLE.DOWNLOADLICENCEPDFTEXT)}}},hideExpression:function(){var e=!p;return console.log("in message-panel hideExpression, rlt=",e),e}}]),a.rightHidden=function(){return a.errorMessages.length>0},a.rightTitle=function(){return s.GLOBAL.MENU.LOGOUT},a.leftTitle=function(){return s.GLOBAL.ACTIONS.QUIT},a.onSubmit=function(){return a.logoutConfirm()},a.leftAction=function(){return a.quit()},a.logoutConfirm=function(){i.forceRedirect=!0,n.open({heading:s.MYACCOUNT.LOGOUTCONFIRMMODAL.HEADING,body:s.MYACCOUNT.LOGOUTCONFIRMMODAL.AREYOUSURE,primaryButton:s.MYACCOUNT.LOGOUTCONFIRMMODAL.LOGOUT}).then(function(e){var t=o.location.origin?o.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");window.location.href=t+l})},a.quit=function(){c.listen(),e.go("quit"),c.destroy()}}e.$inject=["$state","$sce","$scope","$stateParams","$window","$rootScope","SNIPPETS","snswModal","logoutUrl","pageLeaveAlert","receiptService","commonUtil"],angular.module("rms").controller("errorController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"rms/freeRegoCheck/details/free-rego-check-details.html",controller:"freeRegoCheckDetailsController as details"}}angular.module("rms.free-rego-check").directive("freeRegoCheckDetails",e)}(),function(){"use strict";function e(e,a,r,o,i,s,n,l,c,u,d){function p(){E.alert=void 0}function m(a){var r=a.response||{},i=r.statusObject||{},s=a;if("VEHICLE_HAS_CAMS"===i.messageCode&&(o.updateModel({isNotEligible:!0}),s=t,s.text=r.message),"CUSTOMER_HAS_CAMS"===i.messageCode)return e.go("rms.ineligible",{transactionTitle:"Free Registration Check",message:a.message});if("PLATE_CONDITIONALLY_REGISTERED"===i.messageCode){var n=o.savePlateSessionState(o.updateModel({isNotEligible:!0,notEligibleMessage:s.message,vehicle:{hasConditionalRegistrations:!0}},r.statusObject));return E.transaction.goToNextState(n)}E.alert=o.alert(s)}function g(e,t){var a=t.vehicle;return o.startTransaction(e,t,t.transactionToken).then(function(e){return r.getVehicleRego(e.transactionToken,a)}).then(o.updateModel)}function f(t,a){var i={vehicle:t,plateNumber:t.NSWPlateNumber};return a?void g("VEHHISTCHK",i).then(r.historyCheckEligibility).then(function(t){return o.updateModel({vhcEligibilityResponse:t,returnState:e.current?e.current.name:"rms.freeRegoCheck.details"})}).then(h)["catch"](m):g("FREEREGCHK",i).then(b)["catch"](m)}function b(){return e.go("rms.freeRegoCheck.display")}function h(){return e.go("rms.vehicleHistoryReport.confirm")}function v(e){return p(),E.form.$valid?(r.setTermsAndConditionsAgreed(),o.startTransaction(E.transaction.code,e,e.transactionToken).then(r.getVehicleListByPlateNumber).then(o.updateModel).then(o.savePlateSessionState).then(E.transaction.goToNextState)["catch"](m)):void 0}function y(){E.previousSearches=i.clear()}function S(){return a.quitTransaction().then(C)}function C(){n.location=c}var E=this;o.resetModel();var M=i.list(),A=s.list(),N=M.length+A.length,T=[{type:"input",key:"plateNumber",wrapper:["label","hint","validation","bootstrap-row-col"],templateOptions:{type:"text",label:N?"Search another NSW plate number":"NSW plate number",hint:"Enter the vehicle plate number without spaces or dots, example ABC123",required:!0,maxlength:6,pattern:"[a-zA-Z0-9]*",bootstrapColClassNames:"col-md-9"},validation:{messages:{required:'"Enter value in the NSW plate number field"',maxlength:'"The NSW plate number should not exceed 6 characters"',pattern:'"Invalid plate number format. Must contain numbers or letters only"'}}},{key:"termsAndConditions",type:"checkbox-label-with-action",templateOptions:{required:!0,label:"Terms and Conditions",labels:[{text:"I agree to the"},{text:"Terms and Conditions",action:function(){return a.remoteTermsAndConditions({heading:"Terms and Conditions",productCode:E.transaction.code})}}]},hideExpression:function(){return r.getTermsAndConditionsAgreed()},validation:{messages:{required:'"Please accept the Terms and Conditions to continue"'}}}];!E.transaction.hasCaptcha||u||d.isAuthenticated||T.push({key:"captchaValue",type:"captcha",templateOptions:{label:"Captcha",required:!0}}),angular.extend(E,{quit:S,model:o.getModel(),fields:T,onSubmit:v,selectVehicle:f,dismissAlert:p,previousSearches:M,purchasedReports:A,hidePreviousHistory:e.params&&e.params.hidePreviousHistory||0===M.length&&0===A.length||!1,clearPreviousSearches:y})}e.$inject=["$state","snswModal","freeRegoCheckService","rmsTransactionService","previousPlateSearch","purchasedReportList","$window","$log","snswSiteUrl","isRecaptchaDisabled","user"];var t={type:"danger",heading:"Error!",text:"%Entered plate number is not eligible for the Replacement of Registration Certificate%"};angular.module("rms.free-rego-check").controller("freeRegoCheckDetailsController",e);
}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"rms/freeRegoCheck/display/free-rego-check-display.html",controller:"freeRegoCheckDisplayController as display"}}angular.module("rms.free-rego-check").directive("freeRegoCheckDisplay",e)}(),function(){"use strict";function e(e,a,r,o,i,s,n){function l(){return e.go("rms.vehicleHistoryReport.confirm")}function c(){m.alert=void 0}function u(e){var a=e.response||{},r=e;"INVALID_PLATE_ID_TYPE"===a.statusObject.messageCode&&(n.updateModel({isNotEligible:!0}),t.text=a.statusMessage,r=t),m.alert=n.alert(r)}function d(e){n.startTransaction("VEHHISTCHK",e,e.transactionToken).then(r.historyCheckEligibility).then(function(e){return n.updateModel({vhcEligibilityResponse:e,returnState:"rms.freeRegoCheck.display"})}).then(l)["catch"](u)}function p(){i.location=s}var m=this,g=n.getModel();g.isNotEligible&&(g.notEligibleMessage&&(t.text=g.notEligibleMessage),m.alert=n.alert(t)),angular.extend(m,{SNIPPETS:o,snswSiteUrl:s,dismissAlert:c,model:g,onSubmit:d,finish:p,goToPrevState:m.transaction.goToPrevState,hasPreviousHistory:a.hasPreviousHistory})}e.$inject=["$state","$stateParams","freeRegoCheckService","SNIPPETS","$window","snswSiteUrl","rmsTransactionService"];var t={text:"Sorry, this vehicle is ineligible for a vehicle history report because it is conditionally registered. Need help? Call us on 13 77 88"};angular.module("rms.free-rego-check").controller("freeRegoCheckDisplayController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"rms/freeRegoCheck/multiple/free-rego-check-multiple.html",controller:"freeRegoCheckMultipleController as multiple"}}angular.module("rms.free-rego-check").directive("freeRegoCheckMultiple",e)}(),function(){"use strict";function e(e,t,a,r){function o(){}function i(e){var t=e.vehicles[e.selectedVehicle];e=r.updateModel({vehicle:t}),a.getVehicleRego(e.transactionToken,t).then(r.updateModel).then(r.savePlateSessionState).then(s.transaction.goToNextState)["catch"](o)}var s=this,n=r.getModel(),l=n.vehicles.map(function(e,t){return{value:t,plateType:e.plateType,vehiclePlateNumber:e.NSWPlateNumber,vehicleDescription:e.manufactureYear+" "+e.vehicleColour+" "+e.manufacturer+" "+e.model+" "+e.bodyShape,vehicleVinChassis:e.vinNumber||e.chassisNumber}}),c=[{key:"selectedVehicle",type:"vehicle-radio-button",wrapper:["validation","bootstrap-row-col"],templateOptions:{required:!0,options:l,label:"Select the vehicle",bootstrapColClassNames:"col-xs-12 col-md-9"}}];angular.extend(s,{fields:c,onSubmit:i,model:n,vehicleCount:n.vehicles.length,goToPrevState:s.transaction.goToPrevState})}e.$inject=["$state","$parse","freeRegoCheckService","rmsTransactionService"],angular.module("rms.free-rego-check").controller("freeRegoCheckMultipleController",e)}(),function(){"use strict";angular.module("rms").controller("NodBaseController",["$filter","$scope","$rootScope","$state","SNIPPETS","token","checkUserEligibilityAndEmailSuccess","isAuthenticated","isLinkedToRms","pageLeaveAlert",function(e,t,a,r,o,i,s,n,l,c){var u=this;u.gotoGuestPage=function(){c.destroy(),r.go("nod.guest")},console.log("Controller.NodBaseController called"),t.model={vehiclePlateNumber:""},t.adaptVehicleInfo=function(e){var t,a=e.registrationInfo;return t={vehiclePlateNumber:a.plate.plateNumber,plateType:a.plate.plateType,vehicleRegistrationId:a.registrationId,vehicleExpiry:a.registrationEndDate,vehicleDescription:function(e){return e.modelData.manufactureYear+" "+e.colour.description+" "+e.modelData.model.description+" "+e.modelData.bodyShape.description}(a),vehicleVinChassis:a.vinNumber}},t.adaptVehicleInfoFromStatusObject=function(e){var t,a=e.eligibilityCheck.vehicleRegistrationInfo;return t={vehiclePlateNumber:a.plateInfo.plateNumber,plateType:a.plateInfo.plateType,vehicleRegistrationId:a.registrationId,vehicleExpiry:a.registrationEndDate,vehicleDescription:function(e){return e.vehicleModelInfo.manufactureYear+" "+e.vehicleColour.description+" "+e.vehicleModelInfo.modelInfo.description+" "+e.vehicleModelInfo.bodyShape.description}(a),vehicleVinChassis:a.vinNumber}},t.sanityCheck=function(e,a,r){console.log("$scope.sanityCheck called");var o=!0;return a||t.isTlaDataSubmitted()||(o=!1),o||u.gotoGuestPage(),o},t.moreSanityCheck=function(e,a,r){return console.log("$scope.moreSanityCheck called => ","selectedVehicle=",e,"isAuthenticated=",a,"$state=",r),e?!0:(a||t.isTlaDataSubmitted()?r.go("nod.vehicleDetails"):u.gotoGuestPage(),!1)},t.getText=function(e){var t="";return t="PRIVATELINK"===e?o.RMS.TRANSFERREGO.BOUGHTVEHICLE.PRIVATELINK:"CLOSE"===e?o.GLOBAL.ACTIONS.CLOSE:"SNSWHOME"===e?o.MYACCOUNT.LINKRMS.NOTSUCCESS.SNSWHOME:o.RMS.NOD[e]},t.tickTlaDataSubmitted=function(e){t.model.tlaDataSubmitted=e},t.getDisposalType=function(){return t.model.disposalType},t.disposalTypeIsDealer=function(){return"Dealer"===t.getDisposalType()},t.disposalTypeIsPrivate=function(){return"Private"===t.getDisposalType()},t.disposalTypeIsOther=function(){return"Other"===t.getDisposalType()},t.isTlaDataSubmitted=function(){return t.model.tlaDataSubmitted},t.isAllFormFieldsValid=function(e,t){for(var a,r=0;r<e.length;r++)if(a=e[r],a&&!a.noFormControl&&a.formControl)if(t){if(!t(a))return!1}else if(!a.formControl.$valid)return!1;return!0},t.init=function(){return console.log("$state.current=",r.current,"$state.params=",r.params),t.model.token=i&&i.statusObject?i.statusObject:i,t.model.checkUserEligibilityAndEmailSuccess=s,n||r.current&&r.current.params&&r.current.params.isGuest?!l&&n?void r.go("nod.linkToRMS"):void 0:void u.gotoGuestPage()},t.clearErrorMessages=function(e){e.model.errorMessages=[],e.errorMessages=[]},t.clearErrorMessages(t),t.$on("$viewContentLoaded",function(){t.pageHeader=r.current.data.pageHeader,t.progress={max:r.$current.parent.data.progressMax,now:r.current.data.progressNow}}),t.quit=function(){r.go("quit")},t.back=function(){r.get().map(function(e){var t=parseInt(r.$current.data.progressNow)-2;2===t&&t--,e.parent&&e.parent===r.current.parent&&e.data&&parseInt(e.data.progressNow)===parseInt(r.$current.data.progressNow)-1&&r.go(e.name)})},t.next=function(){r.get().map(function(e){e.parent&&e.parent===r.current.parent&&e.data&&parseInt(e.data.progressNow)===parseInt(r.$current.data.progressNow)+1&&r.go(e.name)})},t.isFirstStep=function(){var e=parseInt(r.$current.data.progressNow);return!(!r.$current.data||1!==e)},t.isLastStep=function(){return!(!r.$current.data||parseInt(r.$current.data.progressNow)!==parseInt(r.$current.parent.data.progressMax))},t.leftAction=function(){t.isFirstStep()?t.quit():t.back()},t.init()}])}(),function(){"use strict";angular.module("rms").controller("NodCardDetailsController",["$filter","$modal","$rootScope","$state","resourcePath","$sce","snswModal","$scope","nodService","SNIPPETS","vf","token","isAuthenticated","commonUtil","pageLeaveAlert",function(e,t,a,r,o,i,s,n,l,c,u,d,p,m,g){console.log("NodCardDetailsController called"),window.scrollTo(0,0);var f=c.RMS.CHANGEDETAILS;n.init=function(){l.preparePageLeaveEvent(n,g)},n.isRightDisabled=function(){return!n.isAllFormFieldsValid(n.fields)},n.onSubmit=function(e){console.log("NodCardDetailsController.onSubmit called"),n.isAllFormFieldsValid(n.fields)&&u.call({remoteAction:"rmsNODCtrl.validateLicenseDetails",params:[e.lastName,e.photoIdNumber,e.cardNumber,e.token],resultMap:function(e){return e}}).then(function(e){n.clearErrorMessages(n),m.successResult(e,n),0===n.errorMessages.length&&(n.tickTlaDataSubmitted(!0),n.next())})["catch"](m.failResult(n))},n.fields=[{noFormControl:!0,template:"<div>{{to.label}}</div>",templateOptions:{label:c.RMS.NOD.FINDHEADING}},{noFormControl:!0,template:'<div><a ng-click="to.openModal()">Where do I find my card details?</a></div><div>{{ to.bodycopy }}</div>',templateOptions:{bodycopy:c.RMS.NOD.REQUIRED,openModal:function(){t.open({templateUrl:"rms/changeDetails/views/cardExamples.html",controller:"cardExamplesController"})}},className:"form-group"},{type:"input-name",key:"lastName",wrapper:["label-with-modal","hint"],templateOptions:{required:!0,label:i.trustAsHtml(f.LASTNAMELABEL),hint:i.trustAsHtml(f.LASTNAMEHINT),labels:[{text:i.trustAsHtml(f.LASTNAMELINK),openModal:function(){s.open({heading:f.LASTNAMEMODAL.TITLE,body:f.LASTNAMEMODAL.BODY,modalImage:o+"/images/last-name-card.png",secondaryButton:c.GLOBAL.ACTIONS.CLOSE})}},{text:i.trustAsHtml(f.LASTNAMEADDITIONALTEXT)}]}},{type:"input",key:"photoIdNumber",wrapper:["label-with-modal","validation","hint"],templateOptions:{required:!0,label:i.trustAsHtml(f.PHOTOIDNUMBERLABEL),pattern:"[a-zA-Z0-9]{1,10}",hint:i.trustAsHtml(f.PHOTOIDNUMBERHINT),labels:[{text:i.trustAsHtml(f.DRIVERLICENCEMODAL.TITLE),openModal:function(){s.open({heading:f.DRIVERLICENCEMODAL.TITLE,body:f.DRIVERLICENCEMODAL.BODY,modalImage:o+"/images/drivers-licence-number.png",secondaryButton:c.GLOBAL.ACTIONS.CLOSE})}},{text:i.trustAsHtml(f.PHOTOIDADDITIONALTEXT)},{text:i.trustAsHtml(f.PHOTOCARDMODAL.LINK),openModal:function(){s.open({heading:f.PHOTOCARDMODAL.TITLE,body:f.PHOTOCARDMODAL.BODY,modalImage:o+"/images/photo-card-number.png",secondaryButton:c.GLOBAL.ACTIONS.CLOSE})}}]}},{type:"input",key:"cardNumber",wrapper:["label-with-modal","validation","hint"],templateOptions:{required:!0,pattern:"[0-9]{1,10}",hint:i.trustAsHtml(c.RMS.NOD.CARDNUMBERHINT),labels:[{text:i.trustAsHtml(c.RMS.NOD.CARDNUMBERLINK),openModal:function(){t.open({templateUrl:"rms/changeDetails/views/cardNumberModal.html",controller:"cardNumberModalController"})}}]}}],n.init()}])}(),function(){"use strict";angular.module("rms").controller("NodConfirmDetailsController",["$filter","$state","snswModal","$scope","nodService","SNIPPETS","token","isAuthenticated","commonUtil","resourcePath","pageLeaveAlert",function(e,t,a,r,o,i,s,n,l,c,u){window.scrollTo(0,0);var d=function(){return r.disposalTypeIsPrivate()?r.getText("CONFIRMDETAILS_OPERATOR_LICENSENUM"):r.disposalTypeIsDealer()?r.getText("DISPOSALDETAILS_LICENSE_NUMBER"):""},p=function(){return r.disposalTypeIsPrivate()?r.model.personLicenseNumber:r.disposalTypeIsDealer()?r.model.dealerLicenseNumber:""};r.isRightDisabled=function(){return!r.validConfirmForm()},r.rightTitle=function(){return"Submit"};var m=function(){return e("date")(r.model.dateOfSaleOrDisposal,"dd/MM/yyyy")},g=function(){return"$"+e("currency")(r.model.disposalPrice,"").replace(/\.00/,"")},f=function(){return r.disposalTypeIsPrivate()?r.model.personName:r.disposalTypeIsDealer()?r.model.dealerName:""},b=function(){return"licenceNumber"===r.model.photoIdType?r.getText("CONFIRMDETAILS_SELLER_LICENSENUM"):r.getText("CONFIRMDETAILS_SELLER_PHOTOCARDNUM")},h=function(){return r.disposalTypeIsPrivate()?r.getText("CONFIRMDETAILS_OPERATOR_LASTNAME"):r.disposalTypeIsDealer()?r.getText("DISPOSALDETAILS_DEALERNAME"):""},v=function(){return r.model.lastName},y=function(){var e=r.model.photoIdNumber||r.model.cardNumber;return e};r.init=function(){o.preparePageLeaveEvent(r,u),r.errorMessages=r.model.errorMessages,r.sanityCheck(r.model.token,n,t)&&r.moreSanityCheck(r.model.selectedVehicle,n,t)&&(r.fields=[{noFormControl:!0,template:"<p>{{ to.line1 }}</p>",templateOptions:{line1:i.RMS.NOD.CONFIRMDETAILS_BODYCOPY}},{key:"regoPlate",type:"regoPlate-detail",wrapper:["bootstrap-row-col"],templateOptions:{bootstrapColClassNames:"col-md-9"},expressionProperties:{"templateOptions.vehiclePlateNumber":"model.selectedVehicle.vehiclePlateNumber","templateOptions.vehicleDescription":"model.selectedVehicle.vehicleDescription","templateOptions.vehicleVinChassis":"model.selectedVehicle.vehicleVinChassis","templateOptions.vehicleExpiry":"model.selectedVehicle.vehicleExpiry"}},{noFormControl:!0,type:"output-label",templateOptions:{unboldLabel:r.getText("CONFIRMDETAILS_SELLER_LASTNAME"),labelValue:v()}},{noFormControl:!0,type:"output-label",templateOptions:{unboldLabel:b(),labelValue:y()}},{noFormControl:!0,type:"output-label",templateOptions:{unboldLabel:h(),labelValue:f()}},{noFormControl:!0,type:"output-label",templateOptions:{unboldLabel:d(),labelValue:p()}},{noFormControl:!0,type:"output-label",templateOptions:{unboldLabel:r.getText("CONFIRMDETAILS_DISPOSAL_DATE"),labelValue:m()}},{noFormControl:!0,type:"output-label",templateOptions:{unboldLabel:r.getText("CONFIRMDETAILS_PRICE"),labelValue:g()}},{key:"termsAndConditions",type:"checkbox-label-with-action",templateOptions:{required:!0,labels:[{text:i.RMS.TRANSFERREGO.TRANSFERCONFIRM.AGREELABEL},{text:i.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.TERMSLINK,action:function(){o.getTermsConditions().then(function(e){var t,r;2e3===e.statusCode&&"success"===e.statusMessage?(t=e.statusObject.Title,r=e.statusObject.Content__c):(t="Error",r=e.statusMessage),a.open({heading:t,body:r,secondaryButton:i.GLOBAL.ACTIONS.CLOSE})})}}]}},{key:"privacy",type:"modal",templateOptions:{link:{prefix:"Our",name:"privacy statement"},openModal:function(){a.open({heading:i.RMS.NOD.PRIVACYPOLICYHEADING,body:i.RMS.NOD.PRIVACYPOLICYBODY,secondaryButton:i.GLOBAL.ACTIONS.CLOSE})}}},{noFormControl:!0,template:'<div class="form-group">{{ to.line1 }}<ul><li>{{ to.line2 }}<li>{{ to.line3 }}</ul></div>',templateOptions:{line1:i.RMS.NOD.CONFIRMDETAILS_WHENSUBMIT,line2:i.RMS.NOD.CONFIRMDETAILS_SUBMITNOTICE1,line3:i.RMS.NOD.CONFIRMDETAILS_SUBMITNOTICE2}}])},r.validConfirmForm=function(){return r.model.termsAndConditions!==!0?!1:r.isAllFormFieldsValid(r.fields)},r.onSubmit=function(s){console.log("NodConfirmDetailsController.onSubmit called. $scope.model=",JSON.stringify(r.model)),r.validConfirmForm()&&o.processNOD(r.model.token,[{customer:{id:"customerId",idType:"idType"},plate:{plateNumber:r.model.selectedVehicle.vehiclePlateNumber,plateType:r.model.selectedVehicle.plateType},sellingPriceDetails:{price:r.model.disposalPrice,sellingDate:e("date")(r.model.dateOfSaleOrDisposal,"yyyy-MM-dd")},buyerInfo:{buyerType:r.getDisposalType(),buyerDetails:function(){return r.disposalTypeIsPrivate()?{privateBuyerDetails:{cardNumber:r.model.personLicenseNumber,familyName:r.model.personName}}:{dealerBuyerDetails:{dealerLicenceNumber:r.model.dealerLicenseNumber,dealerName:r.model.dealerName,dealerState:"New South Wales"}}}()}},r.model.token]).then(function(e){if(console.log("nodService.processNOD called. resp=",e),r.clearErrorMessages(r),l.successResult(e,r,r.model),0===r.errorMessages.length){if(!r.model.token)return void console.log("NodConfirmDetailsController $scope.model.token is null!");var o=function(){u.destroy(),t.go("payment",{transactionToken:r.model.token})},s=function(e){var t=e&&e.length>0&&e[0].message&&""!==e[0].message;return t};s(r.model.errorMessages)?a.open({heading:null,errorMessages:r.model.errorMessages,primaryButton:i.GLOBAL.ACTIONS.BACK,secondaryButton:i.GLOBAL.ACTIONS.CONTINUE})["catch"](o):0===r.errorMessages.length&&o()}})["catch"](l.failResult(r))},r.init()}])}(),function(){"use strict";angular.module("rms").controller("NodDisposalDetailsController",["$filter","$state","resourcePath","$sce","snswModal","$scope","nodService","SNIPPETS","isAuthenticated","commonUtil","pageLeaveAlert",function(e,t,a,r,o,i,s,n,l,c,u){var d=this;window.scrollTo(0,0),d.init=function(){s.preparePageLeaveEvent(i,u),i.errorMessages=i.model.errorMessages,i.sanityCheck(i.model.token,l,t)&&i.moreSanityCheck(i.model.selectedVehicle,l,t)&&(i.fields=[{key:"regoPlate",type:"regoPlate-detail",wrapper:["bootstrap-row-col"],templateOptions:{bootstrapColClassNames:"col-md-9"},expressionProperties:{"templateOptions.vehiclePlateNumber":"model.selectedVehicle.vehiclePlateNumber","templateOptions.vehicleDescription":"model.selectedVehicle.vehicleDescription","templateOptions.vehicleVinChassis":"model.selectedVehicle.vehicleVinChassis","templateOptions.vehicleExpiry":"model.selectedVehicle.vehicleExpiry"}},{noFormControl:!0,type:"bodycopy",templateOptions:{bodycopyContent:r.trustAsHtml(i.getText("DISPOSALDETAILS_BODYCOPY"))}},{key:"dateOfSaleOrDisposal",type:"datepicker",wrapper:["label","validation","hint"],templateOptions:{required:!0,label:r.trustAsHtml(i.getText("DISPOSALDETAILS_DATEPICKER_LABEL")),hint:r.trustAsHtml(i.getText("DISPOSALDETAILS_DATE_HINT")),isOpen:!1,type:"text",dt:new Date,click:i.getText("DISPOSALDETAILS_DATEPICKER_LABEL"),open:function(e){e.preventDefault(),e.stopPropagation(),this.isOpen=!0},dateDisabled:function(e,t){var a=(new Date).setHours(0,0,0,0);return e=e.setHours(0,0,0,0),"day"===t&&e>a}},controller:["$scope",function(e){e.isAlreadyInvalidDateString=function(t){var a=e.invalidDateElseWhere||!t.$viewValue||""===t.$viewValue;return a}}]},{key:"disposalPrice",type:"input-price",wrapper:["label","validation","hint","bootstrap-row-col"],templateOptions:{bootstrapColClassNames:"col-xs-12",required:!0,hint:r.trustAsHtml(i.getText("DISPOSALDETAILS_PRICE_HINT")),label:r.trustAsHtml(i.getText("DISPOSALDETAILS_PRICE"))},validation:{messages:{validInputPrice:function(){return"The sale price or market value must be greater than 0 and less than 2 million."}}},validators:{validInputPrice:function(e,t){var a=t||e;return a?a>0&&2e6>a:!1}}},{key:"disposalType",type:"sale-radio-button",wrapper:["label","validation"],templateOptions:{required:!0,selectLabelSnippet:r.trustAsHtml(i.getText("DISPOSALDETAILS_TYPE_LABEL")),items:[{value:"Private",label:i.getText("DISPOSALDETAILS_SALETOPERSON")},{value:"Dealer",label:i.getText("DISPOSALDETAILS_SALETODEALER")},{value:"Other",label:i.getText("DISPOSALDETAILS_SALETOOTHER")}]}},{noFormControl:!0,type:"bodycopy",wrapper:["ngshow"],templateOptions:{show:i.disposalTypeIsDealer,bodycopyContent:r.trustAsHtml(i.getText("DISPOSALDETAILS_BODYCOPY_DEALER"))}},{key:"dealerName",type:"input-name",className:"rego-plate",wrapper:["label","validation","hint","ngshow"],templateOptions:{required:i.disposalTypeIsDealer,minlength:1,maxlength:30,show:i.disposalTypeIsDealer,label:r.trustAsHtml(i.getText("DISPOSALDETAILS_DEALERNAME")),hint:r.trustAsHtml(i.getText("DISPOSALDETAILS_DEALERNAME_HINT"))}},{key:"dealerLicenseNumber",type:"input",className:"rego-plate",wrapper:["label","validation","hint","ngshow"],validators:{validDealerLicenseNumber:function(e,t){var a=t||e;return a?/^[A-Za-z0-9]{1,10}$/.test(a):!1}},templateOptions:{required:i.disposalTypeIsDealer,minlength:1,maxlength:10,show:i.disposalTypeIsDealer,label:i.getText("DISPOSALDETAILS_LICENSE_NUMBER"),hint:r.trustAsHtml(i.getText("DISPOSALDETAILS_LICENSE_NUMBER_HINT"))}},{noFormControl:!0,wrapper:["ngshow"],template:'<div class="form-group">{{to.bodycopy}}</div>',templateOptions:{bodycopy:r.trustAsHtml(i.getText("DISPOSALDETAILS_BODYCOPY_PERSON")),show:i.disposalTypeIsPrivate}},{key:"personName",type:"input-name",className:"rego-plate",wrapper:["label","validation","hint","ngshow"],templateOptions:{required:i.disposalTypeIsPrivate,minlength:1,maxlength:60,show:i.disposalTypeIsPrivate,hint:r.trustAsHtml(i.getText("DISPOSALDETAILS_PERSONNAME_HINT")),label:r.trustAsHtml(i.getText("DISPOSALDETAILS_PERSONNAME"))}},{key:"personLicenseNumber",type:"input",className:"rego-plate",wrapper:["label-with-modal","validation","hint","ngshow"],validators:{validVehiclePlateNumber:function(e,t){var a=t||e;return a?/^[a-zA-Z0-9]{1,10}$/.test(a):!1}},templateOptions:{required:i.disposalTypeIsPrivate,minlength:1,maxlength:10,show:i.disposalTypeIsPrivate,hint:r.trustAsHtml(i.getText("DISPOSALDETAILS_PERSONLICENSENUMBERHINT")),labels:[{text:i.getText("NEW")},{text:i.getText("NSWLICENSE"),openModal:function(){o.open({heading:i.getText("LICENSEMODALHEADING"),modalImage:a+"/images/drivers-licence-number.png",body:i.getText("LICENSEMODALBODY"),secondaryButton:n.GLOBAL.ACTIONS.CLOSE})}}]}},{noFormControl:!0,template:"<label>{{ to.line1 }}</label>&nbsp;&nbsp;<span><b>NSW</b></span>",wrapper:["bootstrap-row-col","ngshow"],templateOptions:{show:i.disposalTypeIsDealer,line1:n.RMS.NOD.DISPOSALDETAILS_STATE_CODE}},{noFormControl:!0,template:'<div class="has-error"><p class="alert alert-danger"ng-bind-html="to.line1"></p></div>',wrapper:["ngshow"],templateOptions:{show:i.disposalTypeIsOther,line1:r.trustAsHtml(n.RMS.NOD.NOTONLINE1)}}])},d.init(),d.validDisposalForm=function(){var e=i.getDisposalType(),t=function(e){return function(t){var a;if("Private"===e){if("dealerName"===t.key||"dealerLicenseNumber"===t.key)return!0}else if("Dealer"===e){if("personName"===t.key||"personLicenseNumber"===t.key)return!0}else if("Other"===e&&("dealerName"===t.key||"dealerLicenseNumber"===t.key||"personName"===t.key||"personLicenseNumber"===t.key))return!0;return a=t.formControl&&t.formControl.$valid,a||console.log("validDisposalFormFieldFactory.? called. f=",t),a}};return i.isAllFormFieldsValid(i.fields,t(e))},i.rightTitle=function(){return i.disposalTypeIsOther()?"Quit":"Next"},i.isRightDisabled=function(){var e=!d.validDisposalForm();return console.log("?.$scope.isRightDisabled called",e),e},i.onSubmit=function(){return console.log("NodDisposalDetailsController.onSubmit called. $scope.model=",JSON.stringify(i.model)),i.disposalTypeIsOther()?void i.quit():void((i.disposalTypeIsPrivate()||i.disposalTypeIsDealer())&&d.validDisposalForm()&&s.validateNOD([{customer:{id:"customerId",idType:"idType"},plate:{plateNumber:i.model.selectedVehicle.vehiclePlateNumber,plateType:i.model.selectedVehicle.plateType},sellingPriceDetails:{price:i.model.disposalPrice,sellingDate:e("date")(i.model.dateOfSaleOrDisposal,"yyyy-MM-dd")},buyerInfo:{buyerType:i.getDisposalType(),buyerDetails:function(){return i.disposalTypeIsPrivate()?{privateBuyerDetails:{cardNumber:i.model.personLicenseNumber,familyName:i.model.personName}}:{dealerBuyerDetails:{dealerLicenceNumber:i.model.dealerLicenseNumber,dealerName:i.model.dealerName,dealerState:"New South Wales"}}}()}},i.model.token],function(e){console.log("nodService.validateNOD called. resp=",e),i.clearErrorMessages(i),c.successResult(e,i,i.model),0===i.errorMessages.length&&(e.statusObject&&e.statusObject.validationResult?!function(e){i.model.lastName=e.familyName,e.licenceNumber&&""!==e.licenceNumber?(i.model.photoIdNumber=e.licenceNumber,i.model.photoIdType="licenceNumber"):e.photoCardNumber&&""!==e.photoCardNumber?(i.model.photoIdNumber=e.photoCardNumber,i.model.photoIdType="photoCardNumber"):console.log("licenceNumber and photoCardNumber are missing!")}(e.statusObject.validationResult):console.log("resp.statusObject is missing!"),i.next())},c.failResult(i)))}}])}(),function(){"use strict";angular.module("rms").controller("NodVehicleDetailsController",["$filter","$rootScope","$state","$sce","snswModal","$scope","nodService","SNIPPETS","token","isAuthenticated","commonUtil","pageLeaveAlert","resourcePath",function(e,t,a,r,o,i,s,n,l,c,u,d,p){window.scrollTo(0,0),i.validVehicleForm=function(){return i.model.vehicleId||i.model.vehiclePlateNumber?i.model.vehicleId?!0:i.isAllFormFieldsValid(i.fields):!1},i.isRightDisabled=function(){return!i.validVehicleForm()},i.init=function(){s.preparePageLeaveEvent(i,d),i.errorMessages=i.model.errorMessages,i.sanityCheck(l,c,a)&&(i.fields=[{noFormControl:!0,wrapper:["ngshow"],type:"bodycopy",templateOptions:{bodycopyContent:r.trustAsHtml(i.getText("VEHICLEDETAILS_ZEROVEHICLE")),show:function(){return!i.isTlaDataSubmitted()&&i.model.vehicleOptions&&0===i.model.vehicleOptions.length}}},{key:"vehicleId",type:"vehicle-radio-button",wrapper:["ngshow","bootstrap-row-col"],templateOptions:{bootstrapColClassNames:"col-md-9",show:function(){return i.model.vehicleOptions&&i.model.vehicleOptions.length},onClick:function(t,a,r){var o=e("filter")(i.fields,function(e){return"vehiclePlateNumber"===e.key})[0];o.resetModel(),o.formControl&&(o.formControl.$dirty=o.formControl.$touched=!1),r.model.vehiclePlateNumber=null},modelKey:"vehicleRegistrationId"},controller:["$scope","nodService",function(e,t){return!i.model.token||!i.model.checkUserEligibilityAndEmailSuccess&&i.isTlaDataSubmitted()?(i.model.vehicleOptions=[],void(e.to.label=i.getText("VEHICLEDETAILS_SELECTLABEL1"))):void t.getVehicles(i.model.token).then(function(t){i.clearErrorMessages(i),u.failResult(i)(t);var a=function(t){var a;if(!t||!t.statusObject||!t.statusObject.vehicles)return console.log("getVehicles failed!"),i.model.vehicleOptions=[],null;i.model.vehicleOptions=[];var o,s=[];for(o=0;o<t.statusObject.vehicles.length;o++)s.push(i.adaptVehicleInfo(t.statusObject.vehicles[o]));return a=0!==s.length?i.getText("VEHICLEDETAILS_SELECTLABEL2"):i.getText("VEHICLEDETAILS_SELECTLABEL1"),e.to.label=r.trustAsHtml(a),i.model.vehicleOptions=s,i.model.vehicleOptions&&1===i.model.vehicleOptions.length&&(i.model.vehicleId=i.model.vehicleOptions[0].vehicleRegistrationId),s};e.to.options=a(t)||[]})["catch"](u.failResult(i))}]},{noFormControl:!0,type:"bodycopy",templateOptions:{bodycopyContent:r.trustAsHtml(i.getText("VEHICLEDETAILS_IFZEROVEHICLE"))},hideExpression:function(){return!(!i.model.vehicleOptions||0!==i.model.vehicleOptions.length)}},{key:"vehiclePlateNumber",type:"input-plate-number",wrapper:["bootstrap-row-col","label-with-modal","br","label","validation"],templateOptions:{bootstrapColClassNames:"col-md-7",label:n.RMS.TRANSFERREGO.BOUGHTVEHICLE.PLATENUMBERLABEL,onFocus:"model.vehicleId = null",labels:[{text:n.RMS.NOD.WHERE_PLATENUMBER,openModal:function(){o.open({heading:n.RMS.TRANSFERREGO.BOUGHTVEHICLE.PLATENUMBERLABEL,body:'<img class="img-responsive" src="'+p+'/images/rego-notice.png">',secondaryButton:n.GLOBAL.ACTIONS.CLOSE})}}]}}])},i.init(),i.isFirstStep=function(){return!(!c||i.tickTlaDataSubmitted())},i.leftAction=function(){i.isFirstStep()?i.quit():i.back()},i.onSubmit=function(e){console.log("NodVehicleDetailsController.onSubmit called"),i.validVehicleForm()&&(console.log("nodService.getSelectedVehicleInfo will be called"),function(){if(e.vehicleOptions&&e.vehicleOptions.length)for(var t=0;t<e.vehicleOptions.length;t++)e.vehicleId&&e.vehicleId===e.vehicleOptions[t].vehicleRegistrationId&&(e.selectedVehicle=e.vehicleOptions[t],console.log("from vehicleId: model.selectedVehicle=",e.selectedVehicle))}(),s.getSelectedVehicleInfo([e.vehicleId?e.selectedVehicle.vehiclePlateNumber:e.vehiclePlateNumber,e.vehicleId?e.selectedVehicle.plateType:"",e.token],function(t){i.clearErrorMessages(i),u.successResult(t,i,e),0===i.errorMessages.length&&(e.vehiclePlateNumber&&!e.vehicleId&&(e.selectedVehicle=i.adaptVehicleInfoFromStatusObject(t.statusObject),console.log("from vehiclePlateNumber: model.selectedVehicle=",e.selectedVehicle)),e.selectedVehicle.statusObject=t.statusObject,i.next())},u.failResult(i)))}}])}(),function(){"use strict";angular.module("rms").service("nodService",["vf","ipAddressService",function(e,t){this.preparePageLeaveEvent=function(e,t){e.$watch("$scope.model",function(e,a){var r=/^nod\.(card|vehicleDetails|disposalDetails|confirmDetails)$/;""!==e&&t.listen(function(e,t){return r.test(e.name)?!!r.test(t.name):!0})}),e.$on("$destroy",function(){t.destroy()})},this.getVehicles=function(t){var a={remoteAction:"rmsNODCtrl.getVehicles",params:t,resultMap:function(e){return e}};return e.call(a)},this.getTermsConditions=function(){var t="",a={remoteAction:"rmsNODCtrl.getTermsConditions",params:t,resultMap:function(e){return console.log(e),e}};return e.call(a)},this.getSelectedVehicleInfo=function(t,a,r){console.log("getSelectedVehicleInfo called params=",t);var o={remoteAction:"rmsNODCtrl.getSelectedVehicleInfo",params:t};e.call(o).then(a)["catch"](r)},this.validateNOD=function(t,a,r){console.log("validateNOD called params=",t);var o={remoteAction:"rmsNODCtrl.validateNOD",params:t};e.call(o).then(a)["catch"](r)},this.processNOD=function(t,a){return e.call({remoteAction:"rmsNODCtrl.processNOD",params:a})}}])}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d){var p=angular.extend(this,a.$parent.vm);p.name="bpayController",p.currentURL=u.$$url,p.progressMax=t.$current.data.progressMax,p.pageTitle=function(){return p.pageHeader},c.$on("$locationChangeSuccess",function(e,a,r){a!==r&&-1!==r.indexOf(p.currentURL)&&-1===a.indexOf("survey")&&-1===a.indexOf("oeh")&&(d.listen(),t.transitionTo("quit"),d.destroy())}),p.fields=[{noFormControl:!0,template:'<snsw-receipt-logo hide-print-button="true"></snsw-receipt-logo>'},{noFormControl:!0,template:"<h2>{{to.transactionName}}</h2>",templateOptions:{transactionName:o.RMS.RECEIPT.RENEWLABEL},className:"row col-xs-12"},{noFormControl:!0,template:'<p class="col-xs-12"><b>'+o.RMS.BPAY.PAYMENTLABEL+"</b></p>",className:"row"},{noFormControl:!0,template:'<p class="col-xs-12">'+o.RMS.BPAY.TIMEMSG+"</p>",className:"row"},{noFormControl:!0,template:'<p class="col-xs-12">'+o.RMS.BPAY.REFMSG+"</p>",className:"row"},{noFormControl:!0,template:'<p class="col-xs-12">'+o.RMS.BPAY.EFFECTMSG+"</p>",className:"row"},{noFormControl:!0,template:'<snsw-error-messages messages="to.getErrorMessages()"></snsw-error-messages>',templateOptions:{getErrorMessages:function(){return p.model.errorMessages?p.model.errorMessages:void 0}}},{type:"hr",className:"hidden-print"},{key:"parkPromotion",noFormControl:!0,template:'<div class="col-xs-12 col-md-12"><p><strong>'+o.OEH.NATIONALPARKPASS.RENEWREGORECEIPTNPPHEADING+"</strong></p>"+o.RMS.RECEIPT.PARKPROMOTION+"</div>",className:"form-group row hidden-print"},{key:"buyADiscountedPassExpanded",type:"button",className:"form-group",hideExpression:"model.parkPromotionMoreLink",templateOptions:{label:"Buy a pass",buttonClass:"btn btn-default pull-right",click:function(){d.listen(),t.transitionTo("oeh.nationalParkPass.details",{transactionToken:t.params.transactionToken}),d.destroy()}}},{noFormControl:!0,template:'<hr class="hidden-print">'},{noFormControl:!0,template:'<p class="col-xs-12 hidden-print">'+o.GLOBAL.RECEIPT.SURVEY.IFYOUHAVERECENTLY+"</p>",className:"row"},{key:"changeAddress",type:"anchor",templateOptions:{link:o.RMS.RECEIPT.CHANGEADDRESSCONTACTLINK,label:o.RMS.RECEIPT.CHANGEADDRESSCONTACTLABEL}},{key:"replaceRegistration",type:"anchor",templateOptions:{link:o.RMS.RECEIPT.REPLACEREGISTRATIONLINK,label:o.RMS.RECEIPT.REPLACEREGISTRATIONLABEL}},{key:"registrationCheck",type:"anchor",templateOptions:{link:o.RMS.RECEIPT.REGISTRATIONCHECKLINK,label:o.RMS.RECEIPT.REGISTRATIONCHECKLABEL}},{key:"renewBoat",type:"anchor",templateOptions:{link:o.RMS.RECEIPT.RENEWBOATLINK,label:o.RMS.RECEIPT.RENEWBOATLABEL}},{key:"surveyButton",type:"button",className:"hidden-print",templateOptions:{className:"btn btn-default btn-md",label:o.RMS.RECEIPT.SURVEYBUTTON,click:function(){t.go("survey",{transactionToken:p.transactionToken})}}},{type:"hr"},{noFormControl:!0,template:'<snsw-receipt-do-more class="" link="'+o.GLOBAL.ACTIONS.QUITBUTTONLINK+'" isAuthenticated='+s+"></snsw-receipt-do-more>"}]}e.$inject=["$stateParams","$state","$scope","receiptData","SNIPPETS","commonUtil","isAuthenticated","vf","bpayService","$rootScope","$location","pageLeaveAlert"],angular.module("rms").controller("bpayController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l){var c=this;c.name="paymentController",c.fields=[],c.model={},c.transactionInfo=a.statusObject.transactionInfo,a.statusObject.transactionInfo&&a.statusObject.transactionInfo.paymentResponse&&"cancelpaylater"===a.statusObject.transactionInfo.paymentResponse.transactionStatus.toLowerCase()?(c.pageHeader=a.statusObject.transactionInfo.transactionTypeName,t.go("payment.bpay")):"RENEWREGO"===a.statusObject.transactionInfo.transactionTypeCode?t.go("payment.receipt.renewRego"):"TRANSFERREGO"===a.statusObject.transactionInfo.transactionTypeCode?t.go("payment.receipt.transferRego"):"NOD"===a.statusObject.transactionInfo.transactionTypeCode?t.go("payment.receipt.nod"):"RENEWLIC"===a.statusObject.transactionInfo.transactionTypeCode&&t.go("payment.receipt.renewLicence"),a.statusObject.transactionInfo&&a.statusObject.transactionInfo.processResponse&&a.statusObject.transactionInfo.processResponse.messages?c.messages=a.statusObject.transactionInfo.processResponse.messages:c.messages=null,a.statusObject.transactionInfo.processResponse&&a.statusObject.transactionInfo.processResponse.confirmation&&a.statusObject.transactionInfo.processResponse.confirmation.customerEmail?c.rmsCustomerEmail=a.statusObject.transactionInfo.processResponse.confirmation.customerEmail:a.statusObject.transactionInfo&&a.statusObject.transactionInfo.processResponse&&a.statusObject.transactionInfo.processResponse.confirmation&&a.statusObject.transactionInfo.processResponse.confirmation.customer&&a.statusObject.transactionInfo.processResponse.confirmation.customer.customerEmail?c.rmsCustomerEmail=a.statusObject.transactionInfo.processResponse.confirmation.customer.customerEmail:c.rmsCustomerEmail="",
a.statusObject.transactionInfo.processResponse&&a.statusObject.transactionInfo.processResponse.confirmation&&a.statusObject.transactionInfo.processResponse.confirmation.deliveryAddress?c.mailAddress=a.statusObject.transactionInfo.processResponse.confirmation.deliveryAddress:a.statusObject.transactionInfo&&a.statusObject.transactionInfo.processResponse&&a.statusObject.transactionInfo.processResponse.confirmation&&a.statusObject.transactionInfo.processResponse.confirmation.customer&&a.statusObject.transactionInfo.processResponse.confirmation.customer.deliveryAddress?c.mailAddress=a.statusObject.transactionInfo.processResponse.confirmation.customer.deliveryAddress:c.mailAddress="",c.rmsCustomerEmail&&-1!==c.rmsCustomerEmail.indexOf("***")?c.model.rmsCustomerEmail="":c.model.rmsCustomerEmail=c.rmsCustomerEmail,a.statusObject.transactionInfo&&a.statusObject.transactionInfo.paymentResponse&&a.statusObject.transactionInfo.paymentResponse.products&&a.statusObject.transactionInfo.paymentResponse.products[0]&&a.statusObject.transactionInfo.paymentResponse.products[0].amount?c.model.cost=a.statusObject.transactionInfo.paymentResponse.products[0].amount/100:c.model.cost=0,c.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)}}e.$inject=["$stateParams","$state","receiptData","$scope","$rootScope","vf","$timeout","SNIPPETS","isAuthenticated"],angular.module("rms").controller("paymentController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n){var l=angular.extend(this,a.$parent.vm);l.name="receiptController",l.fields=[]}e.$inject=["$stateParams","$state","$scope","SNIPPETS","commonUtil","vf","receiptService","$timeout"],angular.module("rms").controller("receiptController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d,p){var m=angular.extend(this,r.$parent.vm);m.name="receiptNodController",m.currentURL=o.$$url,m.pageTitle=function(){return a.current.data.title},m.progressMax=a.current.data.progressMax,t.$on("$locationChangeSuccess",function(e,t,r,o,i){var s="payment/"+a.params.transactionToken;t!==r&&m.endsWith(t,s)&&(p.listen(),a.transitionTo("quit"),p.destroy())}),m.fields=[{noFormControl:!0,template:"<snsw-receipt-logo></snsw-receipt-logo>"},{noFormControl:!0,template:'<div><h2>{{to.transactionName}}&nbsp;{{to.receiptLabel}}</h2></div><div class="alert alert-success col-xs-12 col-md-12"><span class="fa fa-check-circle fa-lg passGreen"></span><span>&nbsp;{{to.successLabel}}</span></div>',templateOptions:{receiptLabel:s.RMS.RECEIPT.RECEIPTLABEL,transactionName:s.RMS.NOD.RECEIPT_HEADER},expressionProperties:{"templateOptions.successLabel":function(){return s.RMS.RECEIPT.SUCCESSFULLYCOMPLETEDNOD+" "+m.transactionInfo.VehicleRegistrationInfo.plate.plateNumber.toUpperCase()+"."}},className:"form-group"},{noFormControl:!0,template:i.statusObject.receiptDataBlock},{noFormControl:!0,template:'<br><p class="form-group text-center">'+s.RMS.RECEIPT.ABN+"</p>"},{noFormControl:!0,template:'<snsw-error-messages messages="to.receiptMessages"></snsw-error-messages>',templateOptions:{receiptMessages:m.messages},hideExpression:function(){return!(m.messages&&m.messages[0]&&m.messages[0].message)}},{type:"hr",className:"col-xs-12 hidden-print"},{noFormControl:!0,template:"<div>"+s.GLOBAL.RECEIPT.CONFIRMATION.KEEPRECORDS+"</div>",className:"form-group hidden-print"},{noFormControl:!0,template:"<div>"+s.GLOBAL.RECEIPT.CONFIRMATION.ACTIVITYALERTMESSAGE+"</div>",className:"form-group hidden-print",hideExpression:function(){return!m.rmsCustomerEmail||"undefined"===m.rmsCustomerEmail}},{noFormControl:!0,template:"<p>"+m.rmsCustomerEmail+"</p>",className:"form-group hidden-print",hideExpression:function(){return!m.rmsCustomerEmail||"undefined"===m.rmsCustomerEmail}},{key:"rmsCustomerEmail",type:"input",className:"hidden-print",wrapper:["label","validation"],templateOptions:{label:s.RMS.RECEIPT.SENDEMAIL,type:"email"}},{key:"updateContact",type:"checkbox",className:"hidden-print",wrapper:["bootstrap-row"],templateOptions:{label:s.RMS.RECEIPT.MAKETHISMYEMAILLABEL,disabled:function(){var e=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return!m.model.rmsCustomerEmail||!e.test(m.model.rmsCustomerEmail)||m.model.rmsCustomerEmail===m.rmsCustomerEmail}},hideExpression:function(){return!l}},{key:"sendEmailButton",type:"button",className:"form-group hidden-print",templateOptions:{label:s.GLOBAL.ACTIONS.SEND,className:"btn btn-default btn-md",click:function(){m.model.errorMessages=[],m.model.rmsCustomerEmail&&u.sendReceiptEmail([m.model.rmsCustomerEmail,a.params.transactionToken,!1]).then(function(e){n.successResult(e,m)})["catch"](n.failResult(m)),m.model.updateContact&&u.updateContactDetails(m.model.rmsCustomerEmail,a.params.transactionToken).then(function(e){n.successResult(e,m)})["catch"](n.failResult(m))},disabled:function(){var e=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return!m.model.rmsCustomerEmail||!e.test(m.model.rmsCustomerEmail)}}},{noFormControl:!0,template:'<snsw-error-messages messages="to.getErrorMessages()"></snsw-error-messages>',templateOptions:{getErrorMessages:function(){return m.model.errorMessages?m.model.errorMessages:void 0}}},{type:"hr"},{noFormControl:!0,template:'<p class="col-md-12 col-xs-12">'+s.GLOBAL.RECEIPT.SURVEY.IFYOUHAVERECENTLY+"</p>",className:"row hidden-print"},{key:"changeAddress",className:"hidden-print",type:"anchor",templateOptions:{link:s.RMS.RECEIPT.CHANGEADDRESSCONTACTLINK,label:s.RMS.RECEIPT.CHANGEADDRESSCONTACTLABEL}},{key:"registrationCheck",type:"anchor",className:"hidden-print",templateOptions:{link:s.RMS.RECEIPT.REGISTRATIONCHECKLINK,label:s.RMS.RECEIPT.REGISTRATIONCHECKLABEL}},{key:"renewRegistration",type:"anchor",className:"hidden-print",templateOptions:{click:function(){a.go("renewRegistration.selectRegistration")},label:s.RMS.RECEIPT.RENEWLABEL}},{key:"replaceRegistration",type:"anchor",className:"hidden-print",templateOptions:{link:s.RMS.RECEIPT.REPLACEREGISTRATIONLINK,label:s.RMS.RECEIPT.REPLACEREGISTRATIONLABEL}},{key:"surveyButton",type:"button",className:"hidden-print",templateOptions:{className:"btn btn-default btn-md",label:s.RMS.RECEIPT.SURVEYBUTTON,click:function(){p.destroy(),a.go("survey",{transactionToken:a.params.transactionToken})}}},{type:"hr",className:"hidden-print"},{noFormControl:!0,template:'<snsw-receipt-do-more class="row" link="'+s.GLOBAL.ACTIONS.QUITBUTTONLINK+'" isauthenticated='+l+"></snsw-receipt-do-more>"}]}e.$inject=["$stateParams","$rootScope","$state","$scope","$location","receiptData","SNIPPETS","commonUtil","isAuthenticated","vf","receiptService","$filter","pageLeaveAlert"],angular.module("rms").controller("receiptNodController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d){var p=angular.extend(this,a.$parent.vm);p.name="receiptRenewLicenceController",p.currentURL=r.$$url,p.progressMax=t.current.data.progressMax,p.pageTitle=function(){return t.current.data.title},e.$on("$locationChangeSuccess",function(e,a,r){a!==r&&-1!==r.indexOf(p.currentURL)&&-1===a.indexOf("survey")&&(c.listen(),t.transitionTo("quit"),c.destroy())}),p.fields=[{noFormControl:!0,template:'<snsw-receipt-logo hide-print-button=true display-print-pdf-button=true transaction-token="to.token" file-name="to.filename" print-pdf-label="to.printpdflabel"></snsw-receipt-logo>',templateOptions:{token:d,filename:"InterimLicence.pdf",printpdflabel:"Print Paper Licence"}},{noFormControl:!0,template:'<div><h2>{{to.transactionName}}&nbsp;{{to.receiptLabel}}</h2></div><p><div class="alert alert-success col-xs-12 col-md-12"><span class="fa fa-check-circle fa-lg passGreen"></span><span>&nbsp;{{to.successLabel}}</span></div><br><br><br>',templateOptions:{taxInvoice:i.RMS.RECEIPT.TAXINVOICE,receiptLabel:i.RMS.RECEIPT.RECEIPTLABEL,transactionName:i.RMS.RECEIPT.RENEWLICENCETITLE,cost:p.model.cost},expressionProperties:{"templateOptions.successLabel":function(){return i.RMS.RECEIPT.SUCCESSFULLYCOMPLETEDRENEWLICENCE}},className:"form-group"},{key:"message-notice",type:"message-panel",templateOptions:{transactionToken:t.params.transactionToken,fileName:"InterimLicence.pdf",fileId:null,options:{severity:"info",message:u.trustAsHtml(s.escapeOneMessage(i.RMS.RECEIPT.RENEWLICENCENOTICE)),message2:u.trustAsHtml(s.escapeOneMessage(i.GLOBAL.RMS.RECEIPT.SENDINTERIM)),anchor:{iconClass:"fa fa-file-pdf-o",target:"_blank",text:u.trustAsHtml(s.escapeOneMessage(i.RMS.RECEIPT.LICENCEDOWNLOADPDF))}}}},{noFormControl:!0,template:o.statusObject.receiptDataBlock},{noFormControl:!0,template:'<br><p class="form-group text-center">'+i.RMS.RECEIPT.ABN+"</p>"},{noFormControl:!0,template:'<snsw-error-messages messages="to.receiptMessages"></snsw-error-messages>',templateOptions:{receiptMessages:p.messages},hideExpression:function(){return!(p.messages&&p.messages[0]&&p.messages[0].message)}},{type:"hr",className:"col-xs-12 hidden-print"},{noFormControl:!0,template:"<div>"+i.GLOBAL.RECEIPT.CONFIRMATION.ACTIVITYALERT+"</div>",className:"form-group hidden-print"},{noFormControl:!0,template:"<p>"+p.rmsCustomerEmail+"</p>",className:"form-group hidden-print",hideExpression:function(){return!p.rmsCustomerEmail||""===p.rmsCustomerEmail}},{key:"rmsCustomerEmail",type:"input",id:"rmsCustomerEmail",wrapper:["label","bootstrap-row","validation"],templateOptions:{label:i.RMS.RECEIPT.SENDPDF,type:"email"},className:"col-xs-12 hidden-print"},{key:"updateContact",type:"checkbox",className:"hidden-print",wrapper:["bootstrap-row-col"],templateOptions:{label:i.RMS.RECEIPT.MAKETHISMYEMAILLABEL,disabled:function(){var e=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return!p.model.rmsCustomerEmail||!e.test(p.model.rmsCustomerEmail)||p.model.rmsCustomerEmail===p.rmsCustomerEmail},bootstrapColClassNames:"col-xs-12"}},{key:"sendEmailButton",type:"button",className:"form-group hidden-print",templateOptions:{label:i.GLOBAL.ACTIONS.SEND,click:function(){p.model.errorMessages=[],p.model.rmsCustomerEmail&&n.sendReceiptEmail([p.model.rmsCustomerEmail,t.params.transactionToken,!0]).then(function(e){s.successResult(e,p)})["catch"](s.failResult(p)),p.model.updateContact&&p.model.rmsCustomerEmail!==p.rmsCustomerEmail&&n.updateContactDetails(p.model.rmsCustomerEmail,t.params.transactionToken).then(function(e){s.successResult(e,p)})["catch"](s.failResult(p))},disabled:function(){var e=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return!p.model.rmsCustomerEmail||!e.test(p.model.rmsCustomerEmail)}}},{noFormControl:!0,template:'<snsw-error-messages messages="to.getErrorMessages()"></snsw-error-messages>',templateOptions:{getErrorMessages:function(){return p.model.errorMessages?p.model.errorMessages:void 0}}},{type:"hr",className:"hidden-print"},{noFormControl:!0,template:'<p class="col-md-12 col-xs-12">'+i.GLOBAL.RECEIPT.SURVEY.IFYOUHAVERECENTLY+"</p>",className:"row hidden-print"},{key:"changeAddress",type:"anchor",templateOptions:{link:i.RMS.RECEIPT.CHANGEADDRESSCONTACTLINK,label:i.RMS.RECEIPT.CHANGEADDRESSCONTACTLABEL}},{key:"replaceLicence",type:"anchor",templateOptions:{link:i.RMS.RECEIPT.REPLACELICENCELINK,label:i.RMS.RECEIPT.REPLACELICENCELABEL}},{key:"checkDemerit",type:"anchor",templateOptions:{link:i.RMS.RECEIPT.CHECKDEMERITLINK,label:i.RMS.RECEIPT.CHECKDEMERITLABEL}},{key:"surveyButton",type:"button",className:"hidden-print",templateOptions:{className:"btn btn-default btn-md",label:i.RMS.RECEIPT.SURVEYBUTTON,click:function(){t.go("survey",{transactionToken:d})}}},{type:"hr",className:"hidden-print"},{noFormControl:!0,template:'<snsw-receipt-do-more class="" link="'+i.GLOBAL.ACTIONS.QUITBUTTONLINK+'" isauthenticated='+l+"></snsw-receipt-do-more>"}]}e.$inject=["$rootScope","$state","$scope","$location","receiptData","SNIPPETS","commonUtil","receiptService","isAuthenticated","pageLeaveAlert","$sce","transactionToken"],angular.module("rms").controller("receiptRenewLicenceController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d){var p=angular.extend(this,r.$parent.vm);p.name="receiptRenewRegoController",p.currentURL=o.$$url,p.progressMax=a.current.data.progressMax,p.pageTitle=function(){return a.current.data.title},d.listen(),t.$on("$locationChangeSuccess",function(e,t,r){var o="payment/"+a.params.transactionToken;t!==r&&p.endsWith(t,o)&&-1===t.indexOf("oeh")&&(d.listen(),a.transitionTo("error"),d.destroy())}),p.fields=[{noFormControl:!0,template:"<snsw-receipt-logo></snsw-receipt-logo>"},{noFormControl:!0,template:'<div><h2>{{to.transactionName}}&nbsp;{{to.receiptLabel}}</h2></div><div class="alert alert-success col-xs-12 col-md-12"><span class="fa fa-check-circle fa-lg passGreen"></span><span>&nbsp;{{to.successLabel}}</span></div>',templateOptions:{receiptLabel:s.RMS.RECEIPT.RECEIPTLABEL,transactionName:s.RMS.RECEIPT.RENEWLABEL,cost:p.model.cost},expressionProperties:{"templateOptions.successLabel":function(){return s.RMS.RECEIPT.SUCCESSFULLYCOMPLETEDRENEW+" "+p.transactionInfo.VehicleRegistrationInfo.plate.plateNumber.toUpperCase()}},className:"form-group"},{noFormControl:!0,template:i.statusObject.receiptDataBlock},{noFormControl:!0,template:'<br><div class="form-group text-center">'+s.RMS.RECEIPT.ABN+"</div>"},{noFormControl:!0,template:'<snsw-error-messages messages="to.receiptMessages"></snsw-error-messages>',templateOptions:{receiptMessages:p.messages},hideExpression:function(){return!(p.messages&&p.messages[0]&&p.messages[0].message)}},{type:"hr",className:"hidden-print"},{noFormControl:!0,template:'<div class="hidden-print">'+s.GLOBAL.RECEIPT.CONFIRMATION.KEEPRECORDS+"</div>",className:"form-group "},{noFormControl:!0,template:'<div class="hidden-print">'+s.GLOBAL.RECEIPT.CONFIRMATION.ACTIVITYALERTMESSAGE+"</div>",className:"form-group",hideExpression:function(){return!p.rmsCustomerEmail||""===p.rmsCustomerEmail}},{noFormControl:!0,template:'<p class="hidden-print">'+p.rmsCustomerEmail+"</p>",className:"form-group",hideExpression:function(){return!p.rmsCustomerEmail||""===p.rmsCustomerEmail}},{key:"rmsCustomerEmail",type:"input",wrapper:["label","bootstrap-row","validation"],templateOptions:{label:s.RMS.RECEIPT.SENDEMAIL,type:"email"},className:"col-xs-12 hidden-print"},{key:"updateContact",type:"checkbox",wrapper:["bootstrap-row-col"],className:"hidden-print",templateOptions:{label:s.RMS.RECEIPT.MAKETHISMYEMAILLABEL,bootstrapColClassNames:"col-xs-12",disabled:function(){var e=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return!p.model.rmsCustomerEmail||!e.test(p.model.rmsCustomerEmail)||p.model.rmsCustomerEmail===p.rmsCustomerEmail}},hideExpression:function(){return!u}},{key:"sendEmailButton",type:"button",className:"form-group hidden-print",templateOptions:{className:"btn btn-default btn-md",label:s.GLOBAL.ACTIONS.SEND,click:function(){p.model.errorMessages=[],p.model.rmsCustomerEmail&&c.sendReceiptEmail([p.model.rmsCustomerEmail,a.params.transactionToken,!1]).then(function(e){n.successResult(e,p)})["catch"](n.failResult(p)),p.model.updateContact&&p.model.rmsCustomerEmail!==p.rmsCustomerEmail&&c.updateContactDetails(p.model.rmsCustomerEmail,a.params.transactionToken).then(function(e){n.successResult(e,p)})["catch"](n.failResult(p))},disabled:function(){var e=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return!p.model.rmsCustomerEmail||!e.test(p.model.rmsCustomerEmail)}}},{noFormControl:!0,template:'<snsw-error-messages messages="to.getErrorMessages()" class="hidden-print"></snsw-error-messages>',templateOptions:{getErrorMessages:function(){return p.model.errorMessages?p.model.errorMessages:void 0}}},{type:"hr",className:"hidden-print"},{key:"parkPromotion",noFormControl:!0,template:'<div class="col-xs-12 col-md-12"><p><strong>'+s.OEH.NATIONALPARKPASS.RENEWREGORECEIPTNPPHEADING+"</strong></p>"+s.RMS.RECEIPT.PARKPROMOTION+"</div>",className:"form-group row hidden-print"},{key:"buyADiscountedPassExpanded",type:"button",className:"form-group",templateOptions:{label:"Buy a pass",buttonClass:"btn btn-default pull-right",click:function(){d.listen(),a.transitionTo("oeh.nationalParkPass.details",{transactionToken:a.params.transactionToken}),d.destroy()}}},{type:"hr",className:"hidden-print"},{noFormControl:!0,template:'<p class="col-md-12 col-xs-12">'+s.GLOBAL.RECEIPT.SURVEY.IFYOUHAVERECENTLY+"</p>",className:"row hidden-print"},{key:"changeAddress",type:"anchor",templateOptions:{link:s.RMS.RECEIPT.CHANGEADDRESSCONTACTLINK,label:s.RMS.RECEIPT.CHANGEADDRESSCONTACTLABEL}},{key:"replaceRegistration",type:"anchor",templateOptions:{link:s.RMS.RECEIPT.REPLACEREGISTRATIONLINK,label:s.RMS.RECEIPT.REPLACEREGISTRATIONLABEL}},{key:"registrationCheck",type:"anchor",templateOptions:{link:s.RMS.RECEIPT.REGISTRATIONCHECKLINK,label:s.RMS.RECEIPT.REGISTRATIONCHECKLABEL}},{key:"renewBoat",type:"anchor",templateOptions:{link:s.RMS.RECEIPT.RENEWBOATLINK,label:s.RMS.RECEIPT.RENEWBOATLABEL}},{key:"surveyButton",type:"button",className:"hidden-print",templateOptions:{className:"btn btn-default btn-md",label:s.RMS.RECEIPT.SURVEYBUTTON,click:function(){d.destroy(),a.go("survey",{transactionToken:a.params.transactionToken})}}},{type:"hr",className:"hidden-print"},{noFormControl:!0,template:'<snsw-receipt-do-more link="'+s.GLOBAL.ACTIONS.QUITBUTTONLINK+'" isauthenticated='+u+"></snsw-receipt-do-more>"}]}e.$inject=["$stateParams","$rootScope","$state","$scope","$location","receiptData","SNIPPETS","commonUtil","$filter","receiptService","isAuthenticated","pageLeaveAlert"],angular.module("rms").controller("receiptRenewRegoController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d){var p=angular.extend(this,a.$parent.vm);p.name="receiptRegTransController",p.currentURL=o.$$url,p.pageTitle=function(){return t.current.data.title},p.progressMax=t.current.data.progressMax,r.$on("$locationChangeSuccess",function(e,a,r,o,i){var s="payment/"+t.params.transactionToken;a!==r&&p.endsWith(a,s)&&(d.listen(),t.transitionTo("quit"),d.destroy())}),p.fields=[{noFormControl:!0,template:"<snsw-receipt-logo></snsw-receipt-logo>"},{noFormControl:!0,template:'<div><h2>{{to.transactionName}}&nbsp;{{to.receiptLabel}}</h2></div><div class="alert alert-success col-xs-12 col-md-12"><span class="fa fa-check-circle fa-lg passGreen"></span><span>&nbsp;{{to.successLabel}}</span></div>',templateOptions:{receiptLabel:s.RMS.RECEIPT.RECEIPTLABEL,transactionName:s.RMS.RECEIPT.TRANSFERLABEL,cost:p.model.cost},expressionProperties:{"templateOptions.successLabel":function(){return s.RMS.RECEIPT.SUCCESSFULLYCOMPLETEDTRANSFER+" "+p.transactionInfo.VehicleRegistrationInfo.plate.plateNumber.toUpperCase()}},className:"form-group"},{noFormControl:!0,template:i.statusObject.receiptDataBlock},{noFormControl:!0,template:'<br><p class="form-group text-center">'+s.RMS.RECEIPT.ABN+"</p>"},{noFormControl:!0,template:'<snsw-error-messages messages="to.receiptMessages"></snsw-error-messages>',templateOptions:{receiptMessages:p.messages},hideExpression:function(){return!(p.messages&&p.messages[0]&&p.messages[0].message)}},{type:"hr",className:"col-xs-12 hidden-print"},{noFormControl:!0,template:"<div>"+s.GLOBAL.RECEIPT.CONFIRMATION.ACTIVITYALERT+"</div>",className:"form-group hidden-print"},{noFormControl:!0,template:"<p>"+p.rmsCustomerEmail+"</p>",className:"form-group hidden-print",hideExpression:function(){return!p.rmsCustomerEmail||""===p.rmsCustomerEmail}},{key:"rmsCustomerEmail",type:"input",wrapper:["label","bootstrap-row","validation"],templateOptions:{label:s.RMS.RECEIPT.SENDEMAIL,type:"email"},className:"col-xs-12 hidden-print"},{key:"updateContact",type:"checkbox",className:"hidden-print",wrapper:["bootstrap-row-col"],templateOptions:{label:s.RMS.RECEIPT.MAKETHISMYEMAILLABEL,bootstrapColClassNames:"col-xs-12",disabled:function(){var e=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return!p.model.rmsCustomerEmail||!e.test(p.model.rmsCustomerEmail)||p.model.rmsCustomerEmail===p.rmsCustomerEmail}},hideExpression:function(){return!l}},{key:"sendEmailButton",type:"button",className:"form-group hidden-print",templateOptions:{label:s.GLOBAL.ACTIONS.SEND,click:function(){p.model.errorMessages=[],p.model.rmsCustomerEmail&&u.sendReceiptEmail([p.model.rmsCustomerEmail,t.params.transactionToken,!1]).then(function(e){n.successResult(e,p)})["catch"](n.failResult(p)),p.model.updateContact&&p.model.rmsCustomerEmail!==p.rmsCustomerEmail&&u.updateContactDetails(p.model.rmsCustomerEmail,t.params.transactionToken).then(function(e){n.successResult(e,p)})["catch"](n.failResult(p))},disabled:function(){var e=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return!p.model.rmsCustomerEmail||!e.test(p.model.rmsCustomerEmail)}}},{noFormControl:!0,template:'<snsw-error-messages messages="to.getErrorMessages()"></snsw-error-messages>',templateOptions:{getErrorMessages:function(){return p.model.errorMessages?p.model.errorMessages:void 0}}},{type:"hr",className:"hidden-print"},{noFormControl:!0,template:'<p class="col-md-12 col-xs-12">'+s.GLOBAL.RECEIPT.SURVEY.IFYOUHAVERECENTLY+"</p>",className:"row hidden-print"},{key:"changeAddress",type:"anchor",templateOptions:{link:s.RMS.RECEIPT.CHANGEADDRESSCONTACTLINK,label:s.RMS.RECEIPT.CHANGEADDRESSCONTACTLABEL}},{key:"renewRegistration",type:"anchor",templateOptions:{click:function(){t.go("renewRegistration.selectRegistration")},label:s.RMS.RECEIPT.RENEWLABEL}},{key:"eToll",type:"anchor",templateOptions:{link:s.RMS.RECEIPT.ETOLLLINK,label:s.RMS.RECEIPT.ETOLLLABEL}},{key:"surveyButton",type:"button",className:"hidden-print",templateOptions:{className:"btn btn-default btn-md",label:s.RMS.RECEIPT.SURVEYBUTTON,click:function(){t.go("survey",{transactionToken:t.params.transactionToken}),d.destroy()}}},{type:"hr",className:"hidden-print"},{noFormControl:!0,template:'<snsw-receipt-do-more class="col-xs-12" link="'+s.GLOBAL.ACTIONS.QUITBUTTONLINK+'" isauthenticated='+l+"></snsw-receipt-do-more>"}]}e.$inject=["$stateParams","$state","$scope","$rootScope","$location","receiptData","SNIPPETS","commonUtil","isAuthenticated","$filter","receiptService","pageLeaveAlert"],angular.module("rms").controller("receiptTransferRegoController",e)}(),function(){"use strict";function e(e){return{}}e.$inject=["vf"],angular.module("global-services").factory("bpayService",e)}(),function(){"use strict";function e(e,t){function a(t){var a={remoteAction:"rmsPSPServiceCtrl.getReceiptDataV1",params:[decodeURIComponent(t)]};return e.call(a)}function r(t){var a={transactionToken:t},r={remoteAction:"RMSWrapperCtrl.getReceiptDetails",params:[JSON.stringify(a)]};return e.call(r)}function o(t,a){var r={remoteAction:"rmsTransactionCtrl.updateContactDetails",params:[{contactDetail:[{contactCategory:"Email Address",contactValue:t,status:"Valid"}]},a]};return e.call(r)}function i(t,a){var r={remoteAction:"RMSWrapperCtrl.updateRMSEmail",params:[JSON.stringify({email:t})]};return e.call(r)}function s(t){var a={remoteAction:"rmsTransactionCtrl.sendReceiptEmail",params:t};return e.call(a)}function n(e,a,r){var o={remoteAction:"RMSWrapperCtrl.sendTransactionPDFEmail",params:[JSON.stringify({email:e,transactionToken:a,updateEmail:r})]};return t.vf(o)}return{getReceiptData:a,getReceiptDetails:r,updateContactDetails:o,updateRMSEmail:i,sendTransactionPDFEmail:n,sendReceiptEmail:s}}e.$inject=["vf","rmsTransactionService"],angular.module("global-services").factory("receiptService",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d,p,m,g){var f=this;if(console.log("renewLicenceController called => ","licenceOptions=",n,"declaration=",l,"declarationForm=",c,"customerInfo=",u),f.declarationHasError=function(e){return c&&c.error&&2e3!==c.error.statusCode},f.declarationHandleError=function(e){return console.log("renewLicenceController.vm.declarationHandleError called"),t.hasError=!0,2002===e.error.statusCode?(t.transErrorInfo.hidePageHeader=!1,t.transErrorInfo.style="error",t.transErrorInfo.messages=[{message:e.error.statusMessage,severity:"ERROR"}],void r.go("error")):void s.failRmsIsNotLinked(e)},t.model={},t.model.token=i.statusObject,t.model.declarationForm=c,t.model.confirmations=[],t.errorMessages=t.errorMessages||[],t.hasError=t.hasError||!1,!(d||r&&r.params&&r.params.transactionToken))return void r.go("renewLicence.tla");if(!p&&d)return void r.go("renewLicence.linkRMS");if(n&&n.error&&2e3!==n.error.statusCode){if(t.hasError=!0,2002===n.error.statusCode)t.transErrorInfo.hidePageHeader=!1,t.transErrorInfo.style="error",t.transErrorInfo.messages=[{message:n.error.statusMessage,severity:"ERROR"}],r.go("error");else if(s.failRmsIsNotLinked(n.result))return}else{if(f.declarationHasError(c))return void f.declarationHandleError(c);if(f.declarationHasError(l))f.declarationHandleError(l);else if(u&&u.error&&2e3!==u.error.statusCode){if(t.hasError=!0,2002===u.error.statusCode)t.transErrorInfo.hidePageHeader=!1,t.transErrorInfo.style="error",t.transErrorInfo.messages=[{message:u.error.statusMessage,severity:"ERROR"}],r.go("error");else if(s.failRmsIsNotLinked(u))return}else n.result&&n.result.statusObject&&s.successResult(n.result,t,!0)}t.$on("$viewContentLoaded",function(){n.licenceInfo&&n.licenceInfo.declaration&&"Y"===n.licenceInfo.declaration.existingDeclaration&&"3"==r.current.data.progressNow?t.pageHeader=r.current.data.pageHeaderAlt:r.current.data.pageHeader&&r.current.data.progressNow?t.pageHeader=r.current.data.pageHeader:t.pageHeader=r.current.data.pageHeader,t.progress={max:r.$current.parent.data.progressMax,now:r.current.data.progressNow}}),t.quit=function(){o.listen(),r.go("quit"),o.destroy()},t.back=function(){a.isLoading=!0,o.destroy();for(var e=r.get(),i=0;i<e.length;i++){var s=e[i];if(s.parent&&s.parent===r.current.parent&&s.data)if(3==r.$current.data.progressNow&&n.licenceInfo.declaration&&("Y"===n.licenceInfo.declaration.existingDeclaration||t.model.validateFinal)){if(s.data.progressNow==parseInt(r.$current.data.progressNow)-2){r.go(s.name);break}}else if(s.data.progressNow==parseInt(r.$current.data.progressNow)-1){r.go(s.name);break}}},t.leftAction=function(){t.isFirstStep()?t.quit():t.back()},t.next=function(){a.isLoading=!0,o.destroy();for(var e=r.get(),i=0;i<e.length;i++){var s=e[i];if(s.parent&&s.parent===r.current.parent&&s.data)if(1==r.$current.data.progressNow&&n.licenceInfo.declaration&&("Y"===n.licenceInfo.declaration.existingDeclaration||t.model.validateFinal)){if(s.data.progressNow==parseInt(r.$current.data.progressNow)+2){r.go(s.name);break}}else if(s.data.progressNow==parseInt(r.$current.data.progressNow)+1){r.go(s.name);break}}},t.formIsBlocked=function(){return!1},t.formHasError=function(){return!1},t.isLeftDisabled=function(){return!1},t.isRightDisabled=function(){return!1},t.isLeftHidden=function(){return!1},t.isRightHidden=function(){return!1},t.isFirstStep=function(){return!(!r.$current.data||"1"!==r.$current.data.progressNow)},t.isLastStep=function(){return!(!r.$current.data||r.$current.data.progressNow!==r.$current.parent.data.progressMax)},t.failResult=function(a){e.info(a),t.errorMessages=s.extractErrorMessages(a)}}e.$inject=["$log","$scope","$rootScope","$state","pageLeaveAlert","token","commonUtil","licenceOptions","declaration","declarationForm","customerInfo","isAuthenticated","isLinkedToRms","SNIPPETS","$stateParams"],angular.module("rms.renew-licence").controller("renewLicenceController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u){if(!s.licenceInfo||!r.model.declaration&&!u)return void r.back();r.model.declaration=r.model.declaration||u,s.licenceInfo&&s.licenceInfo.declaration&&"Y"===s.licenceInfo.declaration.existingDeclaration&&"3"===e.current.data.progressNow&&(r.pageHeader=e.current.data.progressNow+". "+e.current.data.pageHeaderAlt),r.model.confirmations=[];for(var d=0;d<r.model.declaration.answers.declarations.length;d++){var p=r.model.declaration.answers.declarations[d].question.text,m=r.model.declaration.answers.declarations[d].response.answers[0];if(r.model.declaration.answers.declarations[d].subQuestionResponses)var g=r.model.declaration.answers.declarations[d].subQuestionResponses[0].answers[0];else var g=!1;r.model.confirmations.push([{label:p,text:m,additional:g}])}r.fields=[{key:"message-notice",type:"message-panel",templateOptions:{options:{severity:"info",message:a.trustAsHtml(i.escapeOneMessage(t.RMS.RENEWLICENCE.SUMMARY.WARNINGMESSAGE))}},hideExpression:function(){return!s.licenceInfo.declaration||"N"!==s.licenceInfo.declaration.existingDeclaration||r.model.validateFinal}},{type:"text-with-links",templateOptions:{html:t.RMS.RENEWLICENCE.SUMMARY.DECMADETITLE},hideExpression:function(){return!s.licenceInfo.declaration||"Y"!==s.licenceInfo.declaration.existingDeclaration&&!r.model.validateFinal},className:"form-group"},{noFormControl:!0,type:"output-label",templateOptions:{unboldLabel:"First name:",labelValue:n&&n.statusObject.givenName,isNotFormGroup:!0},hideExpression:function(){return!(n&&n.statusObject&&n.statusObject.givenName)}},{noFormControl:!0,type:"output-label",templateOptions:{unboldLabel:"Last name:",labelValue:n&&n.statusObject.familyName,isNotFormGroup:!0},hideExpression:function(){return!(n&&n.statusObject&&n.statusObject.familyName)}},{noFormControl:!0,type:"output-label",templateOptions:{unboldLabel:"NSW Driver Licence Number:",labelValue:s.licenceInfo.currentLicence.licenceId},hideExpression:function(){return!(s.licenceInfo&&s.licenceInfo.currentLicence&&s.licenceInfo.currentLicence.licenceId)}},{noFormControl:!0,template:"<hr/>"},{key:"confirmations",type:"data-list",wrapper:["label"],templateOptions:{isNumbered:!0,isHighlighted:!0,isCondensed:!1,options:{data:r.model.confirmations},label:t.RMS.RENEWLICENCE.CONFIRM.REVIEWDECLARATION,isNotSeparated:!1}},{noFormControl:!0,template:'<div class="form-group">'+a.trustAsHtml(t.RMS.RENEWLICENCE.SUMMARY.DECCONFIRM)+"</div>",hideExpression:function(){return!(!s.licenceInfo.declaration||"Y"!==s.licenceInfo.declaration.existingDeclaration&&!r.model.validateFinal)}}],r.onSubmit=function(e){o.destroy(),l.logAction(c)["catch"](i.failResult(r)),r.next()},r.formHasError=function(e){return!1},r.isLeftDisabled=function(){return r.formHasError()},r.isRightDisabled=function(){return r.formHasError()},r.leftTitle=function(){return t.GLOBAL.ACTIONS.BACK},r.rightTitle=function(){return t.GLOBAL.ACTIONS.NEXT},r.rightClassName="pull-right btn btn-lg btn-primary"}e.$inject=["$state","SNIPPETS","$sce","$scope","pageLeaveAlert","commonUtil","licenceOptions","customerInfo","renewLicenceDetailsService","token","declaration"],angular.module("rms.renew-licence").controller("renewLicenceConfirmController",e)}(),function(){"use strict";angular.module("rms.renew-licence").controller("renewLicenceDeclareController",["SNIPPETS","$sce","$scope","pageLeaveAlert","licenceOptions","renewLicenceDetailsService","commonUtil","token","customerInfo","declarationButtonsService",function(e,t,a,r,o,i,s,n,l,c){var u=this;u.hasAdditionalField=function(e){var t;if(!e.values)return!1;for(t=0;t<e.values.length;t++)if(e.values[t].dependency&&""!==e.values[t].dependency)return!0;return!1},a.model.declarationAnswers=a.model.declarationAnswers||{},a.errorMessages=a.errorMessages||[],c.initVisibleQuestions(a.model.declarationForm.declarationQuestions),a.nestedFields=a.model.declarationForm.declarationQuestions.map(function(e,r){return{type:"declaration-buttons",key:e.key,model:a.model.declarationAnswers,wrapper:["label","validation","hint","declaration-item"],templateOptions:{boldLabel:e.label,options:e,required:!0,index:r,hint:t.trustAsHtml(e.helpText)},expressionProperties:{"templateOptions.disabled":function(t,a,r){return"object"!=typeof e.deps||r.model[e.deps.dependency]&&r.model[e.deps.dependency].id===e.deps.value?!1:(delete r.model[e.key],!0)}}}}),a.fields=[{noFormControl:!0,template:"<div>"+e.RMS.RENEWLICENCE.DECLARE.PLEASEANSWER+"</div>",templateOptions:{label:e.RMS.RENEWLICENCE.FIRSTNAME,labelValue:l&&l.statusObject.givenName,isNotFormGroup:!0},hideExpression:function(){
return a.hasError||!l||!l.statusObject||!l.statusObject.givenName}},{noFormControl:!0,type:"output-label",templateOptions:{label:e.RMS.RENEWLICENCE.FIRSTNAME,labelValue:l&&l.statusObject.givenName,isNotFormGroup:!0},hideExpression:function(){return a.hasError||!l||!l.statusObject||!l.statusObject.givenName}},{noFormControl:!0,type:"output-label",templateOptions:{label:e.RMS.RENEWLICENCE.LASTNAME,labelValue:l&&l.statusObject.familyName,isNotFormGroup:!0},hideExpression:function(){return a.hasError||!l||!l.statusObject||!l.statusObject.familyName}},{noFormControl:!0,type:"output-label",templateOptions:{label:e.RMS.RENEWLICENCE.NSWDRIVERLICENCENUMBER,labelValue:o.licenceInfo.currentLicence.licenceId},hideExpression:function(){return a.hasError||!o.licenceInfo||!o.licenceInfo.currentLicence||!o.licenceInfo.currentLicence.licenceId}},{type:"nested",wrapper:["list-ordered","label"],data:{fields:a.nestedFields}}],u.additionalNotFilled=function(e,t){var a,r,o,i;for(a=0;a<e.length&&(r=e[a],r);a++)if(i=r.key,o=t[i],o&&o.text&&"yes"===o.text.toLowerCase()&&u.hasAdditionalField(r)&&(!o.additional||""===o.additional))return!0;return!1},u.prepareDeclareData=function(e,t){for(var r,o,i,s=1,n={answers:{declarations:[]}},l=0;l<e.length;l++)o=e[l],r=o.key,i=t[r],i&&(n.answers.declarations.push({question:{id:r,text:o.label,displaySequence:s,displayOrder:o.displayOrder},response:{title:o.title,answers:[i.text]},subQuestionResponses:function(e){return e.additional?[{title:"AdditionalDetails",answers:[e.additional]}]:null}(i)}),s++);a.model.declaration=n},a.onSubmit=function(){console.log("renewLicenceDeclareController.$scope.onSubmit called"),o.licenceInfo.declaration&&"N"===o.licenceInfo.declaration.existingDeclaration&&u.prepareDeclareData(a.model.declarationForm.declarationQuestions,a.model.declarationAnswers),a.form.$setSubmitted(),u.additionalNotFilled(a.model.declarationForm.declarationQuestions,a.model.declarationAnswers)||(i.logAction(n)["catch"](s.failResult(a)),r.destroy(),a.next())},a.formHasError=function(){for(var e in a.model.declarationAnswers){if(!a.model.declarationAnswers[e])return!0;if(!a.model.declarationAnswers[e].text)return!0;if(a.model.declarationAnswers[e].hasOwnProperty("additional")&&"undefined"==typeof a.model.declarationAnswers[e].additional)return!0;if("string"==typeof a.model.declarationAnswers[e].additional&&0===a.model.declarationAnswers[e].additional.length)return!0}return!1},a.isRightDisabled=function(){var e=a.formHasError();return e}}])}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d,p,m,g){var f=this;l.eligibleLicences=l.eligibleLicences||[],l.ineligibleLicences=l.ineligibleLicences||[],l.graduationLicences=l.graduationLicences||[],l.model.errorMessages=l.model.errorMessages||[],l.errorMessages=l.errorMessages||[],"renewLicence.details.ineligible"===e.current.name&&(m.validateFinal?(d.licenceInfo=m.validateFinal,l.model.errorMessages=m.validateFinal.messages):e.go("renewLicence.details")),l.model.errorMessages.length>0&&(l.errorMessages=l.model.errorMessages);for(var b=l.errorMessages.length-1;b>=0;b--)if("ERROR"===l.errorMessages[b].severity){l.hasError=!0;break}if(d&&d.licenceInfo&&d.licenceInfo.currentLicence&&d.licenceInfo.currentLicence.licenceCategories)for(var h=d.licenceInfo.currentLicence.licenceCategories,v=0;v<h.length;v++){var y=h[v].licenceClass.description?h[v].licenceClass.description:h[v].licenceClass.code,S=h[v].licenceType.description,C=i("date")(h[v].expiryDate,"dd/MM/yyyy"),E=h[v].licenceStatus,M=[{label:o.RMS.RENEWLICENCE.DETAILS.CLASS,text:y},{label:o.RMS.RENEWLICENCE.DETAILS.TYPE,text:S},{label:o.RMS.RENEWLICENCE.DETAILS.EXPIRYDATE,text:C},{label:o.RMS.RENEWLICENCE.DETAILS.STATUS,text:E}];"Y"===h[v].eligibilityStatus.toUpperCase()?l.eligibleLicences.push(M):"N"===h[v].eligibilityStatus.toUpperCase()?(M.push({hasError:h[v].messages&&h[v].messages.length>0?h[v].messages:[]}),l.ineligibleLicences.push(M)):console.log("This should never happen!!")}if(d&&d.licenceInfo&&d.licenceInfo.renewedLicence&&d.licenceInfo.renewedLicence.licenceCategories)for(var A=d.licenceInfo.renewedLicence.licenceCategories,N=0;N<A.length;N++)"Y"===A[N].eligibilityStatus.toUpperCase()&&"Y"===A[N].eligibleForUpgrade&&l.graduationLicences.push([{label:o.RMS.RENEWLICENCE.DETAILS.TYPE,text:A[N].licenceType.description?A[N].licenceType.description:A[N].licenceType.code}]);var T;d&&d.licenceInfo&&d.licenceInfo.declaration&&d.licenceInfo.declaration.declarationPDF&&(T=d.licenceInfo.declaration.declarationPDF),m&&m.validateFinal?l.isIneligible=!0:d&&d.licenceInfo&&d.licenceInfo.currentLicence&&d.licenceInfo.currentLicence.eligibilityStatus&&"Y"===d.licenceInfo.currentLicence.eligibilityStatus.toUpperCase()?l.isIneligible=!1:l.isIneligible=!0,l.$watch("$scope.model",function(e,t){""!==e&&c.listen()}),f.userFromAddEmailPage=function(){var e=a.fromStateRecorded;return e&&e.name&&/^(linkRMSAddEmail|linkRMSNeedEmail|createAccount)$/.test(e.name)},l.$on("$destroy",function(){c.destroy()}),l.fields=[{noFormControl:!0,type:"output-label",templateOptions:{unboldLabel:o.RMS.RENEWLICENCE.LASTNAME,labelValue:p&&p.statusObject&&p.statusObject.familyName,isNotFormGroup:!0},hideExpression:function(){return!(p&&p.statusObject&&p.statusObject.familyName)}},{noFormControl:!0,type:"output-label",templateOptions:{unboldLabel:o.RMS.RENEWLICENCE.NSWDRIVERLICENCENUMBER,labelValue:d&&d.licenceInfo&&d.licenceInfo.currentLicence.licenceId,isNotFormGroup:!1},hideExpression:function(){return!(d&&d.licenceInfo&&d.licenceInfo.currentLicence&&d.licenceInfo.currentLicence.licenceId)}},{key:"categories",type:"data-list",wrapper:["label"],templateOptions:{options:{data:l.eligibleLicences},showHr:!0,titleLabel:o.RMS.RENEWLICENCE.DETAILS.YOUAREELIGBLE,isNumbered:!1,isCondensed:!0,isbold:!1,isValueNotBold:!0,isNotFormGroup:!1},hideExpression:function(){return 0===l.eligibleLicences.length}},{key:"graduation-categories",type:"data-list",wrapper:["label"],templateOptions:{label:o.RMS.RENEWLICENCE.DETAILS.GRADUATIONLABEL,options:{data:l.graduationLicences},isNumbered:!1,isCondensed:!0,isbold:!1,isValueNotBold:!0,isNotFormGroup:!1},hideExpression:function(){return!l.graduationLicences||0===l.graduationLicences.length}},{key:"licenceTerm",type:"term-button-group",wrapper:["label","bootstrap-row-col"],templateOptions:{options:d.licenceTermOptions,modelKey:"licenceTerm",bootstrapColClassNames:"col-sm-7"},expressionProperties:{"templateOptions.label":function(){return d.licenceTermOptions&&1===d.licenceTermOptions.length?o.RMS.RENEWLICENCE.DETAILS.YOURRENEWALPERIODLABEL:d.licenceTermOptions&&d.licenceTermOptions.length>1?o.RMS.RENEWLICENCE.DETAILS.CHOOSERENEWALPERIODLABEL:void 0}},hideExpression:function(){return!(!l.isIneligible&&d.licenceTermOptions)},controller:["$scope",function(e){if(d.licenceTermOptions&&"undefined"==typeof e.model.licenceTerm)for(var t=0,a=d.licenceTermOptions.length-1;a>=0;a--)d.licenceTermOptions[a].licenceUnit&&d.licenceTermOptions[a].licencePeriod&&"month"===d.licenceTermOptions[a].licenceUnit.toLowerCase()&&d.licenceTermOptions[a].licencePeriod%12===0&&(d.licenceTermOptions[a].licenceUnit="year",d.licenceTermOptions[a].licencePeriod=d.licenceTermOptions[a].licencePeriod/12),d.licenceTermOptions[a].licenceCost>=d.licenceTermOptions[t].licenceCost&&(t=a)}]},{key:"categories",type:"data-list",wrapper:["label"],templateOptions:{options:{data:l.ineligibleLicences},showHr:!0,isNumbered:!1,isCondensed:!0,isbold:!1,isValueNotBold:!0,isNotFormGroup:!1},hideExpression:function(){return!l.ineligibleLicences||0===!l.ineligibleLicences.length}},{key:"document",type:"message-panel",templateOptions:{pdfFile:T,fileName:"Declaration.pdf",options:{severity:"info",hasMargin:!0,message:s.trustAsHtml(o.RMS.RENEWLICENCE.INELIGIBLE.DOWNLOADLICENCEPDFMESSAGE),anchor:{iconClass:"fa fa-file-pdf-o",target:"_blank",text:s.trustAsHtml(o.RMS.RENEWLICENCE.INELIGIBLE.DOWNLOADLICENCEPDFTEXT)}}},hideExpression:function(){var e=!T;return e}},{key:"message-discount",type:"message-panel",templateOptions:{options:{severity:"info",message:s.trustAsHtml(u.escapeOneMessage(o.RMS.RENEWLICENCE.DETAILS.SAFEDRIVERDISCOUNT))},openModal:function(){n.open({heading:o.RMS.RENEWLICENCE.DETAILS.SAFEDRIVERDISCOUNTMODALHEADING,body:o.RMS.RENEWLICENCE.DETAILS.SAFEDRIVERDISCOUNTMODALBODY,secondaryButton:o.GLOBAL.ACTIONS.CLOSE})}},hideExpression:function(){return!d.licenceInfo.renewedLicence||"Y"!==d.licenceInfo.renewedLicence.eligibleForSafeDriverDiscount.toUpperCase()||l.isIneligible}},{key:"message-notice",type:"message-panel",templateOptions:{options:{severity:"info",message:s.trustAsHtml(o.RMS.RENEWLICENCE.DETAILS.MESSAGENOTICE)}},hideExpression:function(){return l.isIneligible}}],l.onSubmit=function(){c.destroy(),g.logAction(t)["catch"](u.failResult(l)),l.next()},l.formHasError=function(){return l.isIneligible?!0:"undefined"==typeof l.model.licenceTerm},l.isRightDisabled=function(){return l.formHasError()},l.isRightHidden=function(){return!!l.isIneligible},l.leftTitle=function(){return l.isIneligible?"Quit":f.userFromAddEmailPage()?"Back":"Quit"},l.leftAction=function(){return l.isIneligible?void l.quit():f.userFromAddEmailPage()?void r.history.back():void l.quit()},l.isIneligible&&(l.leftClassName="pull-right btn btn-lg btn-primary")}e.$inject=["$state","token","$rootScope","$window","SNIPPETS","$filter","$sce","snswModal","$scope","pageLeaveAlert","commonUtil","licenceOptions","customerInfo","$stateParams","renewLicenceDetailsService"],angular.module("rms.renew-licence").controller("renewLicenceDetailsController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d,p,m,g){function f(){if(s.destroy(),i.model.validateFinal)i.checkWarningPopUp();else{g.init(v);var t=i.prepareDeclarationData(),a=i.prepareLicenceValidateDetails(t);i.errorMessages=[],m.validateFinal(a,e).then(function(e){i.model.errorMessages=[],i.errorMessages=[],i.model.validateFinal=e.statusObject,n.successResult(e,i,i.model),i.checkIneligibility(e)})["catch"](h)}}var b=this,h=function(){n.failResult(i),g.reset()},v={5:a.GLOBAL.LOADER.PROCESSINGAPPLICATION,30:a.GLOBAL.LOADER.PATIENCE};if(b.getMonths=function(e,t){var a=parseInt(e,10);return 1===a||0===a?a+" "+t:a+" "+t+"s"},c&&(i.$parent.model=JSON.parse(c.statusObject)),!i.model||"undefined"==typeof i.model.licenceTerm)return void t.go("renewLicence.details");if(i.errorMessages=[],i.model.errorMessages=[],i.eligibleLicences=[],i.hasOneInvalid=!1,d&&d.licenceTermOptions)for(var y=d.licenceTermOptions.length-1;y>=0;y--)d.licenceTermOptions[y].licenceUnit&&d.licenceTermOptions[y].licencePeriod&&"month"===d.licenceTermOptions[y].licenceUnit.toLowerCase()&&d.licenceTermOptions[y].licencePeriod%12===0&&(d.licenceTermOptions[y].licenceUnit="year",d.licenceTermOptions[y].licencePeriod/=12);if(d.licenceInfo&&d.licenceInfo.renewedLicence){i.eligibleLicences.push([{label:a.RMS.RENEWLICENCE.STATUS.LASTNAME,text:u.statusObject.familyName},{label:a.RMS.RENEWLICENCE.STATUS.LICENCENO,text:d.licenceInfo.currentLicence.licenceId,type:"text"}]);for(var S=d.licenceInfo.renewedLicence.licenceCategories,C=0;C<S.length;C++)"Y"===S[C].eligibilityStatus&&i.eligibleLicences.push([{label:a.RMS.RENEWLICENCE.STATUS.LICENCECLASS,text:S[C].licenceClass.description},{label:a.RMS.RENEWLICENCE.STATUS.TYPE,text:S[C].licenceType.description},{label:a.RMS.RENEWLICENCE.STATUS.RENEWALPERIOD,text:b.getMonths(d.licenceTermOptions[i.model.licenceTerm.licenceTermIndex].licencePeriod,d.licenceTermOptions[i.model.licenceTerm.licenceTermIndex].licenceUnit),type:"text"}])}u&&u.statusObject&&u.statusObject.emailAddress&&(i.model.renewLicEmail=u.statusObject.emailAddress),i.fields=[{key:"mixed",type:"data-list",wrapper:["bootstrap-row-col","message-panel","label"],templateOptions:{isNumbered:!1,isCondensed:!0,isbold:!1,isNotFormGroup:!1,isNotSeparated:!1,bootstrapColClassNames:"col-xs-12 col-md-8 col-md-push-2"},expressionProperties:{"templateOptions.options.message":function(){var e="",t=null;i.model.validateFinal&&i.model.validateFinal.renewedLicence&&(t=i.model.validateFinal.renewedLicence.licenceCategories);for(var a=t.length-1;a>=0;a--)"N"===t[a].eligibilityStatus&&t[a].messages&&t[a].messages.length>0&&(e=t[a].messages[0].message);return r.trustAsHtml(e)},"templateOptions.options.severity":function(){return"error"},"templateOptions.options.data":function(){return i.ineligibleLicences}},hideExpression:function(){var e=null;if(i.model.validateFinal&&"Y"===i.model.validateFinal.currentLicence.eligibilityStatus){e=i.model.validateFinal.renewedLicence.licenceCategories;for(var t=!0,a=e.length-1;a>=0;a--)if("N"===e[a].eligibilityStatus){t=!1;break}return t}return!0}},{noFormControl:!0,template:'<div class="form-group">{{to.label}}</div>',templateOptions:{label:a.RMS.RENEWLICENCE.STATUS.SUBTITLE}},{noFormControl:!0,template:'<div class="form-group"><b>{{to.label}}</b></div>',templateOptions:{label:a.RMS.RENEWLICENCE.STATUS.LICENCEDETAILSTITLE}},{hideExpression:"options.templateOptions.options.length === 0",key:"info",type:"data-list",templateOptions:{options:{data:i.eligibleLicences},isValueNotBold:!0,isCondensed:!0,isNumbered:!1}},{noFormControl:!0,template:'<div class="form-group"><b>{{to.label}}</b></div>',templateOptions:{label:a.RMS.RENEWLICENCE.STATUS.RENEWALFEES}},{key:"licenceFee",type:"output-label",templateOptions:{unboldLabel:a.RMS.RENEWLICENCE.STATUS.RENEWALFEELABEL},expressionProperties:{"templateOptions.labelValue":function(){var e=0;if(i.model.validateFinal&&i.model.validateFinal.terms){for(var t=i.model.validateFinal.terms.length-1;t>=0;t--)i.model.validateFinal.terms[t].licenceId===i.model.licenceTerm.licenceTermId&&(e=t);return l("currency")(i.model.validateFinal.terms[e].licenceFee.grossAmount)}return l("currency")(d.licenceTermOptions[i.model.licenceTerm.licenceTermIndex].licenceCost)}}},{key:"safeDriver",type:"output-label",templateOptions:{unboldLabel:a.RMS.RENEWLICENCE.STATUS.SAFEDRIVER},expressionProperties:{"templateOptions.labelValue":function(){return i.model.validateFinal&&i.model.validateFinal.renewedLicence&&"Y"===i.model.validateFinal.renewedLicence.eligibleForSafeDriverDiscount?"Yes":d.licenceInfo&&"Y"===d.licenceInfo.renewedLicence.eligibleForSafeDriverDiscount?"Yes":void 0}},hideExpression:function(){return!(i.model.validateFinal&&i.model.validateFinal.renewedLicence&&"Y"===i.model.validateFinal.renewedLicence.eligibleForSafeDriverDiscount.toUpperCase()||d.licenceInfo.renewedLicence&&"Y"===d.licenceInfo.renewedLicence.eligibleForSafeDriverDiscount.toUpperCase())}},{noFormControl:!0,template:'<div class="hidden-print">'+a.GLOBAL.RECEIPT.CONFIRMATION.KEEPRECORDS+"</div>",className:"form-group"},{key:"renewLicEmail",type:"input",wrapper:["label","validation"],templateOptions:{label:a.RMS.RENEWLICENCE.LICENCESTATUS.SENDEMAIL,type:"email"},className:"hidden-print"},{type:"hr",wrapper:["bootstrap-row-col"],className:"col-xs-12"},{key:"termsAndConditions",type:"checkbox-label-with-action",templateOptions:{required:!0,labels:[{text:a.RMS.TRANSFERREGO.TRANSFERCONFIRM.AGREELABEL},{text:a.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.TERMSLINK,action:function(){m.getTermsConditions().then(function(e){var t,r;2e3===e.statusCode&&"success"===e.statusMessage?(t=e.statusObject.Title,r=e.statusObject.Content__c):(t="Error",r=e.statusMessage),o.open({heading:t,body:r,secondaryButton:a.GLOBAL.ACTIONS.CLOSE})})["catch"](h)}}]}},{key:"privacy",type:"modal",templateOptions:{link:{prefix:"Our",name:a.RMS.RENEWLICENCE.PRIVACYPOLICYHEADING},openModal:function(){o.open({heading:a.RMS.RENEWLICENCE.PRIVACYPOLICYHEADING,body:a.RMS.RENEWLICENCE.PRIVACYPOLICYBODY,secondaryButton:a.GLOBAL.ACTIONS.CLOSE})}}},{noFormControl:!0,template:'<div class="form-group"><b>{{to.label}}</b></div>',templateOptions:{label:a.RMS.RENEWLICENCE.STATUS.APPLYTERMTITLE}},{noFormControl:!0,template:'<div class="form-group" ng-bind-html="to.label"></div>',templateOptions:{label:r.trustAsHtml(a.RMS.RENEWLICENCE.STATUS.APPLYTERMBODY)},hideExpression:function(){return!(d.licenceInfo&&d.licenceTermOptions[i.model.licenceTerm.licenceTermIndex].licenceCost>0)}},{noFormControl:!0,template:'<div class="form-group" ng-bind-html="to.label"></div>',templateOptions:{label:r.trustAsHtml(a.RMS.RENEWLICENCE.STATUS.APPLYTERMCONCESSIONBODY)},hideExpression:function(){return!(d.licenceTermOptions&&d.licenceTermOptions[i.model.licenceTerm.licenceTermIndex].licenceCost<=0)}}],i.onSubmit=function(){""===i.model.renewLicEmail?o.open({heading:null,body:a.RMS.RENEWLICENCE.LICENCESTATUS.NOEMAIL,primaryButton:a.GLOBAL.ACTIONS.BACK,secondaryButton:a.GLOBAL.ACTIONS.CONTINUE})["catch"](f):f()},i.checkIneligibility=function(e){var r;if(r=e.response?e.response:e,!(r&&r.statusObject&&r.statusObject.currentLicence&&r.statusObject.currentLicence.eligibilityStatus&&"Y"===r.statusObject.currentLicence.eligibilityStatus.toUpperCase()))return i.hasError=!0,i.transErrorInfo.document={},i.transErrorInfo.messages=r.statusObject.messages,i.transErrorInfo.hidePageHeader=!0,i.transErrorInfo.style="text",r.statusObject.declaration&&r.statusObject.declaration.declarationPDF&&(i.transErrorInfo.document.content=r.statusObject.declaration.declarationPDF,i.transErrorInfo.document.message=a.RMS.RENEWLICENCE.INELIGIBLE.DOWNLOADLICENCEPDFMESSAGE),i.transErrorInfo.returnState=t.current.name,g.reset(),void t.go("renewLicence.details.ineligible",{validateFinal:r.statusObject});if(i.model.validateFinal&&i.model.validateFinal.renewedLicence.licenceCategories){var o=-1,s=i.model.validateFinal.renewedLicence.licenceCategories;if(i.model.validateFinal.terms)for(var n=0;n<i.model.validateFinal.terms.length;n++)if(i.model.validateFinal.terms[n].termId===i.model.licenceTerm.licenceTermId){o=n;break}if(-1===o)return i.errorMessages=[{message:a.GLOBAL.ALERTS.SYSTEMERROR,severity:"ERROR"}],delete i.model.validateFinal,void g.reset();i.eligibleLicences=[],i.ineligibleLicences=[];for(var c=0;c<s.length;c++){var d=[{label:a.RMS.RENEWLICENCE.STATUS.LASTNAME,text:u.statusObject.familyName},{label:a.RMS.RENEWLICENCE.STATUS.LICENCENO,text:i.model.validateFinal.renewedLicence.licenceId},{label:a.RMS.RENEWLICENCE.STATUS.LICENCECLASS,text:s[c].licenceClass.description},{label:a.RMS.RENEWLICENCE.STATUS.TYPE,text:s[c].licenceType.description},{label:a.RMS.RENEWLICENCE.STATUS.RENEWALPERIOD,text:b.getMonths(i.model.validateFinal.terms[o].period,i.model.validateFinal.terms[o].unit)},{label:a.RMS.RENEWLICENCE.STATUS.EXPIRYDATE,text:l("date")(i.model.validateFinal.terms[o].expiryDate,"dd MMM yyyy")}];i.model.validateFinal&&"Y"===s[c].eligibilityStatus?i.eligibleLicences.push(d):i.ineligibleLicences.push(d)}for(var p=r.statusObject.renewedLicence.licenceCategories.length-1;p>=0;p--)if("N"===r.statusObject.renewedLicence.licenceCategories[p].eligibilityStatus){i.hasOneInvalid=!0;break}}i.hasOneInvalid?g.reset():i.checkWarningPopUp()},i.checkWarningPopUp=function(){i.model.validateFinal&&i.model.validateFinal.messages&&i.model.validateFinal.messages.length>0?(g.reset(),o.open({heading:null,errorMessages:i.model.validateFinal.messages,primaryButton:a.GLOBAL.ACTIONS.BACK,secondaryButton:a.GLOBAL.ACTIONS.CONTINUE})["catch"](i.proceedWithPayment)):i.proceedWithPayment()},i.proceedWithPayment=function(){g.init(v);for(var r={transactionToken:e.statusObject,redirectUrl:"/rms/trans/renewLicence/licenceStatus"},o=-1,s=0;s<i.model.validateFinal.terms.length;s++)if(i.model.validateFinal.terms[s].termId===i.model.licenceTerm.licenceTermId){o=s;break}var l;if(i.model.validateFinal&&i.model.validateFinal.terms&&i.model.validateFinal.terms[o].licenceFee.grossAmount<=0)l={licenceId:i.model.validateFinal.currentLicence.licenceId,declarationId:i.model.validateFinal.declaration.declarationId,termId:i.model.validateFinal.terms[o].termId,paymentDetails:{referenceNumber:{id:"",sourceSystem:""},settlementDate:"",grossAmount:i.model.validateFinal.terms&&i.model.validateFinal.terms[o].licenceFee.grossAmount},receivingParty:{organization:"SNSW",branch:""}},m.processRenewLicence(l,e.statusObject).then(function(a){i.model.errorMessages=[],i.errorMessages=[],n.successResult(a,i,i.model),"Y"===a.statusObject.currentLicence.eligibilityStatus?t.go("payment",{transactionToken:e.statusObject}):(i.hasError=!0,i.errorMessages=[{message:a.statusObject.messages[0].message,severity:"ERROR"}]),g.reset()})["catch"](h);else if(i.model.validateFinal&&i.model.validateFinal.terms&&i.model.validateFinal.terms[o].licenceFee.grossAmount>0){l={progressStep:parseInt(10,t.current.data.progressNow)+1,progressStepTotal:t.$current.parent.data.progressMax,userContext:{transactionToken:e.statusObject,redirectUrl:"rms/trans/renewLicence/licenceStatus"},products:[{amount:i.model.validateFinal.terms[o].licenceFee.grossAmount}]};var c=angular.copy(i.model);i.model.validateFinal&&i.model.validateFinal.declaration&&i.model.validateFinal.declaration.declarationPDF&&delete c.validateFinal.declaration.declarationPDF,i.model.declaration&&(i.model.declaration.declarationPDF&&delete c.declaration.declarationPDF,i.model.declaration.answers&&(i.model.declaration.answers.declarationPDF&&delete c.declaration.answers.declarationPDF,i.model.declaration.answers.jsonMap&&i.model.declaration.answers.jsonMap.declarationPDF&&delete c.declaration.answers.jsonMap.declarationPDF)),m.saveContext(e.statusObject,JSON.stringify(c)).then(function(){m.getPSPPaymentPayload(l,r,e.statusObject).then(function(e){e?(e.statusObject.textToken&&(document.getElementById("textToken").value=e.statusObject.textToken),e.statusObject.jwtToken&&(document.getElementById("jwtToken").value=e.statusObject.jwtToken),e.statusObject.redirectUrl&&(document.getElementById("redirectUrl").value=e.statusObject.redirectUrl),document.getElementById("pspSubmitForm").submit()):(i.hasError=!0,i.errorMessages=[{message:a.GLOBAL.ALERTS.SYSTEMERROR,severity:"ERROR"}]),g.reset()})["catch"](h)})["catch"](h)}},i.rightTitle=function(){return"Apply"},i.formHasError=function(){return!i.model.termsAndConditions},i.isRightDisabled=function(){return i.formHasError()},i.leftClassName="pull-left btn btn-lg btn-default",i.prepareLicenceValidateDetails=function(e){var t="";return t=p.isDesktop()?"Desktop":p.isTablet()?"iPad":p.isMobile()?"Mobile":"Desktop",{licenceId:d.licenceInfo.currentLicence.licenceId,validationType:"FullValidation",channel:"SelfService",deviceUsed:t,declarationData:e,termId:i.model.licenceTerm.licenceTermId}},i.prepareDeclarationData=function(){var e={};return d.licenceInfo.declaration&&"Y"===d.licenceInfo.declaration.existingDeclaration?(e.declarationId=d.licenceInfo.declaration.declarationId,e.existingDeclaration="Y"):d.licenceInfo.declaration&&"N"===d.licenceInfo.declaration.existingDeclaration&&(e.existingDeclaration="N",e.declarations=i.model.declaration.answers.declarations),e}}e.$inject=["token","$state","SNIPPETS","$sce","snswModal","$scope","pageLeaveAlert","commonUtil","$filter","modelData","customerInfo","licenceOptions","deviceDetector","renewLicenceStatusService","snswLoading"],angular.module("rms.renew-licence").controller("renewLicenceStatusController",e)}(),function(){"use strict";function e(e,t){this.createRenewLicenceTransaction=function(a){var r={remoteAction:"rmsRenewLicCtrl.createRenewLicenceTransaction",params:[a,t]};return e.call(r)},this.getLatestDeclarationPDF=function(t){var a={remoteAction:"rmsRenewLicCtrl.getLatestDeclarationPDF",params:[t]};return e.call(a)},this.getInterimLicence=function(t){var a={remoteAction:"rmsRenewLicCtrl.getInterimLicence",params:[t],resultMap:function(e){return{licence:e.statusObject}}};return e.call(a)}}e.$inject=["vf","siteId"],angular.module("rms.renew-licence").service("renewLicenceService",e)}(),function(){"use strict";function e(e,t){}e.$inject=["vf","ipAddressService"],angular.module("rms.renew-licence").service("renewLicenceConfirmService",e)}(),function(){"use strict";function e(e){this.getDeclaration=function(t,a){var r={remoteAction:"rmsRenewLicCtrl.getDeclaration",params:[a,t],resultMap:function(e){return{answers:e.statusObject,statusCode:e.statusCode,statusMessage:e.statusMessage}}};return e.call(r)},this.getDeclarationForm=function(t){var a={remoteAction:"rmsRenewLicCtrl.getDeclarationForm",params:[t],resultMap:function(e){var t=e.statusObject.map(function(e){return{key:e.id,label:e.text,displayOrder:e.displayOrder,displaySequence:e.displaySequence,title:e.title,helpText:e.helpText,displayType:e.displayType,values:e.answers,deps:e.questionDisplay}});return{declarationQuestions:t,statusCode:e.statusCode,statusMessage:e.statusMessage}}};return e.call(a)}}e.$inject=["vf"],angular.module("rms.renew-licence").service("renewLicenceDeclareService",e)}(),function(){"use strict";function e(e){this.getLicence=function(t){var a,r={remoteAction:"rmsRenewLicCtrl.getLicence",params:[t],resultMap:function(e){var t=[];if(e.statusObject.terms){var r=e.statusObject.terms;r.sort(function(e,t){return t.period-e.period});for(var o=0;o<r.length;o++){var i={licenceTermId:r[o].termId,licencePeriod:r[o].period,licenceCost:r[o].discountAmount?r[o].licenceFeeAmount-r[o].discountAmount:r[o].licenceFeeAmount,licenceUnit:r[o].unit&&r[o].unit.toLowerCase()};t.push(i)}t.sort(function(e,t){return e.licenceCost<t.licenceCost?-1:1})}return a={licenceInfo:e.statusObject,messages:e.statusObject.messages?e.statusObject.messages:[],licenceTermOptions:t,result:e}}};return e.call(r)},this.getCustomerInfo=function(t){var a={remoteAction:"rmsRenewLicCtrl.getCustomerInfo",params:[t]};return e.call(a)},this.logAction=function(t){var a={remoteAction:"rmsTransactionCtrl.logAction",params:[t.statusObject,"clickNextButton"]};return e.call(a)},this.validateFinal=function(t,a,r){var o={remoteAction:"rmsRenewLicCtrl.validateFinal",params:{licenceId:t,declarationId:a,termId:r,paymentDetails:{},receivingParty:{}},resultMap:function(e){for(var t=[],a=e.licence,r=e.validateResult.termDetails,o=0;o<r.length;o++){var i={licenceTermId:r[o].termID,licencePeriod:r[o].period,licenceCost:r[o].licenceFee.grossAmount};t.push(i)}return{licenceInfo:a,licenceTermOptions:t,licenceValidateResult:e.validateResult}}};return e.call(o)}}e.$inject=["vf"],angular.module("rms.renew-licence").service("renewLicenceDetailsService",e)}(),function(){"use strict";function e(e){this.processRenewLicence=function(t,a){var r={remoteAction:"rmsRenewLicCtrl.processRenewLicence",params:[t,a]};return e.call(r)},this.getTermsConditions=function(){var t="",a={remoteAction:"rmsRenewLicCtrl.getTermsConditions",params:t,resultMap:function(e){return e}};return e.call(a)},this.validateFinal=function(t,a){var r={remoteAction:"rmsRenewLicCtrl.validateFinal",params:[t,a.statusObject]};return e.call(r)},this.getPSPPaymentPayload=function(t,a,r){var o={remoteAction:"rmsPSPServiceCtrl.getPSPPaymentPayloadV1",params:[t,a,r]};return e.call(o)},this.saveContext=function(t,a){var r={remoteAction:"rmsTransactionCtrl.saveContext",params:[t,a]};return e.call(r)},this.getContext=function(t){var a={remoteAction:"rmsTransactionCtrl.getContext",params:[t]};return e.call(a)}}e.$inject=["vf"],angular.module("rms.renew-licence").service("renewLicenceStatusService",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u){return t.model={},t.model.token=n.statusObject,t.model.errorMessages=[],t.errorMessages=[],t.$on("$viewContentLoaded",function(){t.pageHeader=r.current.data.pageHeader,t.progress={max:r.$current.parent.data.progressMax,now:r.current.data.progressNow}}),t.quit=function(){r.transitionTo("quit")},t.leftAction=function(){t.isFirstStep()?t.quit():t.back()},t.back=function(){a.isLoading=!0,i.destroy(),r.get().map(function(e){return e.parent&&e.parent===r.current.parent&&e.data&&e.data.progressNow===parseInt(r.$current.data.progressNow,10)-1?(r.go(e.name),null):null})},t.next=function(){a.isLoading=!0,i.destroy(),r.get().map(function(e){return e.parent&&e.parent===r.current.parent&&e.data&&e.data.progressNow===parseInt(r.$current.data.progressNow,10)+1?(r.go(e.name),null):null})},t.rightAction=t.next,t.formIsBlocked=function(){return!1},t.formHasError=function(){return!1},t.isLeftDisabled=function(){return!1},t.isRightDisabled=function(){return!1},t.isLeftHidden=function(){return!1},t.isRightHidden=function(){return!1},t.isFirstStep=function(){return!(!r.$current.data||1!==r.$current.data.progressNow)},t.isLastStep=function(){return!(!r.$current.data||parseInt(r.$current.data.progressNow,10)!==parseInt(r.$current.parent.data.progressMax,10)-1)},t.failResult=function(a){e.info(a),t.errorMessages=l.extractErrorMessages(a)},t.getRedirectUrl=function(){return"/rms/renewRegistration"},c||r&&r.params&&r.params.transactionToken?!u&&c?void r.go("renewRegistration.linkToRMS"):void 0:void r.go("renewRegistration.guest")}e.$inject=["$log","$scope","$rootScope","$state","SNIPPETS","pageLeaveAlert","renewRegistrationService","token","commonUtil","isAuthenticated","isLinkedToRms"],angular.module("rms.renew-rego").controller("renewRegistrationController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d,p,m,g,f,b){if(a.initialise(l),d.response){if(2002===d.response.statusCode)l.errorMessages=[{message:d.response.statusMessage,severity:"ERROR"}];else if(p.failRmsIsNotLinked(d.response))return;delete d.response}else d.statusObject&&(p.successResult(d,l),delete d.statusObject);l.model.errorMessages.length>0&&(l.errorMessages=l.model.errorMessages),l.fields=[{hideExpression:function(){return d.length<1||!d.length},key:"regoId",type:"vehicle-radio-button",wrapper:["bootstrap-row-col"],templateOptions:{options:d,label:s.trustAsHtml(o.RMS.RENEWREGISTRATION.SELECTREGISTRATION.SELECTVEHICLELABEL),bootstrapColClassNames:"col-md-9",onClick:function(e,t,a,r){var o=a.fields[2];o.formControl.$dirty=o.formControl.$touched=!1,a.$parent.model.billingNumber=null},modelKey:"vehicleRegistrationId"},controller:["$scope",function(e){d.length>0&&"undefined"==typeof e.model.regoId&&(e.model.regoId=d[0].vehicleRegistrationId)}]},{hideExpression:function(e){return!(d.length>0)},type:"body-copy",templateOptions:{label:s.trustAsHtml(o.RMS.RENEWREGISTRATION.SELECTREGISTRATION.SELECTVEHICLELABEL2)}},{key:"billingNumber",type:"input-billing-number",wrapper:["bootstrap-row-col","label","validation","hint-with-modal"],defaultValue:null,templateOptions:{type:"text",bootstrapColClassNames:"col-md-7",onFocus:"model.regoId = null",modelKey:"vehicleRegistrationId",label:o.RMS.RENEWREGISTRATION.SELECTREGISTRATION.BILLINGNUMBERLABEL,hint:{prefix:o.RMS.RENEWREGISTRATION.SELECTREGISTRATION.BILLINGNUMBERMODALPREFIX,name:o.RMS.RENEWREGISTRATION.SELECTREGISTRATION.BILLINGNUMBERMODALNAME,suffix:o.RMS.RENEWREGISTRATION.SELECTREGISTRATION.BILLINGNUMBERMODALSUFFIX},openModal:function(){n.open({heading:o.RMS.RENEWREGISTRATION.SELECTREGISTRATION.BILLINGNUMBERMODALHEADING,body:p.escapeOneMessage(o.RMS.RENEWREGISTRATION.SELECTREGISTRATION.BILLINGNUMBERSUBTITLE),modalImage:i+"/images/billing-number.png",secondaryButton:o.GLOBAL.ACTIONS.CLOSE})}},expressionProperties:{"templateOptions.required":"!model.regoId"},validation:{messages:{required:function(e,t,a){return"Please enter "+a.options.templateOptions.label}}}},{key:"captcha",type:"captcha",wrapper:["validation","hint"],templateOptions:{hint:o.GLOBAL.FORMS.RECAPTCHA.VALIDATION.HINT,label:"Captcha",required:!0},hideExpression:function(e){return g?!0:m},validation:{messages:{required:function(){return o.GLOBAL.FORMS.RECAPTCHA.VALIDATION.REQUIRED}}},controller:["$scope",function(e){d.length>0&&"undefined"==typeof e.model.regoId&&(e.model.regoId=d[0].vehicleRegistrationId)}]}];var h=function(){c.destroy();var e;l.model.billingNumber&&""!==l.model.billingNumber?e=l.model.billingNumber:l.model.regoId&&""!==l.model.regoId&&(e=l.model.regoId),b.debug("onsubmit called"),l.captchaValue="";for(var t=0;t<l.fields.length;t++)l.fields&&l.fields[t]&&"captcha"==l.fields[t].type&&l.fields[t].formControl&&l.fields[t].formControl.$modelValue&&(l.captchaValue=l.fields[t].formControl.$modelValue);a.getInitialQuote(e,l.model.token,l.captchaValue,f).then(function(e){l.model.errorMessages=[],l.errorMessages=[],p.successResult(e,l,l.model),
2e3===e.statusCode&&(l.model.selectedRegistration=e),0===l.errorMessages.length&&(r.updateModel(e,l.model),l.next())})["catch"](p.failResult(l))};l.onSubmit=function(){l.formHasError()?b.debug("formHasError"):h()},l.formHasError=function(){for(var e=0;e<l.fields.length;e++)if(l.fields[e].type&&"captcha"===l.fields[e].type&&l.fields[e].formControl&&l.fields[e].formControl.$invalid)return!0;return!l.model.regoId&&!l.model.billingNumber},l.formIsBlocked=function(){return!0},l.isRightDisabled=function(){return!1}}e.$inject=["$state","$stateParams","renewRegistrationService","selectRegistrationService","SNIPPETS","resourcePath","$sce","snswModal","$scope","pageLeaveAlert","$window","regoOptions","commonUtil","isAuthenticated","isRecaptchaDisabled","encryptedIpAddress","$log"],angular.module("rms.renew-rego").controller("renewRegistrationSelectRegistrationController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d,p){function m(e){console.log(e)}function g(){0===e.model.selectedRegistration.registrationPriceDetails.transactionPrice.grossAmount?i.processRenewRego(e.model.payload,e.model.token).then(function(a){e.model.errorMessages=[],e.errorMessages=[],d.successResult(a,e,e.model),0===e.errorMessages.length&&t.go("payment",{transactionToken:e.model.token})})["catch"](d.failResult(e)):i.saveContext(e.model.token,JSON.stringify(e.model)).then(function(t){e.model.errorMessages=[],e.errorMessages=[],d.successResult(t,e,e.model),e.model.selectedRegistration.payLaterRequiredFlag&&(e.model.payload.payLaterRequiredFlag=e.model.selectedRegistration.payLaterRequiredFlag),0===e.errorMessages.length&&i.getPSPPaymentPayload(e.model.payload,e.model.userContext,e.model.token).then(function(a){e.model.errorMessages=[],e.errorMessages=[],d.successResult(t,e,e.model),0===e.errorMessages.length&&(a.statusObject.textToken&&(document.getElementById("textToken").value=a.statusObject.textToken),a.statusObject.jwtToken&&(document.getElementById("jwtToken").value=a.statusObject.jwtToken),a.statusObject.redirectUrl&&(document.getElementById("redirectUrl").value=a.statusObject.redirectUrl),document.getElementById("pspSubmitForm").submit())})["catch"](d.failResult(e))})["catch"](d.failResult(e))}window.scrollTo(0,0),p&&(e.$parent.model=JSON.parse(p.statusObject)),"undefined"==typeof e.model.selectedRegistration&&t.go("renewRegistration.selectRegistration"),e.$watch("$scope.model",function(e,t){""!==e&&c.listen()}),e.$on("$destroy",function(){c.destroy()}),e.errorMessages=e.model.errorMessages,e.fields=[{noFormControl:!0,template:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.PLEASECHECK,className:"form-group"},{key:"regoPlate",type:"regoPlate-detail",wrapper:["bootstrap-row-col"],templateOptions:{bootstrapColClassNames:"col-md-9"},expressionProperties:{"templateOptions.vehiclePlateNumber":"model.selectedRegistration.plateNumber","templateOptions.vehicleDescription":"model.selectedRegistration.vehicleModel","templateOptions.vehicleVinChassis":"model.selectedRegistration.vinNumber","templateOptions.vehicleExpiry":"model.selectedRegistration.expiry"}},{noFormControl:!0,template:"<b>{{to.label}}</b>",templateOptions:{label:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.REGISTRATIONDETAILSHEADING},className:"form-group"},{key:"billingNumber",type:"output-label",templateOptions:{unboldLabel:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.BILLINGNUMBERLABEL},expressionProperties:{"templateOptions.labelValue":"model.selectedRegistration.registrationId"}},{key:"termOption",type:"output-label",templateOptions:{unboldLabel:o.RMS.RENEWREGISTRATION.USAGECTP.TERMOPTIONLABEL},expressionProperties:{"templateOptions.labelValue":"model.selectedRegistration.selectedTerm"}},{key:"usage",type:"output-label",templateOptions:{unboldLabel:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.USAGELABEL},expressionProperties:{"templateOptions.labelValue":function(){return e.model.usageTypeSelected&&e.model.usageTypeSelected.code?e.model.usageTypeSelected.description:e.model.selectedRegistration.usageType.usageTypeDescription}}},{key:"insurer",type:"output-label",templateOptions:{unboldLabel:o.RMS.RENEWREGISTRATION.USAGECTP.INSURERLABEL},expressionProperties:{"templateOptions.labelValue":"model.selectCtpPolicy.insurer.name"},hide:"!model.selectCtpPolicy.insurer.name"},{key:"ctpPolicy",type:"output-label",templateOptions:{unboldLabel:o.RMS.RENEWREGISTRATION.USAGECTP.CTPPOLICYLABEL},hide:"!model.selectCtpPolicy.policyNumber",expressionProperties:{"templateOptions.labelValue":"model.selectCtpPolicy.policyNumber"}},{key:"pensionerCardType",type:"output-label",templateOptions:{unboldLabel:o.RMS.TRANSFERREGO.TRANSFERCONFIRM.PENSIONERTYPELABEL},expressionProperties:{"templateOptions.labelValue":function(){return e.model.pensionerTypePNSR&&e.model.pensionerTypePNSR.description?e.model.pensionerTypePNSR.description:e.model.pensionerTypePNIC&&e.model.pensionerTypePNIC.description?e.model.pensionerTypePNIC.description:void 0}},hideExpression:function(){return!e.model.usageTypeSelected||"PNIC"!==e.model.usageTypeSelected.code&&"PNSR"!==e.model.usageTypeSelected.code?"Centre Link"!==e.model.selectedRegistration.usageType.usageTypeCode&&"Dept Of Veteran Affairs"!==e.model.selectedRegistration.usageType.usageTypeCode:!1}},{key:"pensionerCardNumber",type:"output-label",templateOptions:{unboldLabel:o.RMS.TRANSFERREGO.TRANSFERCONFIRM.PENSIONERCARDLABEL},expressionProperties:{"templateOptions.labelValue":function(){return e.model.pensionerCardNumber?e.model.pensionerCardNumber:e.model.centrelinkPensionerCardNumber?e.model.centrelinkPensionerCardNumber:void 0}},hideExpression:function(){return!e.model.usageTypeSelected||"PNIC"!==e.model.usageTypeSelected.code&&"PNSR"!==e.model.usageTypeSelected.code?"Centre Link"!==e.model.selectedRegistration.usageType.usageTypeCode&&"Dept Of Veteran Affairs"!==e.model.selectedRegistration.usageType.usageTypeCode:!1}},{noFormControl:!0,template:'<div class="form-group"><b>{{to.label}}</b></div>',templateOptions:{label:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.REGISTRATIONFEESLABEL}},{key:"renewalCost",type:"output-label",templateOptions:{unboldLabel:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.RENEWALCOSTLABEL},expressionProperties:{"templateOptions.labelValue":function(){return e.model.selectedRegistration&&e.model.selectedRegistration.registrationPriceDetails.transactionPrice&&e.model.selectedRegistration.registrationPriceDetails.transactionPrice.grossAmount?u("currency")(e.model.selectedRegistration.registrationPriceDetails.transactionPrice.netAmount):u("currency")("0")}}},{key:"gst",type:"output-label",templateOptions:{unboldLabel:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.GSTLABEL},expressionProperties:{"templateOptions.labelValue":function(){return e.model.selectedRegistration&&e.model.selectedRegistration.registrationPriceDetails.transactionPrice&&e.model.selectedRegistration.registrationPriceDetails.transactionPrice.gstAmount?u("currency")(e.model.selectedRegistration.registrationPriceDetails.transactionPrice.gstAmount):u("currency")("0")}}},{key:"amountDue",type:"output-label",templateOptions:{unboldLabel:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.AMOUNTDUELABEL},expressionProperties:{"templateOptions.labelValue":function(){return e.model.selectedRegistration&&e.model.selectedRegistration.registrationPriceDetails.transactionPrice&&e.model.selectedRegistration.registrationPriceDetails.transactionPrice.netAmount?u("currency")(e.model.selectedRegistration.registrationPriceDetails.transactionPrice.grossAmount):u("currency")("0")}}},{noFormControl:!0,template:'<div class="form-group">'+o.RMS.RECEIPT.GLITEMSHEADING+"</div>"},{key:"glItems",type:"label-with-repeat",templateOptions:{labelIndent:!0},expressionProperties:{"templateOptions.items":function(){return e.model.selectedRegistration.registrationPriceDetails.priceItem.glItem}}},{key:"promoCodeCheckBox",type:"checkbox-label-with-action",templateOptions:{labels:[{text:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.PROMOLABEL},{text:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.PROMOLINK,action:function(){r.open({heading:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.PROMOLINK,body:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.PROMOMODALBODY,secondaryButton:o.GLOBAL.ACTIONS.CLOSE})}}],onChange:"model.promoCode = null"}},{key:"promoCode",type:"input-with-button",hideExpression:function(){return!e.model.promoCodeCheckBox},templateOptions:{actionLabel:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.PROMOBUTTON,click:function(){e.model.promoCode&&s.validatePromo(e.model).then(function(t){e.model.errorMessages=[],e.errorMessages=[],d.successResult(t,e,e.model),0===e.errorMessages.length&&(e.errorMessages=e.model.errorMessages,e.model.selectedRegistration.registrationPriceDetails.transactionPrice.grossAmount=t.statusObject.validationResult.registrationPriceDetails[0].transactionPrice.grossAmount,e.model.selectedRegistration.registrationPriceDetails.transactionPrice.gstAmount=t.statusObject.validationResult.registrationPriceDetails[0].transactionPrice.gstAmount,e.model.selectedRegistration.registrationPriceDetails.transactionPrice.netAmount=t.statusObject.validationResult.registrationPriceDetails[0].transactionPrice.netAmount),window.scrollTo(0,0)})["catch"](d.failResult(e))},disabled:function(){return!e.model.promoCode}}},{key:"termsAndConditions",type:"checkbox-label-with-action",templateOptions:{labels:[{text:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.TERMSLABEL},{text:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.TERMSLINK,action:function(){s.getTermsConditions().then(function(e){var t,a;2e3===e.statusCode&&"success"===e.statusMessage?(t=e.statusObject.Title,a=e.statusObject.Content__c):(t="Error",a=e.statusMessage),r.open({heading:t,body:a,secondaryButton:o.GLOBAL.ACTIONS.CLOSE})})["catch"](m)}}],required:!0}},{key:"privacy",type:"modal",templateOptions:{link:{prefix:"Our",name:"privacy statement"},openModal:function(){r.open({heading:o.RMS.RENEWREGISTRATION.PRIVACYPOLICYHEADING,body:o.RMS.RENEWREGISTRATION.PRIVACYPOLICYBODY,secondaryButton:o.GLOBAL.ACTIONS.CLOSE})}}},{noFormControl:!0,template:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.WHENYOUCLICKNEXTLABEL,className:"form-group strong"},{key:"whenYouClickNext",type:"lists",templateOptions:{labels:[{text:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.WHENYOUCLICKNEXTCOPY1,linkLabel:""},{text:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.WHENYOUCLICKNEXTCOPY2,linkLabel:""},{text:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.WHENYOUCLICKNEXTCOPY3,linkLabel:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.SERVICECENTRELABEL},{text:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.WHENYOUCLICKNEXTCOPY4,linkLabel:""}],click:function(){c.listen(),t.get("quit").externalUrl=o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.SERVICECENTRELINK,t.go("quit"),c.destroy()}},hideExpression:function(){return!(e.model.selectedRegistration&&e.model.selectedRegistration.registrationPriceDetails.transactionPrice.grossAmount>0)}},{key:"whenYouClickNextPensioner",type:"lists",templateOptions:{labels:[{text:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.WHENYOUCLICKNEXTCOPY3,linkLabel:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.SERVICECENTRELABEL},{text:o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.WHENYOUCLICKNEXTCOPY4,linkLabel:""}],click:function(){c.listen(),t.get("quit").externalUrl=o.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.SERVICECENTRELINK,t.go("quit"),c.destroy()}},hideExpression:function(){return!(e.model.selectedRegistration&&e.model.selectedRegistration.registrationPriceDetails.transactionPrice.grossAmount<=0)}}],e.termAndConditionModal=function(){s.getTermsConditions().then(function(e){r.open({heading:e.Title,body:e.Content__c,secondaryButton:o.GLOBAL.ACTIONS.CLOSE})})["catch"](m)},e.cancelPageLeaveAlert=function(){c.destroy()},e.formHasError=function(){return!e.model.termsAndConditions},e.isRightDisabled=function(){return e.formHasError()},e.rightTitle=function(){var t=e.model.errorMessages.some(function(e,t,a){return"ERROR"===e.severity?!0:void 0});return e.model.errorMessages&&t?"Quit":"Submit"},e.onSubmit=function(){var a,s,n,l,u;e.model.errorMessages.some(function(t,a,r){return"ERROR"===t.severity?e.quit():void 0});c.destroy(),e.model.usageTypeSelected&&e.model.usageTypeSelected.code?(l=e.model.usageTypeSelected.code,u=e.model.usageTypeSelected.description):(l=e.model.selectedRegistration.usageType.usageTypeCode,u=e.model.selectedRegistration.usageType.usageTypeDescription);var p={validationType:"FullValidation",registrationId:e.model.selectedRegistration.registrationId,registrationUsage:l,registrationUsageDesc:u,registrationTerm:e.model.selectedRegistration.selectedTerm,promotionCode:e.model.promoCode,ctpPolicy:e.model.selectCtpPolicy};"PNIC"!==l&&"PNSR"!==l||(a=e.model.pensionerTypePNIC&&e.model.pensionerTypePNIC.code?e.model.pensionerTypePNIC.code:e.model.pensionerTypePNSR.code,s=e.model.pensionerTypePNIC&&e.model.pensionerTypePNIC.description?e.model.pensionerTypePNIC.description:e.model.pensionerTypePNSR.description,p.pensionerDetails={},p.pensionerDetails.referenceNumber=e.model.centrelinkPensionerCardNumber||e.model.pensionerCardNumber,p.pensionerDetails.cardType=a,p.pensionerDetails.pensionerTypeDesc=s,p.pensionerDetails.givenName=e.model.pensionerGivenName),0===e.model.selectedRegistration.registrationPriceDetails.transactionPrice.grossAmount?e.model.payload={registrationId:e.model.selectedRegistration.registrationId,registrationUsage:l,registrationTerm:e.model.selectedRegistration.selectedTerm,promotionCode:e.model.promoCode,pensionerDetails:{pensionerNumber:e.model.centrelinkPensionerCardNumber||e.model.pensionerCardNumber,pensionerType:a,givenName:n},ctpPolicy:e.model.selectCtpPolicy,receivingParty:{organization:"SNSW",branch:""}}:(e.model.userContext={transactionToken:e.model.token,redirectUrl:"/rms/trans/renewRegistration/registrationSummary"},e.model.payload={progressStep:parseInt(t.current.data.progressNow)+1,progressStepTotal:t.$current.parent.data.progressMax,userContext:{transactionToken:e.model.token,redirectUrl:"/rms/trans/renewRegistration/registrationSummary"},products:[{amount:e.model.selectedRegistration.registrationPriceDetails.transactionPrice.grossAmount}]}),i.validateFull(p,e.model.token).then(function(t){e.model.errorMessages=[],e.errorMessages=[],d.successResult(t,e,e.model),t.statusObject&&t.statusObject.payLaterRequiredFlag&&(e.model.selectedRegistration.payLaterRequiredFlag=t.statusObject.payLaterRequiredFlag),e.errorMessages&&0===e.errorMessages.length&&e.model.errorMessages&&e.model.errorMessages.length>0&&e.model.errorMessages[0].message?(e.errorMessages=e.model.errorMessages,r.open({heading:null,errorMessages:e.model.errorMessages,primaryButton:o.GLOBAL.ACTIONS.BACK,secondaryButton:o.GLOBAL.ACTIONS.CONTINUE})["catch"](g)):0===e.errorMessages.length&&g()})["catch"](d.failResult(e))}}e.$inject=["$scope","$state","$sce","snswModal","SNIPPETS","renewRegistrationService","registrationSummaryService","$http","$window","pageLeaveAlert","$filter","commonUtil","modelData"],angular.module("rms.renew-rego").controller("renewRegistrationSummaryController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u){function d(){if(e.model.selectedRegistration&&(e.termsLength=e.model.selectedRegistration.terms.length<=1),e.model.selectedRegistration&&e.model.selectedRegistration.terms){var t=e.model.selectedRegistration.terms,a=0;e.model.selectCtpPolicy=null;for(var r=!1,o=0;o<t.length;o++){e.model.selectedRegistration&&e.model.selectedRegistration.selectedTerm&&t[o].term===e.model.selectedRegistration.selectedTerm&&1===t[o].ctpPolicy.length&&(e.model.selectCtpPolicy=t[o].ctpPolicy[0]);for(var i=0;i<t[o].ctpPolicy.length;i++)t[o].ctpPolicy[i].policyNumber&&(a++,r||(e.model.selectedRegistration.terms[o].isOpen=!0,e.model.selectedRegistration.selectedTerm=t[o].term,e.model.selectedRegistration.selectedCtpFlag=t[o].ctpFlag,e.model.selectedRegistration.selectedSafetyInspectionFlag=t[o].safetyInspectionFlag,t[o].ctpPolicy&&t[o].ctpPolicy.length>1?e.model.selectCtpPolicy=null:e.model.selectCtpPolicy=t[o].ctpPolicy[0],r=!0))}a>1?e.moreThanOneCtpFlag=!0:e.moreThanOneCtpFlag=!1}}window.scrollTo(0,0),e.errorMessages=e.model.errorMessages,e.model.pensionerPNSROption=[{code:"",description:"Select",type:"PNSR"},{code:"Centre Link",description:"Centrelink",type:"PNSR"},{code:"Dept Of Veteran Affairs",description:"Department Of Veteran Affairs",type:"PNSR"}],e.model.pensionerPNICOption=[{code:"Dept Of Veteran Affairs",description:"Department Of Veteran Affairs",type:"PNIC"}],"undefined"==typeof e.model.selectedRegistration&&a.go("renewRegistration.selectRegistration"),e.$watch("$scope.model",function(e){""!==e&&l.listen()}),e.$on("$destroy",function(){l.destroy()}),e.fields=[{key:"regoPlate",type:"regoPlate-detail",wrapper:["bootstrap-row-col"],templateOptions:{bootstrapColClassNames:"col-md-9"},expressionProperties:{"templateOptions.vehiclePlateNumber":"model.selectedRegistration.plateNumber","templateOptions.vehicleDescription":"model.selectedRegistration.vehicleModel","templateOptions.vehicleVinChassis":"model.selectedRegistration.vinNumber","templateOptions.vehicleExpiry":"model.selectedRegistration.expiry"}},{key:"changeUsage",type:"checkbox-usage-ctp",templateOptions:{fieldLabel:s.RMS.RENEWREGISTRATION.USAGECTP.USAGETYPEHEADER,label:s.RMS.RENEWREGISTRATION.USAGECTP.CHANGEUSAGETYPELABEL,label2:s.RMS.RENEWREGISTRATION.USAGECTP.CHANGEUSAGETYPELABEL2,click:function(){o.open({heading:s.RMS.RENEWREGISTRATION.USAGECTP.USAGETYPEHEADER,body:s.RMS.RENEWREGISTRATION.USAGECTP.CHANGEUSAGETYPEBODY,secondaryButton:s.GLOBAL.ACTIONS.CLOSE})},hideCheckBox:function(){return!!(e.model.selectedRegistration&&e.model.selectedRegistration.allowedRegistrationUsage&&e.model.selectedRegistration.allowedRegistrationUsage.length>0)},onChange:"model.primaryProducerGeneral = null; model.usageTypeSelected = null;"},expressionProperties:{"templateOptions.currentUsageType":function(){return e.model.selectedRegistration?e.model.selectedRegistration.usageType.usageTypeCode+" - "+e.model.selectedRegistration.usageType.usageTypeDescription:void 0}}},{key:"usageTypeSelected",type:"select-bs",templateOptions:{required:!0,label:s.RMS.RENEWREGISTRATION.USAGECTP.USAGETYPESELECTLABEL},expressionProperties:{"templateOptions.selectOption":function(){return e.model.selectedRegistration.allowedRegistrationUsage}},hideExpression:"!model.changeUsage",controller:["$scope",function(e){e.getCurrItems=function(){return e.model.selectedRegistration.allowedRegistrationUsage}}]},{key:"primaryProducerGeneral",type:"checkbox-label-with-action",templateOptions:{labels:[{text:s.RMS.RENEWREGISTRATION.USAGECTP.PPGLABEL},{text:s.RMS.RENEWREGISTRATION.USAGECTP.PPGLINK,action:function(){o.open({heading:s.RMS.RENEWREGISTRATION.USAGECTP.PPGMODALHEADING,body:s.RMS.RENEWREGISTRATION.USAGECTP.PPGMODALBODY,secondaryButton:s.GLOBAL.ACTIONS.CLOSE})}}],required:!0},hideExpression:'model.usageTypeSelected.code !== "PPG" || !model.usageTypeSelected || !model.changeUsage'},{key:"pensionerTypePNSR",type:"select-bs",templateOptions:{required:!0,hint:i.trustAsHtml(s.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERTYPEBODY),label:s.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERTYPEHEADER},expressionProperties:{"templateOptions.selectOption":"model.pensionerPNSROption"},hideExpression:'model.usageTypeSelected.code !== "PNSR" || !model.usageTypeSelected || !model.changeUsage',controller:["$scope",function(e){e.model.pensionerTypePNSR||(e.model.pensionerTypePNSR=e.model.pensionerPNSROption[0]),e.model.pensionerTypePNSR=null,e.model.pensionerCardNumber=null,e.model.pensionerGivenName=null,e.model.pensionerTypePNIC=null,e.model.centrelinkPensionerCardNumber=null,e.getCurrItems=function(){return e.model.pensionerPNSROption}}]},{key:"centrelinkPensionerCardNumber",type:"input",wrapper:["label","validation","hint"],validators:{centrelinkPensionerCardNumberCheck:function(t,a){var r=a||t,o=e.model.pensionerTypePNSR;return r&&10===r.length&&"Centrelink"===o.description?/^-?\d+\.?\d*$/.test(r.substring(0,9))&&/[a-zA-Z]+/.test(r.substring(9,10)):!1}},templateOptions:{label:s.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERCARDLABEL,type:"text",maxlength:10,required:!0,hint:i.trustAsHtml(s.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERCARDBODY)},hideExpression:'!model.changeUsage || model.usageTypeSelected.code !== "PNSR" || model.usageTypeSelected.pensionerConcessionFlag !== "Y" || model.pensionerTypePNSR.description !== "Centrelink"'},{key:"pensionerTypePNIC",type:"select-bs",templateOptions:{hint:i.trustAsHtml(s.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERTYPEBODY),required:!0,label:s.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERTYPEHEADER},expressionProperties:{"templateOptions.selectOption":"model.pensionerPNICOption"},hideExpression:'model.usageTypeSelected.code !== "PNIC" || !model.usageTypeSelected || !model.changeUsage',controller:["$scope",function(e){e.model.pensionerTypePNIC||(e.model.pensionerTypePNIC=e.model.pensionerPNICOption[0]),e.model.pensionerTypePNSR=null,e.model.pensionerCardNumber=null,e.model.pensionerGivenName=null,e.model.pensionerTypePNIC=null,e.model.centrelinkPensionerCardNumber=null,e.getCurrItems=function(){return e.model.pensionerPNICOption}}]},{key:"pensionerCardNumber",type:"input",wrapper:["label","validation","hint"],validators:{pensionerCardNumberCheck:function(t,a){var r=a||t,o=e.model.pensionerTypePNIC||e.model.pensionerTypePNSR;return!(r&&r.length<9&&"Department Of Veteran Affairs"===o.description)}},templateOptions:{label:s.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERCARDLABEL,type:"text",required:!0,hint:i.trustAsHtml(s.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERCARDBODY)},hideExpression:function(){return!e.model.changeUsage||!e.model.usageTypeSelected||e.model.usageTypeSelected&&e.model.usageTypeSelected.pensionerConcessionFlag&&"Y"!==e.model.usageTypeSelected.pensionerConcessionFlag?!0:e.model.usageTypeSelected&&"PNIC"!==e.model.usageTypeSelected.code?!!("PNSR"===e.model.usageTypeSelected.code&&e.model.pensionerTypePNSR&&e.model.pensionerTypePNSR.description&&"Centrelink"===e.model.pensionerTypePNSR.description||"PNSR"===e.model.usageTypeSelected.code&&(!e.model.pensionerTypePNSR||e.model.pensionerTypePNSR&&"Select"===e.model.pensionerTypePNSR.description)):!1}},{key:"pensionerGivenName",type:"input-name",wrapper:["label","hint"],templateOptions:{label:s.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERNAMELABEL,required:!0,hint:i.trustAsHtml(s.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERNAMEBODY)},hideExpression:function(){return!e.model.changeUsage||!e.model.usageTypeSelected||e.model.usageTypeSelected&&e.model.usageTypeSelected.pensionerConcessionFlag&&"Y"!==e.model.usageTypeSelected.pensionerConcessionFlag?!0:"PNIC"===e.model.usageTypeSelected.code?!1:!!("PNSR"===e.model.usageTypeSelected.code&&e.model.pensionerTypePNSR&&e.model.pensionerTypePNSR.description&&"Centrelink"===e.model.pensionerTypePNSR.description||"PNSR"===e.model.usageTypeSelected.code&&(!e.model.pensionerTypePNSR||e.model.pensionerTypePNSR&&"Select"===e.model.pensionerTypePNSR.description))}},{key:"validateUsage",type:"button",hideExpression:"!model.changeUsage",templateOptions:{label:s.RMS.RENEWREGISTRATION.USAGECTP.VALIDATEBUTTON,click:function(){e.model.usageTypeSelected.code&&n.validateUsage(e.model).then(function(t){e.model.errorMessages=[],e.errorMessages=[],u.successResult(t,e,e.model),0===e.errorMessages.length&&(document.getElementById("currentUsageType").innerHTML=e.model.usageTypeSelected.code+" - "+e.model.usageTypeSelected.description,n.updateUsageCTPModel(t,e.model,"validate")),e.model.errorMessages.length>0&&(e.errorMessages=e.model.errorMessages),e.model.usageTypeSelected=null})["catch"](u.failResult(e)),e.model.changeUsage=!1},disabled:function(){return e.model.usageTypeSelected&&"Select"!==e.model.usageTypeSelected.description?e.model.usageTypeSelected&&"PPG"===e.model.usageTypeSelected.code?e.model.primaryProducerGeneral!==!0:void 0:!0}}},{type:"hr"},{key:"selectedRegistration.selectedTerm",type:"snswRenewRegoTerms",templateOptions:{TERMCOSTHEADER:s.RMS.RENEWREGISTRATION.USAGECTP.TERMCOSTHEADER,TERMOPTIONDETAILSHAVELABEL:s.RMS.RENEWREGISTRATION.USAGECTP.TERMOPTIONDETAILSHAVELABEL,TERMOPTIONDETAILSESAFETYLABEL:s.RMS.RENEWREGISTRATION.USAGECTP.TERMOPTIONDETAILSESAFETYLABEL,TERMOPTIONDETAILSNOTHAVELABEL:s.RMS.RENEWREGISTRATION.USAGECTP.TERMOPTIONDETAILSNOTHAVELABEL,TERMOPTIONDETAILSCTPLABEL:s.RMS.RENEWREGISTRATION.USAGECTP.TERMOPTIONDETAILSCTPLABEL,TERMOPTIONRENEWALNOCTPLABEL:s.RMS.RENEWREGISTRATION.USAGECTP.TERMOPTIONRENEWALNOCTPLABEL,TERMOPTIONRENEWALNOCTPNOESAFETY:s.RMS.RENEWREGISTRATION.USAGECTP.TERMOPTIONRENEWALNOCTPNOESAFETY,TERMCOSTNOTICELABEL:s.RMS.RENEWREGISTRATION.USAGECTP.TERMCOSTNOTICELABEL,TERMOPTIONLABEL:s.RMS.RENEWREGISTRATION.USAGECTP.TERMOPTIONLABEL,TERMOPTIONRENEWALLABEL:s.RMS.RENEWREGISTRATION.USAGECTP.TERMOPTIONRENEWALLABEL,TERMOPTIONAMOUNTLABEL:s.RMS.RENEWREGISTRATION.USAGECTP.TERMOPTIONAMOUNTLABEL,TERMOPTIONRENEWALNOTICELABEL:s.RMS.RENEWREGISTRATION.USAGECTP.TERMOPTIONRENEWALNOTICELABEL,TERMOPTIONRENEWALCHANGETERMLABEL:s.RMS.RENEWREGISTRATION.USAGECTP.TERMOPTIONRENEWALCHANGETERMLABEL,TERMOPTIONRENEWALCHANGETERMLABELCONT:s.RMS.RENEWREGISTRATION.USAGECTP.TERMOPTIONRENEWALCHANGETERMLABELCONT,TERMOPTIONRENEWALNOESAFETYLABEL:s.RMS.RENEWREGISTRATION.USAGECTP.TERMOPTIONRENEWALNOESAFETYLABEL,TERMOPTIONRENEWALNOESAFETYLABELCONT:s.RMS.RENEWREGISTRATION.USAGECTP.TERMOPTIONRENEWALNOESAFETYLABELCONT,TERMOPTIONRENEWALCHANGETERMLINKLABEL:s.RMS.RENEWREGISTRATION.USAGECTP.TERMOPTIONRENEWALCHANGETERMLINKLABEL,TERMOPTIONSELECTEDDIFFERENTTERMLABEL:s.RMS.RENEWREGISTRATION.USAGECTP.TERMOPTIONSELECTEDDIFFERENTTERMLABEL,INSURERLABEL:s.RMS.RENEWREGISTRATION.USAGECTP.INSURERLABEL,GLITEMSHEADING:s.RMS.RECEIPT.GLITEMSHEADING,CTPPOLICYLABEL:s.RMS.RENEWREGISTRATION.USAGECTP.CTPPOLICYLABEL,displayDifferentTermLabel:function(t){return e.model.selectedRegistration.registrationTerm!==t.substring(0,1)||e.model.selectedRegistration.usageType.usageTypeCode!==e.model.defaultUsageType.usageTypeCode},selectedOption:function(t,a,r){var o=!t;return e.model.changeUsage!==!0?(o?(e.model.selectedRegistration.selectedTerm=a,e.model.selectedRegistration.selectedCtpFlag=r.ctpFlag,e.model.selectedRegistration.selectedSafetyInspectionFlag=r.safetyInspectionFlag):e.model.selectedRegistration.selectedTerm="None",void(r.ctpPolicy&&r.ctpPolicy.length>1?e.model.selectCtpPolicy=null:e.model.selectCtpPolicy=r.ctpPolicy[0])):void 0},myLastSelection:function(e){return e},termAndConditionModal:function(){o.open({heading:s.RMS.DEMERITPOINT.TERMS.HEADING,body:s.RMS.DEMERITPOINT.TERMS.TERMSSUMMARY,secondaryButton:s.GLOBAL.ACTIONS.CLOSE})},changeTerm:function(){o.open({heading:s.RMS.RENEWREGISTRATION.USAGECTP.CHANGETERMHEADER,body:s.RMS.RENEWREGISTRATION.USAGECTP.CHANGETERMBODY,secondaryButton:s.GLOBAL.ACTIONS.CLOSE})},selectCtpPolicy:function(t){e.model.selectCtpPolicy=t}},expressionProperties:{"templateOptions.moreThanOneCtpFlag":function(){return e.moreThanOneCtpFlag}},controller:["$scope",function(e){e.to.loading=d()}]}],e.termAndConditionModal=function(){o.open({heading:s.RMS.DEMERITPOINT.TERMS.HEADING,body:s.RMS.DEMERITPOINT.TERMS.TERMSSUMMARY,secondaryButton:s.GLOBAL.ACTIONS.CLOSE})},e.cancelPageLeaveAlert=function(){l.destroy()},e.onSubmit=function(){return"I"===e.model.selectedRegistration.selectedCtpFlag||"I"===e.model.selectedRegistration.selectedSafetyInspectionFlag?e.quit():(e.model.selectedRegistration&&e.model.selectedRegistration.terms&&e.model.selectedRegistration.terms[0]&&e.model.selectedRegistration.terms[0].ctpPolicy[0]&&1===e.model.selectedRegistration.terms.length&&1===e.model.selectedRegistration.terms[0].ctpPolicy.length&&(e.model.selectCtpPolicy=e.model.selectedRegistration.terms[0].ctpPolicy[0]),l.destroy(),void n.validateInitial(n.updateRegistrationUsage(e.model)).then(function(t){e.model.errorMessages=[],e.errorMessages=[],u.successResult(t,e,e.model),0===e.errorMessages.length&&(n.updateUsageCTPModel(t,e.model),e.next())})["catch"](u.failResult(e)))},e.formHasError=function(){if(e.model.selectedRegistration){if(e.model.changeUsage)return!0;if("None"===e.model.selectedRegistration.selectedTerm&&e.model.selectedRegistration.terms.length>1)return!0;if((!e.model.selectCtpPolicy||null===e.model.selectCtpPolicy)&&"V"===e.model.selectedRegistration.selectedCtpFlag&&"I"!==e.model.selectedRegistration.selectedSafetyInspectionFlag)return!0}return!1},e.formIsBlocked=function(){return"I"===e.model.selectedRegistration.selectedCtpFlag||"I"===e.model.selectedRegistration.selectedSafetyInspectionFlag?!0:void 0},e.isRightDisabled=function(){return e.formHasError()},e.rightTitle=function(){return!e.model.selectedRegistration||"I"!==e.model.selectedRegistration.selectedCtpFlag&&"I"!==e.model.selectedRegistration.selectedSafetyInspectionFlag?void 0:(l.destroy(),"Quit")},e.rightClassName="pull-right btn btn-lg btn-primary"}e.$inject=["$scope","$rootScope","$state","$stateParams","snswModal","$sce","SNIPPETS","usageCTPService","pageLeaveAlert","$window","commonUtil"],angular.module("rms.renew-rego").controller("renewRegistrationUsageCtpController",e)}(),function(){"use strict";function e(e,t,a,r,o,i){function s(e){for(var t=[],a=e.statusObject.vehicles,r=0;r<a.length;r++){var o={vehiclePlateNumber:a[r].registrationInfo.plate.plateNumber,vehicleRegistrationId:a[r].registrationInfo.registrationId,vehicleDescription:(a[r].registrationInfo.modelData.manufactureYear+" "+a[r].registrationInfo.colour.description+" "+a[r].registrationInfo.modelData.manufacturer.description+" "+a[r].registrationInfo.modelData.bodyShape.description).toUpperCase(),vehicleVinChassis:a[r].registrationInfo.vinNumber,vehicleExpiry:a[r].registrationInfo.registrationEndDate};t.push(o)}return t.statusObject={},t.statusObject.messages=[],t.statusObject.messages=e.statusObject.messages,t}this.initialise=function(e){window.scrollTo(0,0),e.model.errorMessages=[],e.errorMessages=[],e.$watch("$scope.model",function(e){""!==e&&o.listen()}),e.$on("$destroy",function(){o.destroy()})},this.createRenewRegoTransaction=function(t){var r={remoteAction:"rmsRenewRegoCtrl.createRenewRegoTransaction",params:[t,i]};return e.call(r).then(function(e){return e&&e.statusObject?a.failRmsIsNotLinked(e)?null:e:(console.log("rmsRenewRegoCtrl.createRenewRegoTransaction failed!"),null)})["catch"](function(e){return a.failRmsIsNotLinked(e),null})},this.getRego=function(t){var a={remoteAction:"rmsRenewRegoCtrl.getRego",params:[t],resultMap:function(e){return s(e)}};return e.call(a)},this.getInitialQuote=function(t,a,r,o){var s={remoteAction:"rmsRenewRegoCtrl.getInitialQuote",params:[t,a,r,o,i]};return e.call(s)},this.processRenewRego=function(t,a){var r={remoteAction:"rmsRenewRegoCtrl.processRenewRego",params:[t,a]};return e.call(r)},this.getPSPPaymentPayload=function(t,a,r){var o={remoteAction:"rmsPSPServiceCtrl.getPSPPaymentPayloadV1",params:[t,a,r]};return e.call(o)},this.validateFull=function(t,a){var r=[t,a],o={remoteAction:"rmsRenewRegoCtrl.validateFull",params:r};return e.call(o)},this.saveContext=function(t,a){var r={remoteAction:"rmsTransactionCtrl.saveContext",params:[t,a]};return e.call(r)},this.getContext=function(t){var a={remoteAction:"rmsTransactionCtrl.getContext",params:[t]};return e.call(a)}}e.$inject=["vf","selectRegistrationService","commonUtil","ipAddressService","pageLeaveAlert","siteId"],angular.module("rms.renew-rego").service("renewRegistrationService",e)}(),function(){"use strict";function e(e){var t=this;t.validatePromo=function(a){var r=[],o={};o.validationType="InitialQuote",o.registrationId=a.selectedRegistration.registrationId,o.registrationUsage=a.selectedRegistration.usageType.usageTypeCode,o.registrationTerm=a.selectedRegistration.selectedTerm,o.promotionCode=document.getElementById("promoCode").value,"PNIC"!==a.selectedRegistration.usageType.usageTypeCode&&"PNSR"!==a.selectedRegistration.usageType.usageTypeCode||(o.pensionerDetails={},o.pensionerDetails.referenceNumber=a.centrelinkPensionerCardNumber||a.pensionerCardNumber,a.pensionerTypePNIC?o.pensionerDetails.cardType=a.pensionerTypePNIC.code:o.pensionerDetails.cardType=a.pensionerTypePNSR.code,
o.pensionerDetails.givenName=a.pensionerGivenName);t.findIndexInJson(a.selectedRegistration.selectedTerm,a.selectedRegistration.terms,"term");o.ctpPolicy=a.selectCtpPolicy,r.push(o),r.push(a.token);var i={remoteAction:"rmsRenewRegoCtrl.validatePromo",params:r};return e.call(i)},t.findIndexInJson=function(e,t,a){for(var r=0;r<t.length;r++)if(t[r][a]===e)return r},t.getTermsConditions=function(){var t="",a={remoteAction:"rmsRenewRegoCtrl.getTermsConditions",params:t,resultMap:function(e){return console.log(e),e}};return e.call(a)}}e.$inject=["vf"],angular.module("rms.renew-rego").service("registrationSummaryService",e)}(),function(){"use strict";function e(e,t,a){function r(e,t,a){for(var r=0;r<t.length;r++)if(t[r][a]===e)return r}function o(e,t){t.selectedRegistration.terms=[];for(var a=0;a<e.statusObject.registrationEligibility.validRenewalTerms.length;a++){t.selectedRegistration.terms[a]={},t.selectedRegistration.terms[a]=e.statusObject.registrationEligibility.validRenewalTerms[a],e.statusObject.registrationEligibility.validRenewalTerms.length>1?t.selectedRegistration.terms[a].isOpen=!1:t.selectedRegistration.terms[a].isOpen=!0;var o=e.statusObject.registrationEligibility.validRenewalTerms[a].term,i=r(o,e.statusObject.registrationPriceDetails,"term");if(t.selectedRegistration.terms[a].amount=e.statusObject.registrationPriceDetails[i].priceItem.amount,t.selectedRegistration.terms[a].glItem=e.statusObject.registrationPriceDetails[i].priceItem.glItem,t.selectedRegistration.terms[a].ctpPolicy=[],e.statusObject.registrationEligibility&&e.statusObject.registrationEligibility.ctpPolicy)for(var s=0;s<e.statusObject.registrationEligibility.ctpPolicy.length;s++)t.selectedRegistration.terms[a].term===e.statusObject.registrationEligibility.ctpPolicy[s].policyTerm&&t.selectedRegistration.terms[a].ctpPolicy.push(e.statusObject.registrationEligibility.ctpPolicy[s])}return t.selectedRegistration.terms.sort(function(e,t){return e.term>t.term?1:e.term===t.term?0:-1}),t}this.updateModel=function(e,t){return t.selectedRegistration={},t.selectedRegistration.selectedTerm="None",t.selectedRegistration.registrationId=e.statusObject.registrationEligibility.registrationId,t.selectedRegistration.plateNumber=e.statusObject.registrationInfo.plate.plateNumber,t.selectedRegistration.vehicleModel=e.statusObject.registrationInfo.vehicleModel,t.selectedRegistration.vinNumber=e.statusObject.registrationInfo.vin.VINNumber,t.selectedRegistration.expiry=e.statusObject.registrationEligibility.registrationEndDate,t.selectedRegistration.PromotionApplicableFlag=e.statusObject.registrationInfo.PromotionApplicableFlag,t.selectedRegistration.registrationTerm=e.statusObject.registrationInfo.registrationTerm.termType,t.selectedRegistration.usageType={},t.selectedRegistration.usageType.usageTypeCode=e.statusObject.registrationInfo.usageType.code,t.selectedRegistration.usageType.usageTypeDescription=e.statusObject.registrationInfo.usageType.description,t.defaultUsageType||(t.defaultUsageType=t.selectedRegistration.usageType),e.statusObject.registrationEligibility.allowedRegistrationUsage||(e.statusObject.registrationEligibility.allowedRegistrationUsage=[]),e.statusObject.registrationEligibility&&e.statusObject.registrationEligibility.allowedRegistrationUsage&&e.statusObject.registrationEligibility.allowedRegistrationUsage.length>0&&(t.selectedRegistration.allowedRegistrationUsage=e.statusObject.registrationEligibility.allowedRegistrationUsage),e.statusObject.registrationEligibility.pensionerDetails&&("Dept Of Veteran Affairs"===e.statusObject.registrationEligibility.pensionerDetails.cardType?(t.pensionerTypePNIC={code:"Dept Of Veteran Affairs",description:"Department Of Veteran Affairs",type:"PNIC"},t.pensionerTypePNSR={code:"Dept Of Veteran Affairs",description:"Department Of Veteran Affairs",type:"PNIC"},t.pensionerCardNumber=e.statusObject.registrationEligibility.pensionerDetails.referenceNumber,t.pensionerGivenName=e.statusObject.registrationEligibility.givenName):"Centre Link"===e.statusObject.registrationEligibility.pensionerDetails.cardType&&(t.centrelinkPensionerCardNumber=e.statusObject.registrationEligibility.pensionerDetails.referenceNumber,t.pensionerTypePNSR={code:"Centre Link",description:"Centrelink",type:"PNSR"})),o(e,t),t}}e.$inject=["vf","ipAddressService","$filter"],angular.module("rms.renew-rego").service("selectRegistrationService",e)}(),function(){"use strict";function e(e){function t(e,t,a){for(var r=0;r<t.length;r++)if(t[r][a]===e)return r}this.validateUsage=function(t){var a=[],r={};r.validationType="InitialQuote",r.registrationId=t.selectedRegistration.registrationId,r.registrationUsage=t.usageTypeSelected.code,r.registrationTerm="","PNIC"!==t.usageTypeSelected.code&&"PNSR"!==t.usageTypeSelected.code||(r.pensionerDetails={},t.centrelinkPensionerCardNumber?r.pensionerDetails.referenceNumber=t.centrelinkPensionerCardNumber:r.pensionerDetails.referenceNumber=t.pensionerCardNumber,t.pensionerTypePNIC&&t.pensionerTypePNIC.code?r.pensionerDetails.cardType=t.pensionerTypePNIC.code:r.pensionerDetails.cardType=t.pensionerTypePNSR.code,r.pensionerDetails.givenName=t.pensionerGivenName),a.push(r),a.push(t.token);var o={remoteAction:"rmsRenewRegoCtrl.validateUsage",params:a};return e.call(o)},this.validateInitial=function(t){var a={remoteAction:"rmsRenewRegoCtrl.validateInitial",params:t};return e.call(a)},this.updateUsageCTPModel=function(e,a,r){if(e.statusObject.validationResult&&e.statusObject.validationResult.allowedRegistrationUsage&&e.statusObject.validationResult.allowedRegistrationUsage.length>0&&(a.selectedRegistration.allowedRegistrationUsage=e.statusObject.validationResult.allowedRegistrationUsage),a.oldTerm||(a.oldTerm=a.selectedRegistration.terms),"None"!==a.selectedRegistration.selectedTerm){a.selectedRegistration.selectedTerms=[],a.selectedRegistration.selectedTerms[0]={};var o=t(a.selectedRegistration.selectedTerm,a.oldTerm,"term");o&&(a.selectedRegistration.terms[0].ctpFlag=a.oldTerm[o].ctpFlag,a.selectedRegistration.terms[0].hvInspectionFlag=a.oldTerm[o].hvInspectionFlag,a.selectedRegistration.terms[0].safetyInspectionFlag=a.oldTerm[o].safetyInspectionFlag,a.selectedRegistration.selectedTerms[0].ctpPolicy=a.oldTerm[o].ctpPolicy),"validate"!==r&&(o=t(a.selectedRegistration.selectedTerm,e.statusObject.validationResult.registrationPriceDetails,"term"),a.selectedRegistration.registrationPriceDetails=e.statusObject.validationResult.registrationPriceDetails[o])}if("validate"===r){a.selectedRegistration.selectedTerm="None",a.selectedRegistration.usageType.usageTypeCode=a.usageTypeSelected.code,a.selectedRegistration.usageType.usageTypeDescription=a.usageTypeSelected.description,a.selectedRegistration.terms=[];for(var i=0;i<e.statusObject.validationResult.registrationPriceDetails.length;i++){var s=e.statusObject.validationResult.registrationPriceDetails[i].term;a.selectedRegistration.terms[i]={},a.selectedRegistration.terms[i].term=s,e.statusObject.validationResult.registrationPriceDetails.length>1?a.selectedRegistration.terms[i].isOpen=!1:a.selectedRegistration.terms[i].isOpen=!0,a.selectedRegistration.terms[i].amount=e.statusObject.validationResult.registrationPriceDetails[i].priceItem.amount,a.selectedRegistration.terms[i].glItem=e.statusObject.validationResult.registrationPriceDetails[i].priceItem.glItem;for(var n=0;n<a.oldTerm.length;n++)a.selectedRegistration.terms[i].term===a.oldTerm[n].term&&(a.selectedRegistration.terms[i].ctpPolicy=a.oldTerm[n].ctpPolicy,a.selectedRegistration.terms[i].ctpFlag=a.oldTerm[n].ctpFlag,a.selectedRegistration.terms[i].hvInspectionFlag=a.oldTerm[n].hvInspectionFlag,a.selectedRegistration.terms[i].safetyInspectionFlag=a.oldTerm[n].safetyInspectionFlag)}a.selectedRegistration.terms.sort(function(e,t){return e.term>t.term?1:e.term===t.term?0:-1})}},this.updateRegistrationUsage=function(e){var t=[],a={};return e.selectedRegistration.terms.length<=1&&(e.selectedRegistration.selectedTerm=e.selectedRegistration.terms[0].term),a.validationType="InitialQuote",a.registrationId=e.selectedRegistration.registrationId,e.usageTypeSelected&&e.usageTypeSelected.code?a.registrationUsage=e.usageTypeSelected.code:a.registrationUsage=e.selectedRegistration.usageType.usageTypeCode,a.registrationTerm=e.selectedRegistration.selectedTerm,e.selectCtpPolicy&&e.selectCtpPolicy.$$hashKey&&delete e.selectCtpPolicy.$$hashKey,a.ctpPolicy=e.selectCtpPolicy,!e.usageTypeSelected||"PNIC"!==e.usageTypeSelected.code&&"PNSR"!==e.usageTypeSelected.code||(a.pensionerDetails={},a.pensionerDetails.number=e.pensionerCardNumber||e.centrelinkPensionerCardNumber,a.pensionerDetails.type=e.pensionerTypePNSR.type||e.pensionerTypePNIC.type,a.pensionerDetails.givenName=e.pensionerGivenName),t.push(a),t.push(e.token),t}}e.$inject=["vf"],angular.module("rms.renew-rego").service("usageCTPService",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"rms/replaceLicence/checkDeclaration/replace-licence-check-declaration.html",controller:"replaceLicenceCheckDeclarationController as replaceLicence"}}angular.module("rms.replace-licence").directive("replaceLicenceCheckDeclaration",e)}(),function(){"use strict";function e(e,t,a){function r(t){s.alert={type:"danger",heading:"Error!",text:e(t.response.statusMessage)}}function o(e){return t.onSubmitDeclaration(e)["catch"](r)}function i(){s.alert=void 0}var s=this,n=s.transaction,l=n.model,c=t.getQuestionConfirmations(l,l.declarationDetailsResponse);a.listen(),angular.extend(s,{declarationDetails:l.declarationDetailsResponse,fields:t.getAnsweredQuestionsFields(c),model:l,onSubmit:o,dismissAlert:i})}e.$inject=["errorMsgMap","replaceLicenceService","pageLeaveAlert"],angular.module("rms.replace-licence").controller("replaceLicenceCheckDeclarationController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"=",existingModel:"="},restrict:"AE",transclude:!0,templateUrl:"rms/replaceLicence/confirmDetails/replace-licence-confirm-details.html",controller:"replaceLicenceConfirmDetailsController as replaceLicence"}}angular.module("rms.replace-licence").directive("replaceLicenceConfirmDetails",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l){function c(e){f.form.$valid&&n.saveContext(C,e).then(s.confirmRequest).then(u)["catch"](m)}function u(e){l.destroy(),f.model.confirmDetailsResponse=e,S.price.fee.grossAmount<=0?t.go("rms.replaceLicence.receipt",{token:C}):d(e)}function d(e){var t=e.pspPayload;t&&(f.transaction.textToken=t.textToken,f.transaction.jwtToken=t.jwtToken),e.pspPostURL&&(f.transaction.pspPostURL=e.pspPostURL)}function p(e){f.alert=angular.extend({},{type:"info"},e)}function m(e){var t=o(e.response.statusMessage);f.alert={type:"danger",heading:"Error!",text:t},p({type:"danger",heading:"Error!",text:t})}function g(){t.go("rms.replaceLicence.submittedDeclaration")}var f=this;angular.isDefined(f.existingModel)&&(f.transaction.model=angular.extend(f.transaction.model,f.existingModel));var b=f.transaction.model;b.termsAndConditions=!1;var h=b.licence||{},v=h.licenceCategories||[],y=b.declarationDetailsResponse,S=b.checkDeclarationResponse,C=b.checkDeclarationResponse.transactionToken,E=[{key:"termsAndConditions",type:"checkbox-label-with-action",templateOptions:{required:!0,label:"Terms and Conditions",labels:[{text:"I agree to the"},{text:"Terms and Conditions",action:function(){return r.remoteTermsAndConditions({heading:"Terms & Conditions: Replacement products",transactionToken:C})}}]},validation:{messages:{required:'"Please accept terms and conditions"'}}}];l.listen(),angular.extend(f,{interimLicenceOnly:i.interimLicenceOnly(v),snswSiteUrl:e,model:b,declarationDetails:y,checkDeclarationResponse:S,licenceCategories:v,transactionToken:C,fields:E,back:g,onSubmit:c,glItems:i.getGlItems(b,"checkDeclarationResponse.price.fee.priceItems")})}e.$inject=["snswSiteUrl","$state","$window","snswModal","errorMsgMap","replaceLicenceService","replaceLicenceConfirmDetailsService","rmsTransactionService","pageLeaveAlert"],angular.module("rms.replace-licence").controller("replaceLicenceConfirmDetailsController",e)}(),function(){"use strict";function e(e,t){function a(a){var r={transactionToken:a.checkDeclarationResponse.transactionToken,userContext:{},requestObj:{progressStep:"4",progressStepTotal:"5"}};a.pensioner&&(r.concessionDetails=a.concessionDetails,r.concessionDetails.benefitCard.type=a.pensionerType),t.log("1 confirmRequest declarationParams: ",r);var o={remoteAction:"RMSWrapperCtrl.confirmRequestReplacementLicence",params:[JSON.stringify(r)]};return e.vf(o)}return{confirmRequest:a}}e.$inject=["rmsTransactionService","$log"],angular.module("rms.replace-licence").factory("replaceLicenceConfirmDetailsService",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"rms/replaceLicence/declarationDetails/replace-licence-declaration-details.html",controller:"replaceLicenceDeclarationDetailsController as replaceLicence"}}angular.module("rms.replace-licence").directive("replaceLicenceDeclarationDetails",e)}(),function(){"use strict";function e(e,t,a){function r(){return s.form.$valid?(a.destroy(),t.go("rms.replaceLicence.checkDeclaration")):void 0}function o(e,t){angular.isUndefined(e.declarations)&&(e.declarations=t,e.declarations.sort(function(e,t){return e.question.displayOrder-t.question.displayOrder}),e.declarations.forEach(function(e){angular.isUndefined(e.response)?e.response={title:16===e.question.id?"RefusedDrivingFlag":"DisqualifiedLicenceFlag",answers:[]}:e.response={title:16===e.question.id?"RefusedDrivingFlag":"DisqualifiedLicenceFlag",answers:[]}}))}function i(){a.destroy(),t.go("rms.replaceLicence.details")}var s=this,n=s.transaction.model;o(n,n.declarationDetailsResponse.declarations),a.listen();var l=n.declarations.map(function(e,t){return{key:"declarationAnswers["+t+"]",type:"btn-radio",wrapper:["validation","bootstrap-row-col"],templateOptions:{options:["Yes","No"],optionsWidth:"col-md-4",hideLegend:!0,label:"Question "+(t+1),message:t+1+". "+e.question.text,required:!0,labelBold:!0,bootstrapColClassNames:"col-md-12"}}});angular.extend(s,{onSubmit:r,fields:l,model:n,back:i})}e.$inject=["snswSiteUrl","$state","pageLeaveAlert"],angular.module("rms.replace-licence").controller("replaceLicenceDeclarationDetailsController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"rms/replaceLicence/details/replace-licence-details.html",controller:"replaceLicenceDetailsController as replaceLicence"}}angular.module("rms.replace-licence").directive("replaceLicenceDetails",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n){function l(e){b.alert=angular.extend({},{type:"info"},e)}function c(e){var t=o(e.response.statusMessage);l({type:"danger",heading:"Error!",text:t})}function u(e){return"PENSIONER_CHECK_DEFERRED_ON_PENSIONER_VALIDATION"===e.code||"INVALID_GIVEN_NAME"===e.code||"NOT_ELIGIBLE_FOR_PENSION_CONCESSION"===e.code}function d(e){return function(t){return t.code===e}}function p(e){if(h.declarationDetailsResponse=e,n.destroy(),"Y"===h.declarationDetailsResponse.existingDeclaration||h.declarationJustSubmitted)t.go("rms.replaceLicence.submittedDeclaration");else if(h.declarationDetailsResponse.messages.length){var a=h.declarationDetailsResponse.messages;if(a.some(u)){var r=[{message:h.declarationDetailsResponse.statusMessage,severity:"info"}];return i.open({heading:null,errorMessages:r,primaryButton:"Back",secondaryButton:"Continue"})["catch"](function(){return t.go("rms.replaceLicence.declarationDetails")})}t.go("rms.replaceLicence.declarationDetails")}else t.go("rms.replaceLicence.declarationDetails")}function m(){r.validateRequestReplaceLicenceInitial(h).then(p)["catch"](c)}function g(e,t){var a=b.model.replaceReason,r=b.model.concessionDetails&&b.model.concessionDetails.benefitCard;b.options.resetModel(),b.form.$setPristine(),b.form.$setUntouched(),b.fields=s.getDetailsFields(h.validReplacementReasons,e,t),b.model.pensioner=e,b.model.replaceReason=a,b.model.pensionerType=t,b.model.concessionDetails&&(b.model.concessionDetails.givenName=null),r&&(b.model.concessionDetails.benefitCard.cardNumber=null)}function f(e){g(b.model.pensioner,e)}var b=this,h=b.transaction.model,v=h.licence||{},y=v.licenceCategories||[],S=s.getDetailsFields(h.validReplacementReasons,h.pensioner,h.pensionerType),C=6,E=y.some(r.categorySuccess),M=y.some(r.categoryError),A=y.some(function(e){var t=moment();return moment(e.expiryDate).isAfter(t)&&moment(e.expiryDate).isBefore(t.add(C,"weeks"))}),N=h.messages;N&&(b.pendingCancellation=N.some(d("LIC_PENDING_CANC")),b.pendingSuspension=N.some(d("LIC_PENDING_SUSPENSION")));var T={formState:{pensionerChange:g,pensionerTypeChange:f}};angular.extend(b,{expiryWeeksLimit:C,hasCategorySuccess:E,hasCategoryError:M,expiring:A,interimLicenceOnly:r.interimLicenceOnly(y),snswSiteUrl:e,onSubmit:m,fromLinkingPage:h.fromLinkingPage,licenceCategories:y,fields:E?S:[],options:T,model:h,quitPrimaryAction:b.transaction.quitPrimaryAction}),n.listen()}e.$inject=["snswSiteUrl","$state","$scope","replaceLicenceService","errorMsgMap","snswModal","replaceLicenceDetailsFields","pageLeaveAlert"],angular.module("rms.replace-licence").controller("replaceLicenceDetailsController",e)}(),function(){"use strict";function e(e,t){var a=function(e,a,r){var o=[{key:"replaceReason",type:"btn-radio",wrapper:["validation","bootstrap-row-col"],templateOptions:{options:e,optionsWidth:"col-md-8",label:"Please choose the reason that best describes what happened to your existing licence card.",required:!0,bootstrapColClassNames:"col-md-12"}},{key:"pensioner",type:"checkbox-label-with-action",templateOptions:{labels:[{text:"I am a pensioner"}],onChange:"formState.pensionerChange(fc.$modelValue)"}}],i=[{value:"Centre Link",label:"Centrelink"},{value:"Dept Of Veteran Affairs",label:"Department of Veteran Affairs"}],s=o;if(a===!0){s.push({type:"select",key:"pensionerType",wrapper:["label-with-modal","hint","validation"],templateOptions:{required:!0,options:i,label:"Choose the pensioner type",labels:[{text:"Choose the"},{text:"pensioner type",openModal:function(){t.open({heading:"Pensioner type",body:"The pensioner type relates to the department or organisation that issued the pensioner card.",secondaryButton:"Close"})}}],hint:"The pensioner type relates to the department or organisation that issued the pensioner card.",onChange:"formState.pensionerTypeChange(fc.$modelValue)"}});var n="Dept Of Veteran Affairs"===r;r&&s.push({key:"concessionDetails.benefitCard.cardNumber",type:"input",wrapper:["validation","label","hint"],templateOptions:{label:"Card number",minlength:n?8:10,maxlength:n?9:10,pattern:"[a-zA-Z0-9]*",hint:"Enter the DVA or Centrelink pensioner card number without spaces, symbols or dashes.",required:!0}}),n&&s.push({key:"concessionDetails.givenName",type:"input",wrapper:["hint","validation","label"],templateOptions:{hint:"Enter the given/first name as recorded on your concession card.",label:"Given name",required:!0}})}return s};return{getDetailsFields:a}}e.$inject=["$log","snswModal"],angular.module("rms.replace-licence").factory("replaceLicenceDetailsFields",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"rms/replaceLicence/ineligibleReplacement/replace-licence-ineligible-replacement.html",controller:"replaceLicenceIneligibleReplacementController as replaceLicence"}}angular.module("rms.replace-licence").directive("replaceLicenceIneligibleReplacement",e)}(),function(){"use strict";function e(e){var t,a=this,r=a.transaction.model;if(r.checkDeclarationResponse){var o=r.checkDeclarationResponse.messages;if(o){for(var i=[],s=0;s<o.length;s++)"NOT_ELIGIBLE"===o[s].code?t=o[s].message:i.push(o[s]);r.licence.licenceCategories=r.licence.licenceCategories.map(function(e){return e.messages?e.messages=e.messages.concat(i):e.messages=i,e})}}angular.extend(a,{snswSiteUrl:e,model:r,mainMessage:t,messageOptions:{severity:"info"},quitPrimaryAction:a.transaction.quitPrimaryAction})}e.$inject=["snswSiteUrl"],angular.module("rms.replace-licence").controller("replaceLicenceIneligibleReplacementController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"=",receiptData:"="},restrict:"E",replace:!0,transclude:!0,templateUrl:"rms/replaceLicence/receipt/replace-licence-confirmation.html",controller:"replaceLicenceConfirmationController as replaceLicence"}}angular.module("rms.replace-licence").directive("replaceLicenceReceipt",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s){function n(e){var t="Send my ";return e&&(t+="Interim Licence PDF and "),t+="transaction receipt to this email address:"}var l=this,c=l.receiptData||{},u=c.transactionDetails.licenceCategories||[],d=a.interimLicenceOnly(u),p={severity:"info"};s.listen(),angular.extend(l,{transactionToken:r.token,newCardMessageOptions:p,SNIPPETS:o,details:c,scrollTo:i.scrollTo,interimLicenceOnly:d,snswSiteUrl:e,user:t,glItems:a.getGlItems(c,"paymentFeeDetails.fee.priceItems"),sendEmailDescription:n(c.transactionDetails.interimLicenceLink),licenceCategories:u})}e.$inject=["snswSiteUrl","user","replaceLicenceService","$stateParams","SNIPPETS","UIService","pageLeaveAlert"],angular.module("rms.replace-licence").controller("replaceLicenceConfirmationController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"rms/replaceLicence/submittedDeclaration/replace-licence-submitted-declaration.html",controller:"replaceLicenceSubmittedDeclarationController as replaceLicence"}}angular.module("rms.replace-licence").directive("replaceLicenceSubmittedDeclaration",e)}(),function(){"use strict";function e(e,t,a,r,o,i){function s(e){u.alert={type:"danger",heading:"Error!",text:r(e.response.statusMessage)}}function n(e){return o.onSubmitDeclaration(e)["catch"](s)}function l(){t.go("rms.replaceLicence.details")}function c(){u.alert=void 0}var u=this,d=u.transaction.model,p=d.declarationDetailsResponse,m=o.getQuestionConfirmations(d,d.declarationDetailsResponse),g=o.getAnsweredQuestionsFields(m);i.listen(),angular.extend(u,{snswSiteUrl:e,model:d,declarationDetails:p,fields:g,onSubmit:n,back:l,dismissAlert:c})}e.$inject=["snswSiteUrl","$state","$window","errorMsgMap","replaceLicenceService","pageLeaveAlert"],angular.module("rms.replace-licence").controller("replaceLicenceSubmittedDeclarationController",e)}(),function(){"use strict";function e(){return{scope:{},restrict:"AE",transclude:!0,bindToController:{certDetails:"="},templateUrl:"rms/replaceRegCert/confirmation/regCertDetails.html",controllerAs:"regCert",controller:function(){function e(e){return angular.isArray(e)&&e.forEach(function(e){e.name&&"DUP REGISTRATIONS"===e.name.toUpperCase()&&(e.name="Registration certificate")}),e}var t=this,a=t.certDetails,r=a.validVehicle;t.custLastName=r.custLastName,t.regExpiry=r.registrationExpiryDate,t.regReplacementCost=r.regReplacementCost,t.reasonCode=a.reasonCode,t.gstAmount=r.gstAmount||0,t.amountDue=r.amountDue||0,t.glItems=r.glItems,e(t.glItems)}}}angular.module("rms.replace-reg-cert").directive("regCertDetails",e)}(),function(){"use strict";function e(){return{scope:{},restrict:"AE",transclude:!0,bindToController:{transaction:"=",existingModel:"="},templateUrl:"rms/replaceRegCert/confirmation/replace-reg-cert-confirmation.html",controller:"replaceRegCertConfirmationController as confirmation"}}angular.module("rms.replace-reg-cert").directive("replaceRegCertConfirmation",e)}(),function(){"use strict";function e(e,t,a,r,o,i){function s(){return a.privacyStatement()}function n(e){g.alert=angular.extend({},{type:"info"},e)}function l(e){var t=e.message||e.statusMessage;n({type:"danger",heading:"Error!",text:t})}function c(e){o.destroy();var t=e.pspPayload;t&&(g.transaction.textToken=t.textToken,g.transaction.jwtToken=t.jwtToken),e.pspPostURL&&(g.transaction.pspPostURL=e.pspPostURL)}function u(){return r.submitForPayment({transactionToken:g.transaction.model.transactionToken,userContext:{},requestObj:{progressStep:g.transaction.user.isTLA?"4":"3",progressStepTotal:g.transaction.user.isTLA?"5":"4"}})}function d(){return g.form.$valid?r.saveContext(g.transaction.model.transactionToken,g.transaction.model).then(u).then(c)["catch"](l):void 0}function p(){g.existingModel.termsAndConditions=!1}function m(){angular.isDefined(g.existingModel)&&(p(),r.updateModel(g.existingModel))}var g=this,f=[{key:"termsAndConditions",type:"checkbox-label-with-action",templateOptions:{required:!0,label:"Terms and Conditions",labels:[{text:"I agree to the"},{text:"Terms and Conditions",action:function(){return a.remoteTermsAndConditions({heading:"Terms & Conditions: Replacement products",transactionToken:g.transaction.model.transactionToken})}}]},validation:{messages:{required:'"Please accept terms and conditions"'}}}];o.setMessage("If you navigate away, any unsaved changes will be lost."),m(),o.listen(),angular.extend(g,{fields:f,onSubmit:d,showPrivacy:s,snswSiteUrl:i,regoExpiryMsg:{severity:"info",message:"&nbsp;<strong>Vehicle registration expires soon</strong>"},heavyVehicleMsg:{severity:"info",message:"&nbsp;<strong>Important information</strong>"}})}e.$inject=["$state","$sce","snswModal","rmsTransactionService","pageLeaveAlert","snswSiteUrl"],angular.module("rms.replace-reg-cert").controller("replaceRegCertConfirmationController",e)}(),function(){"use strict";function e(){return{scope:{},restrict:"AE",transclude:!0,bindToController:{transaction:"=",eligibilityDefinition:"=",reasonCodes:"="},templateUrl:"rms/replaceRegCert/details/replace-reg-cert-details.html",controller:"replaceRegCertDetailsController as details"}}angular.module("rms.replace-reg-cert").directive("replaceRegCertDetails",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n){function l(){return angular.isArray(y.transaction.model.eligibleVehicles)||(y.transaction.model.eligibleVehicles=[]),y.transaction.model.eligibleVehicles.map(function(e){return{vehiclePlateNumber:e.NSWPlateNumber,vehicleDescription:e.manufactureYear+" "+e.vehicleColour+" "+e.manufacturer+" "+e.model+" "+e.bodyShape,vehicleVinChassis:e.vin||e.chassisNumber,vehicleExpiry:e.registrationExpiryDate}})}function c(){return y.transaction.model.eligibleVehicles&&y.transaction.model.eligibleVehicles.length>0}function u(){return y.transaction.model.eligibleVehicles&&y.transaction.model.eligibleVehicles.length>1}function d(){return c()&&y.transaction.model.hasMoreVehicles}function p(){1!==y.transaction.model.eligibleVehicles.length||y.transaction.model.txtPlateNumber||(y.transaction.model.plateNumber=y.transaction.model.eligibleVehicles[0].NSWPlateNumber)}function m(){y.transaction.user.isAuthenticated&&y.transaction.model.eligibleVehicles.length<=0&&(y.hasNoVehicles=!0)}function g(){return c()?"":"Enter the NSW plate number of the vehicle that needs the replacement registration product."}function f(){n.destroy(),e.go("rms.replaceRegCert.confirmation",{token:void 0})}function b(e){y.alert=angular.extend({},e)}function h(e){var t=e.message||e.response.statusMessage,a=e.type||"danger",r=e.heading||"Error!";b({type:a,heading:r,text:t})}function v(){if(y.form.$valid){var e=angular.extend({},{transactionToken:y.transaction.model.transactionToken,plateNumber:y.transaction.model.plateNumber||y.transaction.model.txtPlateNumber,reasonCode:y.transaction.model.reasonCode});i.validateForReplaceRegCert(e).then(s.updateModel).then(f)["catch"](h)}}var y=this;y.hasNoVehicles=!1,s.updateModel(angular.extend({},y.eligibilityDefinition,y.reasonCodes));var S=[{type:"btn-radio",key:"reasonCode",wrapper:["validation","hint","bootstrap-row-col"],templateOptions:{options:y.transaction.model.reasonCodes,label:"Please choose the reason that best describes what happened to your existing registration product",hint:g(),required:!0,optionsWidth:"col-md-8",bootstrapColClassNames:"col-md-12"}},{noFormControl:!0,hideExpression:function(){return!u()},template:function(){return"<p>Select details of the vehicle that needs the replacement registration product.</p>"}},{type:"vehicle-radio-button",key:"plateNumber",wrapper:["validation","bootstrap-row-col"],hideExpression:function(){return!c()},templateOptions:{options:l(),valueProp:"vehiclePlateNumber",required:!0,onFocus:'model.txtPlateNumber = ""',bootstrapColClassNames:"col-md-8",label:function(){return u()?"Choose the vehicle":"Select the vehicle details to confirm that this is the vehicle that needs the replacement registration product."}()},expressionProperties:{"templateOptions.required":function(e,t,a){return angular.isUndefined(a.model.txtPlateNumber)||""===a.model.txtPlateNumber}},validation:{messages:{required:'"Please either select a vehicle from the list or enter a valid plate number"'}}},{noFormControl:!0,hideExpression:function(){return!d()},template:"<p>There are too many vehicles to list them all here. If the vehicle is not listed, please enter the plate number of the vehicle below.</p>"},{noFormControl:!0,hideExpression:function(){return d()||!c()},template:"<p>If the vehicle is not listed, please enter its NSW plate number.</p>"},{type:"input",key:"txtPlateNumber",wrapper:["label-with-modal","validation","hint","bootstrap-row-col"],templateOptions:{bootstrapColClassNames:"col-md-6",type:"text",label:"NSW Plate Number",labels:[{text:"NSW plate number",openModal:function(){a.open({heading:r.RMS.TRANSFERREGO.BOUGHTVEHICLE.PLATENUMBERLABEL,body:'<img class="img-responsive" src="'+o+"/images/rego-notice.png\"><p>You can find the NSW plate number on the vehicle's licence plates, or under the heading 'Plate' at the top right corner of your registration certificate.</p>",secondaryButton:r.GLOBAL.ACTIONS.CLOSE})}}],hint:"Enter the vehicle plate number without spaces or dots",required:!0,maxlength:6,onFocus:'model.plateNumber = ""',pattern:"[a-zA-Z0-9]*"},expressionProperties:{"templateOptions.required":function(e){return!c()||""!==e&&angular.isDefined(e)}},validation:{messages:{required:'"Please enter the NSW plate number"',maxlength:'"The NSW plate number should not exceed 6 characters"',pattern:'"NSW plate number format invalid. Must contain numbers or letters only."'}}}];angular.extend(y,{fields:S,onSubmit:v,quitText:y.transaction.quitState?"Back":"Quit"}),n.listen(),p(),m()}e.$inject=["$state","$scope","snswModal","SNIPPETS","resourcePath","replaceRegCertDetailsService","rmsTransactionService","pageLeaveAlert"],angular.module("rms.replace-reg-cert").controller("replaceRegCertDetailsController",e)}(),function(){"use strict";function e(e){function t(t){var a={remoteAction:"RMSWrapperCtrl.validateForReplaceRegCert",params:[JSON.stringify(t)],resultMap:function(e){return e.statusObject}};return e.vf(a)}var a=this;angular.extend(a,{validateForReplaceRegCert:t})}e.$inject=["rmsTransactionService"],angular.module("rms.replace-reg-cert").service("replaceRegCertDetailsService",e)}(),function(){"use strict";function e(){return{scope:{},restrict:"AE",transclude:!0,bindToController:{transaction:"=",receiptData:"="},templateUrl:"rms/replaceRegCert/receipt/replace-reg-cert-receipt.html",controller:"replaceRegCertReceiptController as receipt"}}angular.module("rms.replace-reg-cert").directive("replaceRegCertReceipt",e)}(),function(){"use strict";function e(e,t,a,r){function o(){var e=s.receiptData.transactionDetails.address;if(e){var t=[],a=[],r=[];t.push(e.addressLine1),t.push(e.addressLine2),a.push(e.suburb),a.push(e.state),a.push(e.postCode),r.push(t.filter(function(e){return e}).join(", ")),r.push(a.filter(function(e){return e}).join(" ")),s.receiptData.transactionDetails.address=r.join(", ")}else s.receiptData.transactionDetails.address="Please note that the registration certificate being ordered will be sent to the current billing address of the vehicle."}function i(e){
return angular.isArray(e)&&e.forEach(function(e){e.name&&"DUP REGISTRATIONS"===e.name.toUpperCase()&&(e.name="Registration certificate")}),e}var s=this;s.important={severity:"info",message:"&nbsp;<strong>Important information</strong>"},s.success={severity:"success"},o(),i(s.receiptData.paymentFeeDetails.glItems),t.listen(),angular.extend(s,{isLabelRequired:s.receiptData.transactionDetails.isLabelRequired,vehicle:s.receiptData.header,SNIPPETS:a,snswSiteUrl:e,transactionToken:r.token})}e.$inject=["snswSiteUrl","pageLeaveAlert","SNIPPETS","$stateParams"],angular.module("rms.replace-reg-cert").controller("replaceRegCertReceiptController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l){if(e.hasError=e.hasError||!1,!i)return void t.go("renewLicence.tla");if(o.error&&2e3!==o.error.statusCode){if(e.hasError=!0,2002===o.error.statusCode)e.transErrorInfo.hidePageHeader=!1,e.transErrorInfo.style="error",e.transErrorInfo.messages=[{message:o.error.statusMessage,severity:"ERROR"}],t.go("error");else if(l.failRmsIsNotLinked(o.error))return}else if(n.error&&2e3!==n.error.statusCode){if(e.hasError=!0,2002===n.error.statusCode)e.transErrorInfo.style="error",e.transErrorInfo.messages=[{message:n.error.statusMessage,severity:"ERROR"}],t.go("error");else if(l.failRmsIsNotLinked(n.error))return}else if(s.error&&2e3!==s.error.statusCode||s.statusObject&&s.statusObject.messages&&s.statusObject.messages instanceof Array&&s.statusObject.messages.length>0)if(e.hasError=!0,s.error&&2002===s.error.statusCode)e.transErrorInfo.style="error",e.transErrorInfo.messages=[{message:s.error.statusMessage,severity:"ERROR"}],t.go("error");else if(s.statusObject&&s.statusObject.messages)e.transErrorInfo.style="error",e.transErrorInfo.messages=s.statusObject.messages,t.go("error");else if(l.failRmsIsNotLinked(s.error))return;e.model={},e.model.token=o.statusObject,e.$on("$viewContentLoaded",function(){e.pageHeader=t.current.data.pageHeader,e.progress={max:t.$current.parent.data.progressMax,now:t.current.data.progressNow}}),e.quit=function(){r.listen(),t.go("quit"),r.destroy()},e.back=function(){},e.isFirstStep=function(){return!(!t.$current.data||"1"!==t.$current.data.progressNow)},e.isLastStep=function(){return!(!t.$current.data||t.$current.data.progressNow!==t.$current.parent.data.progressMax)},e.failEmailResult=function(){var t=JSON.parse(a.RMS.RECEIPT.FAILEMAIL);e.model.errorMessages.push(t)},e.failUpdateResult=function(){var t=JSON.parse(a.RMS.RECEIPT.FAILUPDATE);e.model.errorMessages.push(t)}}e.$inject=["$scope","$state","SNIPPETS","pageLeaveAlert","token","isAuthenticated","reprintLicenceOptions","customerInfo","commonUtil"],angular.module("rms").controller("reprintLicenceController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d){return r.name="reprintLicenceFormController",r.info=[],r.$on("$viewContentLoaded",function(){r.pageHeader=e.current.data.pageHeader}),o.listen(),r.fields=[{key:"message-notice",template:'<snsw-message-panel options="to.options">'+t.RMS.REPRINTLICENCE.LICENCEMESSAGEPDF+'<rms-pdf-link file-name="to.filename"link-text="'+t.RMS.REPRINTLICENCE.DOWNLOADPDF+'"transaction-token="to.transactionToken"></rms-pdf-link></snsw-message-panel>',templateOptions:{options:{severity:"info"},filename:"InterimLicence.pdf",transactionToken:l.statusObject}},{noFormControl:!0,template:d.statusObject.receiptDataBlock},{type:"hr"},{noFormControl:!0,template:'<strong class="col-xs-12 col-md-12">'+t.GLOBAL.RECEIPT.CONFIRMATION.KEEPRECORDSINTERIMLICENCE+"</strong>",className:"form-group row"},{noFormControl:!0,template:"<p>"+(c&&c.emailAddress)+"</p>",className:"form-group",hideExpression:function(){return!c||!c.emailAddress||""===c.emailAddress}},{key:"rmsCustomerEmail",type:"input",wrapper:["label","bootstrap-row","validation"],templateOptions:{label:t.RMS.RECEIPT.SENDEMAIL,type:"email"},className:"col-xs-12"},{key:"updateContact",type:"checkbox",wrapper:["bootstrap-row-col"],templateOptions:{label:t.RMS.RECEIPT.MAKETHISMYEMAILLABEL,disabled:function(){var e=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return!r.model.rmsCustomerEmail||!e.test(r.model.rmsCustomerEmail)||r.model.rmsCustomerEmail===c.emailAddress},bootstrapColClassNames:"col-xs-12"},hideExpression:function(){return!n}},{key:"sendEmailButton",type:"button",className:"form-group",templateOptions:{label:t.GLOBAL.ACTIONS.SEND,click:function(){r.model.errorMessages=[],r.model.rmsCustomerEmail&&i.sendInterimLicenceEmail([r.model.rmsCustomerEmail,l.statusObject]).then(function(e){s.successResult(e,r,r.model)})["catch"](r.failEmailResult),r.model.updateContact&&r.model.rmsCustomerEmail!==c.emailAddress&&i.updateContactDetails(r.model.rmsCustomerEmail,l.statusObject).then(function(e){s.successResult(e,r,r.model)})["catch"](r.failUpdateResult)},disabled:function(){var e=/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;return!r.model.rmsCustomerEmail||!e.test(r.model.rmsCustomerEmail)}}},{noFormControl:!0,template:'<snsw-error-messages messages="to.getErrorMessages()"></snsw-error-messages>',templateOptions:{getErrorMessages:function(){return r.model.errorMessages&&1!==r.progress.now?r.model.errorMessages:void 0}}},{type:"hr"},{noFormControl:!0,template:'<p class="col-md-12 col-xs-12">'+t.GLOBAL.RECEIPT.SURVEY.IFYOUHAVERECENTLY+"</p>",className:"row"},{key:"changeAddress",type:"anchor",templateOptions:{link:t.RMS.RECEIPT.CHANGEADDRESSCONTACTLINK,label:t.RMS.RECEIPT.CHANGEADDRESSCONTACTLABEL}},{key:"registrationCheck",type:"anchor",templateOptions:{link:t.RMS.RECEIPT.REGISTRATIONCHECKLINK,label:t.RMS.RECEIPT.REGISTRATIONCHECKLABEL}},{key:"replaceRegistration",type:"anchor",templateOptions:{link:t.RMS.RECEIPT.REPLACEREGISTRATIONLINK,label:t.RMS.RECEIPT.REPLACEREGISTRATIONLABEL}},{key:"surveyButton",type:"button",templateOptions:{className:"btn btn-default btn-md",label:t.RMS.RECEIPT.SURVEYBUTTON,click:function(){o.destroy(),e.go("survey",{transactionToken:l.statusObject})}}},{type:"hr"},{noFormControl:!0,template:'<snsw-receipt-do-more link="'+t.GLOBAL.ACTIONS.QUITBUTTONLINK+'" isAuthenticated='+n+"></snsw-receipt-do-more>"}],r.onSubmit=function(){r.model.errorMessages=[],r.model.rmsCustomerEmail&&i.sendInterimLicenceEmail([r.model.rmsCustomerEmail,l.statusObject]).then(function(){var e=JSON.parse(t.RMS.RECEIPT.SUCCESSEMAIL);r.model.errorMessages.push(e)})["catch"](r.failEmailResult),r.model.updateContact&&i.updateContactDetails(r.model.rmsCustomerEmail,l.statusObject).then(function(){var e=JSON.parse(t.RMS.RECEIPT.SUCCESSUPDATE);r.model.errorMessages.push(e)})["catch"](r.failUpdateResult)},r.formOk=function(){return!!r.model.rmsCustomerEmail},n?void 0:(o.destroy(),void e.go("reprintLicence.tla"))}e.$inject=["$state","SNIPPETS","$sce","$scope","pageLeaveAlert","reprintLicenceService","commonUtil","isAuthenticated","token","customerInfo","reprintLicenceOptions","receiptData"],angular.module("rms").controller("reprintLicenceFormController",e)}(),function(){"use strict";function e(e,t){this.createInterimLicenceTransaction=function(a){var r={remoteAction:"rmsRenewLicCtrl.createInterimLicenceTransaction",params:[a,t]};return e.call(r)},this.getInterimLicence=function(t){var a={remoteAction:"rmsRenewLicCtrl.getInterimLicence",params:[t],resultMap:function(e){return e}};return e.call(a)},this.getCustomerInfo=function(t){var a={remoteAction:"rmsRenewLicCtrl.getCustomerInfo",params:[t]};return e.call(a)},this.mapJsonToInterimLicence=function(e){return e},this.updateContactDetails=function(t,a){var r={remoteAction:"rmsTransactionCtrl.updateContactDetails",params:[{contactDetail:[{contactCategory:"Email Address",contactValue:t,status:"Valid"}]},a]};return e.call(r)},this.sendInterimLicenceEmail=function(t){var a={remoteAction:"rmsRenewLicCtrl.sendInterimLicenceEmail",params:t};return e.call(a)}}e.$inject=["vf","siteId"],angular.module("rms").service("reprintLicenceService",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l){if(e.model={},e.model.token=i.statusObject,!o)return r.destroy(),void t.go(t.$current.parent.data.loginState);if(i.error&&2e3!==i.error.statusCode){if(e.hasError=!0,2002===i.error.statusCode)e.transErrorInfo.hidePageHeader=!1,e.transErrorInfo.style="error",e.transErrorInfo.messages=[{message:i.error.statusMessage,severity:"ERROR"}],t.go("error");else if(l.failRmsIsNotLinked(i.error))return}else if(s.error&&2e3!==s.error.statusCode){if(e.hasError=!0,2002===s.error.statusCode)e.transErrorInfo.style="error",e.transErrorInfo.messages=[{message:s.error.statusMessage,severity:"ERROR"}],t.go("error");else if(l.failRmsIsNotLinked(s.error))return}else if(n.error&&2e3!==n.error.statusCode)if(e.hasError=!0,2002===n.error.statusCode)e.transErrorInfo.style="error",e.transErrorInfo.messages=[{message:n.error.statusMessage,severity:"ERROR"}],t.go("error");else if(l.failRmsIsNotLinked(n.error))return;e.$on("$viewContentLoaded",function(){e.pageHeader=t.current.data.pageHeader,e.progress={max:t.$current.parent.data.progressMax,now:t.current.data.progressNow},e.processName=t.$current.parent.data.processName})}e.$inject=["$scope","$state","SNIPPETS","pageLeaveAlert","isAuthenticated","token","customerInfo","retrieveDeclarationOptions","commonUtil"],angular.module("rms").controller("retrieveDeclarationController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u){if(!n)return o.destroy(),void e.go(e.$current.parent.data.loginState);if(r.name="retrieveDeclarationFormController",r.info=[],r.errorMessages=u.extractErrorMessages(l),r.errorMessages&&r.errorMessages.length)for(var d=0;d<r.errorMessages.length;d++)!r.errorMessages[d].code||"DOCUMENT_NOT_FOUND"!==r.errorMessages[d].code&&"UNABLE_GEN_DECL_PDF"!==r.errorMessages[d].code||(r.hideDeclarationPanel=!0);c&&c.statusObject&&r.info.push([{label:t.RMS.RECEIPT.SNSWRECEIPTNUMBER,text:l.statusObject.snswReceiptNumber},{label:t.RMS.RECEIPT.DATE,text:l.statusObject.transactionDate},{label:t.RMS.RETRIEVEDECLARATION.LASTNAME,text:c.statusObject.familyName},{label:t.RMS.RETRIEVEDECLARATION.NSWDRIVERLICENCENUMBER,text:l.statusObject.licenceId,type:"text"}]),o.listen(),r.fields=[{key:"message-notice",template:'<snsw-message-panel options="to.options">'+t.RMS.RETRIEVEDECLARATION.DECLARATIONMESSAGE+'<rms-pdf-link file-name="to.filename"link-text="'+t.RMS.RETRIEVEDECLARATION.DECLARATIONMESSAGEPDFTEXT+'"transaction-token="to.transactionToken"file-data="to.fileData"></rms-pdf-link></snsw-message-panel>',templateOptions:{filename:"Declaration.pdf",transactionToken:i.statusObject},expressionProperties:{"templateOptions.fileData":function(){return l&&l.statusObject&&l.statusObject.declarationPDF?l.statusObject.declarationPDF:void 0}},hideExpression:function(){return r.hideDeclarationPanel}},{hideExpression:"options.templateOptions.options.length === 0",key:"decInfo",type:"data-list",templateOptions:{options:{data:r.info},isCondensed:!0}},{noFormControl:!0,template:'<snsw-receipt-do-more link="'+t.GLOBAL.ACTIONS.QUITBUTTONLINK+'" isAuthenticated='+n+"></snsw-receipt-do-more>"}]}e.$inject=["$state","SNIPPETS","$sce","$scope","pageLeaveAlert","token","retrieveDeclarationService","isAuthenticated","retrieveDeclarationOptions","customerInfo","commonUtil"],angular.module("rms").controller("retrieveDeclarationFormController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l){if(!o)return a.destroy(),void e.go(e.$current.parent.data.loginState);var c=this;if(t.name="retrieveDeclarationFormController",t.errorMessages=l.extractErrorMessages(i),t.errorMessages&&t.errorMessages.length)for(var u=0;u<t.errorMessages.length;u++)!t.errorMessages[u].code||"DOCUMENT_NOT_FOUND"!==t.errorMessages[u].code&&"UNABLE_GEN_DECL_PDF"!==t.errorMessages[u].code||(t.hideDeclarationPanel=!0);a.listen(),angular.extend(c,{retrieveDeclarationResponse:i.statusObject,transactionToken:r,messageOptions:{severity:"info"},snswSiteUrl:n,customerInfo:s,isAuthenticated:o})}e.$inject=["$state","$scope","pageLeaveAlert","token","isAuthenticated","retrieveDeclarationOptions","customerInfo","snswSiteUrl","commonUtil"],angular.module("rms").controller("retrieveReplaceLicenceDeclarationFormController",e)}(),function(){"use strict";function e(e,t){this.createDeclarationPDFTransaction=function(a){var r={remoteAction:"rmsRenewLicCtrl.createDeclarationPDFTransaction",params:[a,t]};return e.call(r)},this.updateContactDetails=function(t,a){var r={remoteAction:"rmsRenewLicCtrl.updateContactDetails",params:[{contactCategory:"Email Address",contactValue:t,status:"Valid"},a]};return e.call(r)},this.getCustomerInfo=function(t){var a={remoteAction:"rmsRenewLicCtrl.getCustomerInfo",params:[t]};return e.call(a)},this.sendDeclarationPDFEmail=function(t){var a={remoteAction:"rmsRenewLicCtrl.sendInterimLicenceEmail",params:t};return e.call(a)},this.getLatestDeclarationPDF=function(t){var a={remoteAction:"rmsRenewLicCtrl.getLatestDeclarationPDF",params:[t],resultMap:function(e){return e}};return e.call(a)},this.getLatestReplaceLicenceDeclarationPDF=function(t){var a={remoteAction:"RMSWrapperCtrl.getLatestDeclarationPDF",params:[JSON.stringify({transactionToken:t})],resultMap:function(e){return e}};return e.call(a)},this.mapJsonToDeclarationPDF=function(e){return{declaration:e.statusObject}}}e.$inject=["vf","siteId"],angular.module("rms").service("retrieveDeclarationService",e)}(),function(){"use strict";angular.module("rms").controller("surveyController",["$scope","$rootScope","$state","SNIPPETS","$sce","snswModal","vf","$window","$stateParams","commonUtil","pageLeaveAlert","$filter",function(e,t,a,r,o,i,s,n,l,c,u,d){var p=this;p.model={},e.title=r.RMS.SURVEY.TITLE,p.options={updateOn:"default"},p.countRequiredQuestions=3,e.$watch("model",function(e){""!==e&&u.listen()}),e.$watch("modified",function(e){e&&u.destroy()}),e.$on("$destroy",function(){u.destroy()}),p.hasError=function(e){var t=d("filter")(e,function(e){return"ERROR"===e.severity});return!(!e||!t||0===t.length)},p.renderErrorMessage=function(e,t){return t.errorMessages=c.extractErrorMessages(e),2001===e.statusCode?!0:2e3===e.statusCode&&e.statusObject.errorDetails&&e.statusObject.errorDetails.causes&&e.statusObject.errorDetails.causes.length>0?!0:2002===e.statusCode?!0:!(2e3!==e.statusCode||!p.hasError(e.statusObject.messages))};var m=[{value:"1",label:"Strongly Disagree"},{value:"2",label:"Disagree "},{value:"3",label:"Neutral"},{value:"4",label:"Agree"},{value:"5",label:"Strongly Agree"}];p.fields=[{noFormControl:!0,template:r.RMS.SURVEY.HEADING},{noFormControl:!0,template:'<div ng-bind-html="to.label"></div>',templateOptions:{label:o.trustAsHtml(r.RMS.SURVEY.PRIVATELINK)}}],function(){var e;for(e=1;e<=p.countRequiredQuestions;e++)p.fields.push({type:"survey-radio-button",key:"question"+e,wrapper:["label"],templateOptions:{required:!0,selectLabelSnippet:o.trustAsHtml(r.RMS.SURVEY["QUESTION"+e]),items:m}})}(),p.fields.push({type:"survey-radio-button",key:"improve1",wrapper:["label"],templateOptions:{selectLabelSnippet:o.trustAsHtml(r.RMS.SURVEY.IMPROVE1),items:[{value:"Yes",label:"Yes"},{value:"No",label:"No "}]},hideExpression:function(e,t,a){for(var r=1;r<=p.countRequiredQuestions;r++)if(a.model["question"+r]<3)return!1;return!0}}),e.formOK=function(){for(var e=0;e<p.fields.length;e++)if(!p.fields[e].noFormControl){if("undefined"==typeof p.fields[e].formControl&&"question"===p.fields[e].key.substring(0,8))return!1;if(!("question"===p.fields[e].key.substring(0,8)&&p.fields[e].formControl.$modelValue>0))return"improve"===p.fields[e].key.substring(0,7)&&p.fields[e].hide?!0:"improve"===p.fields[e].key.substring(0,7)&&!p.fields[e].hide&&"undefined"!=typeof p.fields[e].formControl.$modelValue}},p.submitQuestions=function(){if(l.transactionToken){var e={transactionInstructions:p.model.question1,transactionLayout:p.model.question2,transactionEaseOfUse:p.model.question3,furtherDetailsSupplied:"Yes"===p.model.improve1},t={remoteAction:"rmsSurveyCtrl.submitSurvey",params:[e,l.transactionToken]};return s.call(t)}},e.onSubmit=function(){p.submitQuestions().then(function(t){return p.model.errorMessages=[],e.errorMessages=[],c.successResult(t,e,p.model),t.statusObject&&t.statusObject.redirectNeeded&&t.statusObject.redirectUri?void(n.location=t.statusObject.redirectUri):void(0===e.errorMessages.length&&(u.destroy(),a.go("surveySummary")))})["catch"](c.failResult(e))}}])}(),function(){"use strict";angular.module("rms").controller("surveySummaryController",["$scope","pageLeaveAlert","$state","$sce","SNIPPETS","snswModal","logoutUrl","isAuthenticated","$log",function(e,t,a,r,o,i,s,n,l){l.debug("surveySummaryController called. $state.params=",a.params),e.title=o.RMS.SURVEY.TITLE,e.isAuthenticatedUser=n,e.getSurveyAuthSummary=function(){var e=o.RMS.SURVEY.AUTHSUMMARY;return r.trustAsHtml(e)},e.getSurveySummary=function(){var e=o.RMS.SURVEY.COMMONSUMMARY;return r.trustAsHtml(e)}}])}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u){function d(){window.scrollTo(0,0);var e={};if(a.model.errorMessages=[],u&&u.response){if(2002===u.response.statusCode)a.errorMessages=[{message:u.response.statusMessage,severity:"ERROR"}];else if(l.failRmsIsNotLinked(u.response))return;delete u.response}else u&&u.statusObject&&(e.statusObject=u.statusObject,l.successResult(e,a,!0),delete u.statusObject.messages);a.model.errorMessages.length>0&&(a.errorMessages=a.model.errorMessages)}d(),a.fields=[{key:"regoID",type:"vehicle-radio-button",wrapper:["bootstrap-row-col"],templateOptions:{bootstrapColClassNames:"col-md-9",onClick:function(e,t,r,i){var s=o("filter")(a.fields,function(e){return"newPlateNumber"===e.key})[0];s.resetModel(),s.formControl&&(s.formControl.$dirty=s.formControl.$touched=!1)},modelKey:"vehicleRegistrationId"},expressionProperties:{"templateOptions.options":function(){return u&&2e3===u.statusCode&&"success"===u.statusMessage?(1===u.statusObject.vehicles.length&&"undefined"==typeof a.model.regoID&&(a.model.regoID=u.statusObject.vehicles[0].registrationInfo.registrationId),a.model.regoOptions=s.simplify(u.statusObject.vehicles),a.model.regoOptions):void 0},"templateOptions.label":function(){return u&&u.statusObject&&u.statusObject.vehicles&&u.statusObject.vehicles.length>0?c.RMS.TRANSFERREGO.TRANSFERDETAILS.NODLABEL:""},hide:function(){return u&&u.statusObject?u.statusObject.vehicles.length<1||!u.statusObject.vehicles.length:!0}}},{noFormControl:!0,template:'<div class="form-group">{{to.label}}</div>',expressionProperties:{"templateOptions.label":function(){return u&&u.statusObject&&u.statusObject.vehicles&&u.statusObject.vehicles.length>0?c.RMS.TRANSFERREGO.BOUGHTVEHICLE.VEHICLENUMBERLABEL:c.RMS.TRANSFERREGO.BOUGHTVEHICLE.VEHICLENOFOUNDLABEL}}},{key:"newPlateNumber",type:"input-plate-number",wrapper:["bootstrap-row-col","validation"],templateOptions:{bootstrapColClassNames:"form-group col-md-7",label:c.RMS.TRANSFERREGO.BOUGHTVEHICLE.PLATENUMBERLABEL,onFocus:function(){a.model.regoID=null}}}],a.onSubmit=function(){s.checkEligibility(a.getPlateParam()).then(function(e){a.model.errorMessages=[],a.errorMessages=[],l.successResult(e,a,!0),0===a.errorMessages.length&&a.handleCheckEligibilityResult(e)})["catch"](l.failResult(a))},a.createParamFromJson=function(e){for(var t=0;t<a.model.regoOptions.length;t++)if(a.model.regoID===a.model.regoOptions[t].vehicleRegistrationId)return e.push(a.model.regoOptions[t].vehiclePlateNumber),e.push(a.model.regoOptions[t].vehiclePlateType),e},a.getPlateParam=function(){var e=[];return a.model.regoID?a.createParamFromJson(e):a.model.newPlateNumber&&(e.push(a.model.newPlateNumber),e.push("")),e.push(a.model.token),e},a.handleCheckEligibilityResult=function(e){a.model.checkResult=e.statusObject,(a.model.regoID||a.model.newPlateNumber)&&(a.model.selectedRegistration={},a.model.selectedRegistration.vehicleDescription=e.statusObject.eligibilityCheck.vehicleRegistrationInfo.vehicleModelInfo.manufactureYear+" "+e.statusObject.eligibilityCheck.vehicleRegistrationInfo.vehicleColour.description+" "+e.statusObject.eligibilityCheck.vehicleRegistrationInfo.vehicleModelInfo.modelInfo.description+" "+e.statusObject.eligibilityCheck.vehicleRegistrationInfo.vehicleModelInfo.bodyShape.description,a.model.selectedRegistration.vehicleDescription=a.model.selectedRegistration.vehicleDescription.toUpperCase(),a.model.selectedRegistration.vehiclePlateNumber=e.statusObject.eligibilityCheck.vehicleRegistrationInfo.plateInfo.plateNumber,a.model.selectedRegistration.vehiclePlateType=e.statusObject.eligibilityCheck.vehicleRegistrationInfo.plateInfo.plateType,a.model.selectedRegistration.vehicleRegistrationId=e.statusObject.eligibilityCheck.vehicleRegistrationInfo.registrationId,a.model.selectedRegistration.vehicleVinChassis=e.statusObject.eligibilityCheck.vehicleRegistrationInfo.vinNumber,a.model.selectedRegistration.vehicleExpiry=e.statusObject.eligibilityCheck.vehicleRegistrationInfo.registrationEndDate),a.next()},a.isRightDisabled=function(){return a.formHasError()},a.formHasError=function(){return!a.model.regoID&&!a.model.newPlateNumber}}e.$inject=["vf","$window","$scope","$state","$filter","$sce","boughtVehicleService","snswModal","commonUtil","SNIPPETS","regoOptions"],angular.module("rms.transfer-rego").controller("boughtVehicleController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s){function n(){return e.errorMessages=e.model.errorMessages,window.scrollTo(0,0),e.model&&"undefined"!=typeof e.model.checkResult?void 0:t.transitionTo("transferRego.boughtVehicle")}n(),e.model.pensionerPNSROption=[{code:"",description:"Select",type:"PNSR"},{code:"Centre Link",description:"Centrelink",type:"PNSR"},{code:"Dept Of Veteran Affairs",description:"Department Of Veteran Affairs",type:"PNSR"}],e.model.pensionerPNICOption=[{code:"Dept Of Veteran Affairs",description:"Department Of Veteran Affairs",type:"PNIC"}],e.fields=[{noFormControl:!0,template:o.RMS.TRANSFERREGO.TRANSFERDETAILS.TRANSFERDETAILSLABEL,className:"row col-md-12 col-xs-12 form-group"},{key:"regoPlate",type:"regoPlate-detail",wrapper:["bootstrap-row-col"],templateOptions:{bootstrapColClassNames:"col-md-9"},expressionProperties:{"templateOptions.vehiclePlateNumber":"model.selectedRegistration.vehiclePlateNumber","templateOptions.vehicleDescription":"model.selectedRegistration.vehicleDescription","templateOptions.vehicleVinChassis":"model.selectedRegistration.vehicleVinChassis","templateOptions.vehicleExpiry":"model.selectedRegistration.vehicleExpiry"}},{key:"howWillTheVehicleBeUsed",type:"sub-header-copy",templateOptions:{label:s.trustAsHtml(o.RMS.TRANSFERREGO.TRANSFERDETAILS.SELECTUSAGELABEL)}},{key:"registrationUsage",type:"select-bs",templateOptions:{required:!0,labels:[{text:o.RMS.TRANSFERREGO.TRANSFERDETAILS.REGISTRATIONUSAGELABEL},{text:o.RMS.RENEWREGISTRATION.USAGECTP.CHANGEUSAGETYPELABEL2,openModal:function(){r.open({heading:o.RMS.RENEWREGISTRATION.USAGECTP.USAGETYPEHEADER,body:o.RMS.TRANSFERREGO.TRANSFERDETAILS.REGISTRATIONUSAGEBODY,secondaryButton:o.GLOBAL.ACTIONS.CLOSE})}},{text:o.RMS.TRANSFERREGO.TRANSFERDETAILS.REGISTRATIONUSAGELABEL2}]},expressionProperties:{"templateOptions.selectOption":function(){return e.model.checkResult.eligibilityCheck.allowedRegistrationUsages}},controller:["$scope",function(e){e.getCurrItems=function(){return e.model.checkResult.eligibilityCheck.allowedRegistrationUsages}}]},{key:"primaryProducerGeneral",type:"checkbox-label-with-action",templateOptions:{labels:[{text:o.RMS.RENEWREGISTRATION.USAGECTP.PPGLABEL},{text:o.RMS.RENEWREGISTRATION.USAGECTP.PPGLINK,action:function(){r.open({heading:o.RMS.RENEWREGISTRATION.USAGECTP.PPGMODALHEADING,body:o.RMS.RENEWREGISTRATION.USAGECTP.PPGMODALBODY,secondaryButton:o.GLOBAL.ACTIONS.CLOSE})}}],required:!0},hideExpression:function(){return e.model.registrationUsage?"PPG"!==e.model.registrationUsage.code||!e.model.registrationUsage:!0}},{key:"pensionerTypePNSR",type:"select-bs",templateOptions:{onChange:"model.centrelinkPensionerCardNumber = null; model.pensionerCardNumber = null; model.pensionerTypePNIC = null;",hint:s.trustAsHtml(o.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERTYPEBODY),required:!0,label:o.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERTYPEHEADER},expressionProperties:{"templateOptions.selectOption":function(){return e.model.pensionerPNSROption}},hideExpression:function(){return e.model.registrationUsage?"PNSR"!==e.model.registrationUsage.code:!0},controller:["$scope",function(e){e.model.pensionerTypePNSR||(e.model.pensionerTypePNSR=e.model.pensionerPNSROption[0]),e.getCurrItems=function(){return e.model.pensionerPNSROption}}]},{key:"centrelinkPensionerCardNumber",type:"input",wrapper:["label","validation","hint","ngshow"],validators:{centrelinkPensionerCardNumberCheck:function(t,a){var r=a||t,o=e.model.pensionerTypePNSR;return r&&10===r.length&&"Centrelink"===o.description?/^-?\d+\.?\d*$/.test(r.substring(0,9))&&/[a-zA-Z]+/.test(r.substring(9,10)):!1}},templateOptions:{label:o.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERCARDLABEL,type:"text",fieldLabel:o.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERCARDLABEL,maxlength:10,required:!0,hint:s.trustAsHtml(o.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERCARDBODY),show:function(){return e.model.registrationUsage&&e.model.pensionerTypePNSR?"Y"===e.model.registrationUsage.pensionerConcessionFlag&&"PNSR"===e.model.registrationUsage.code&&"Centrelink"===e.model.pensionerTypePNSR.description:!1}}},{key:"pensionerTypePNIC",type:"select-bs",templateOptions:{hint:s.trustAsHtml(o.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERTYPEBODY),required:!0,label:o.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERTYPEHEADER},expressionProperties:{"templateOptions.selectOption":function(){return e.model.pensionerPNICOption}},hideExpression:function(){return e.model.registrationUsage?"PNIC"!==e.model.registrationUsage.code||!e.model.registrationUsage:!0},controller:["$scope",function(e){e.model.pensionerTypePNIC||(e.model.pensionerTypePNIC=e.model.pensionerPNICOption[0]),e.getCurrItems=function(){return e.model.pensionerPNICOption}}]},{key:"pensionerCardNumber",type:"input",wrapper:["label","validation","hint","ngshow"],validators:{pensionerCardNumberCheck:function(t,a){var r=a||t,o=e.model.pensionerTypePNIC||e.model.pensionerTypePNSR;return!(r&&r.length<9&&"Department Of Veteran Affairs"===o.description)}},templateOptions:{label:o.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERCARDLABEL,type:"text",required:!0,hint:s.trustAsHtml(o.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERCARDBODY),show:function(){return e.model.registrationUsage?!e.model.pensionerTypePNSR&&e.model.pensionerTypePNIC&&"PNIC"!==e.model.pensionerTypePNIC.type?!1:e.model.pensionerTypePNSR||e.model.pensionerTypePNIC?!("Y"!==e.model.registrationUsage.pensionerConcessionFlag||"PNSR"===e.model.registrationUsage.code&&"Centrelink"===e.model.pensionerTypePNSR.description||"PNSR"===e.model.registrationUsage.code&&"Select"===e.model.pensionerTypePNSR.description):!1:!1}}},{key:"pensionerGivenName",type:"input-name",wrapper:["label","validation","hint"],templateOptions:{label:o.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERNAMELABEL,required:!0,hint:s.trustAsHtml(o.RMS.RENEWREGISTRATION.USAGECTP.PENSIONERNAMEBODY)},hideExpression:function(){return e.model.registrationUsage?!e.model.pensionerTypePNSR&&e.model.pensionerTypePNIC&&"PNIC"!==e.model.pensionerTypePNIC.type?!0:e.model.pensionerTypePNSR||e.model.pensionerTypePNIC?"Y"!==e.model.registrationUsage.pensionerConcessionFlag||"PNSR"===e.model.registrationUsage.code&&"Centrelink"===e.model.pensionerTypePNSR.description||"PNSR"===e.model.registrationUsage.code&&"Select"===e.model.pensionerTypePNSR.description:!0:!0}},{key:"purchaseDetails",type:"sub-header-copy",templateOptions:{label:s.trustAsHtml(o.RMS.TRANSFERREGO.TRANSFERDETAILS.PURCHASELABEL)}},{key:"purchaseDate",type:"datepicker",wrapper:["label","validation","hint","bootstrap-row-col"],templateOptions:{bootstrapColClassNames:"col-xs-12",required:!0,isOpen:!1,label:o.RMS.TRANSFERREGO.TRANSFERDETAILS.DATEOFPURCHASELABEL,hint:s.trustAsHtml(o.RMS.TRANSFERREGO.TRANSFERDETAILS.DATEOFPURCHASEHINT),type:"text",dt:new Date,open:function(e){e.preventDefault(),e.stopPropagation(),this.isOpen=!0},dateDisabled:function(e,t){return a.disableDates(e,t)},openModal:function(){r.open({heading:o.RMS.TRANSFERREGO.TRANSFERDETAILS.PURCHASELABEL,body:o.RMS.TRANSFERREGO.TRANSFERDETAILS.PURCHASEDATEPOPOVER,secondaryButton:o.GLOBAL.ACTIONS.CLOSE})}},controller:["$scope",function(t){e.assignPurchaseDate(),t.isAlreadyInvalidDateString=function(e){var a=t.invalidDateElseWhere||!e.$viewValue||""===e.$viewValue;return a}}]},{key:"purchasePrice",type:"input-price",wrapper:["label","validation","hint","bootstrap-row-col"],templateOptions:{bootstrapColClassNames:"col-xs-12",required:!0,label:o.RMS.TRANSFERREGO.TRANSFERCONFIRM.PURCHASEPRICELABEL,hint:s.trustAsHtml(o.RMS.TRANSFERREGO.TRANSFERDETAILS.PURCHASEPRICEPOPOVER)},validation:{messages:{validInputPrice:function(){return"Purchase price or market value must be greater than 0 and less than 2 million."}}},validators:{validInputPrice:function(e,t){var a=t||e;return a?a>0&&2e6>a:!1}}}],e.validatePNSR=function(e){return e.length<8?!1:/[NnVvQqWwSsTt]+/.test(e.substring(0,1))&&/[ a-zA-Z]/.test(e.substring(1,2))&&/\d/.test(e.substring(2,8))&&/^[a-zA-Z\s]?$/.test(e.substring(8,9))?!0:/[NnVvQqWwSsTt]+/.test(e.substring(0,1))&&/[a-zA-Z]/.test(e.substring(1,3))&&/\d/.test(e.substring(3,8))&&/^[a-zA-Z\s]?$/.test(e.substring(8,9))?!0:!!(/[NnVvQqWwSsTt]+/.test(e.substring(0,1))&&/[a-zA-Z]/.test(e.substring(1,4))&&/\d/.test(e.substring(4,8))&&/^[a-zA-Z\s]?$/.test(e.substring(8,9)))},e.onSubmit=function(){a.validateTransferDetails(a.getParams(e.model)).then(function(t){e.model.errorMessages=[],e.errorMessages=[],i.successResult(t,e,!0),0===e.errorMessages.length&&e.handlerValidateResult(t,e.model)})["catch"](i.failResult(e))},e.isRightDisabled=function(){return e.formHasError()},e.formHasError=function(){return a.disableNextBtn(e.model)},e.assignPurchaseDate=function(){!e.model.purchaseDate&&e.model.checkResult&&(e.model.purchaseDate=new Date(e.model.checkResult.eligibilityCheck.purchaseDate)||new Date)},e.handlerValidateResult=function(t,a){2e3===t.statusCode&&"success"===t.statusMessage?(a.validateResult=t.statusObject.validationResult,e.model.primaryProducerGeneral=null,e.next()):e.errorMessages=i.extractErrorMessages(t)},e.disabled=function(e,t){return a.disableDates(e,t)}}e.$inject=["$scope","$state","transferDetailsService","snswModal","SNIPPETS","commonUtil","$sce"],angular.module("rms.transfer-rego").controller("transferDetailsController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c,u,d,p){return e.pspURL=o.trustAsResourceUrl(d),e.errorMessages=e.model.errorMessages,window.scrollTo(0,0),e.errorMessages=e.model.errorMessages,p&&(e.$parent.model=JSON.parse(p.statusObject)),e.model&&"undefined"!=typeof e.model.checkResult?(e.fields=[{noFormControl:!0,template:"<div>{{to.label}}</div>",templateOptions:{label:n.RMS.TRANSFERREGO.TRANSFERCONFIRM.CONFIRMTITLE}},{key:"regoPlate",type:"regoPlate-detail",wrapper:["bootstrap-row-col"],templateOptions:{bootstrapColClassNames:"col-xs-12 col-md-9"},expressionProperties:{"templateOptions.vehiclePlateNumber":"model.selectedRegistration.vehiclePlateNumber","templateOptions.vehicleDescription":"model.selectedRegistration.vehicleDescription","templateOptions.vehicleVinChassis":"model.selectedRegistration.vehicleVinChassis","templateOptions.vehicleExpiry":"model.selectedRegistration.vehicleExpiry"}},{noFormControl:!0,template:'<div class="form-group"><b>{{to.label}}</b></div>',templateOptions:{label:n.RMS.TRANSFERREGO.TRANSFERCONFIRM.TRANSFERDETAILSLABEL}},{key:"lastName",type:"output-label",templateOptions:{unboldLabel:n.MYACCOUNT.LINKRMS.LICENCE.LASTNAME+":"},expressionProperties:{"templateOptions.labelValue":function(){return e.model.validateResult.familyName}}},{key:"driveLicense",type:"output-label",templateOptions:{unboldLabel:n.RMS.TRANSFERREGO.TRANSFERCONFIRM.DRIVELICENSELABEL},expressionProperties:{"templateOptions.labelValue":function(){return e.model.validateResult.licenceNumber;
}},hideExpression:function(){return!e.model.validateResult.licenceNumber}},{key:"photoCardNumber",type:"output-label",templateOptions:{unboldLabel:n.RMS.TRANSFERREGO.TRANSFERCONFIRM.PHOTOCARDNUMBERLABEL},expressionProperties:{"templateOptions.labelValue":"model.validateResult.photoCardNumber"},hideExpression:function(){return!e.model.validateResult.photoCardNumber}},{key:"datePurchaseLabel",type:"output-label",templateOptions:{unboldLabel:n.RMS.TRANSFERREGO.TRANSFERCONFIRM.DATEPURCHASELABEL,labelValue:a("date")(e.model.purchaseDate,"dd/MM/yyyy")}},{key:"purchasePriceLabel",type:"output-label",templateOptions:{unboldLabel:n.RMS.TRANSFERREGO.TRANSFERCONFIRM.PURCHASEPRICELABEL,labelValue:a("currency")(e.model.purchasePrice)}},{key:"registrationUsage",type:"output-label",templateOptions:{unboldLabel:n.RMS.TRANSFERREGO.TRANSFERCONFIRM.USAGELABEL},expressionProperties:{"templateOptions.labelValue":function(){return e.model.registrationUsage.description}}},{key:"pensionerCardType",type:"output-label",templateOptions:{unboldLabel:n.RMS.TRANSFERREGO.TRANSFERCONFIRM.PENSIONERTYPELABEL},expressionProperties:{"templateOptions.labelValue":function(){return e.model.pensionerTypePNSR&&e.model.pensionerTypePNSR.description?e.model.pensionerTypePNSR.description:e.model.pensionerTypePNIC&&e.model.pensionerTypePNIC.description?e.model.pensionerTypePNIC.description:void 0}},hideExpression:function(){return"Y"!==e.model.registrationUsage.pensionerConcessionFlag}},{key:"pensionerCardNumber",type:"output-label",templateOptions:{unboldLabel:n.RMS.TRANSFERREGO.TRANSFERCONFIRM.PENSIONERCARDLABEL},expressionProperties:{"templateOptions.labelValue":function(){return e.model.pensionerCardNumber?e.model.pensionerCardNumber:e.model.centrelinkPensionerCardNumber?e.model.centrelinkPensionerCardNumber:void 0}},hideExpression:function(){return"Y"!==e.model.registrationUsage.pensionerConcessionFlag}},{type:"hr"},{noFormControl:!0,template:'<div class="form-group"><b>{{to.label}}</b></div>',templateOptions:{label:n.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.REGISTRATIONFEESLABEL}},{key:"total",type:"output-label",templateOptions:{unboldLabel:n.RMS.TRANSFERREGO.TRANSFERCONFIRM.TRANSFERCOSTLABEL},expressionProperties:{"templateOptions.boldLabelValue":function(){return e.model.validateResult?a("currency")(e.model.validateResult.purchasePrice.amount):void 0}}},{noFormControl:!0,template:'<div class="form-group">'+n.RMS.RECEIPT.GLITEMSHEADING+"</div>",hideExpression:function(){return!(e.model.validateResult&&e.model.validateResult.purchasePrice&&e.model.validateResult.purchasePrice.glItems.length>0)}},{key:"glItems",type:"label-with-repeat",templateOptions:{labelIndent:!0,modalValue:"60016",openModal:function(){i.open({heading:n.RMS.TRANSFERREGO.TRANSFERCONFIRM.LATEFEEHEADER,body:n.RMS.TRANSFERREGO.TRANSFERCONFIRM.LATEFEEBODY,secondaryButton:n.GLOBAL.ACTIONS.CLOSE})}},expressionProperties:{"templateOptions.items":function(){return e.model.validateResult.purchasePrice.glItems}}},{type:"hr"},{key:"termCondition",type:"checkbox-label-with-action",templateOptions:{labels:[{text:n.RMS.TRANSFERREGO.TRANSFERCONFIRM.AGREELABEL},{text:n.MYACCOUNT.CREATEACCOUNT.TERMSANDCONDITIONSLINK,action:function(){c.getTermsConditions().then(function(e){var t,a;2e3===e.statusCode&&"success"===e.statusMessage?(t=e.statusObject.Title,a=e.statusObject.Content__c):(t="Error",a=e.statusMessage),i.open({heading:t,body:a,secondaryButton:n.GLOBAL.ACTIONS.CLOSE})})["catch"](u.failResult(e))}}]}},{key:"privacy",type:"modal",templateOptions:{link:{prefix:"Our",name:"privacy statement"},openModal:function(){i.open({heading:n.RMS.TRANSFERREGO.PRIVACYPOLICYHEADING,body:n.RMS.TRANSFERREGO.PRIVACYPOLICYBODY,secondaryButton:n.GLOBAL.ACTIONS.CLOSE})}}},{noFormControl:!0,template:'<div class="form-group" ng-bind-html="to.label"></div>',templateOptions:{label:o.trustAsHtml(n.RMS.RENEWREGISTRATION.REGISTRATIONSUMMARY.WHENYOUCLICKNEXTLABEL)},hideExpression:function(){return e.model.validateResult.purchasePrice.amount<=0}},{noFormControl:!0,template:'<div class="row form-group" ng-bind-html="to.label"></div>',templateOptions:{label:o.trustAsHtml(n.RMS.TRANSFERREGO.TRANSFERCONFIM.WHENYOUCLICKNEXTCOPY)},hideExpression:function(){return e.model.validateResult.purchasePrice.amount<=0}}],e.onSubmit=function(){var t,a,o,i,s=e.model.token,n={transactionToken:s,redirectUrl:"rms/trans/transferRegistration/transferConfirm"};"PNIC"!==e.model.registrationUsage.code&&"PNSR"!==e.model.registrationUsage.code||(a=e.model.centrelinkPensionerCardNumber||e.model.pensionerCardNumber,o=e.model.pensionerTypePNIC&&e.model.pensionerTypePNIC.code?e.model.pensionerTypePNIC.code:e.model.pensionerTypePNSR.code,i=e.model.pensionerGivenName),0===e.model.validateResult.purchasePrice.amount?(t={plate:{plateNumber:e.model.selectedRegistration.vehiclePlateNumber,plateType:e.model.selectedRegistration.vehiclePlateType},registrationUsage:{code:e.model.registrationUsage.code},pensionerDetails:{pensionerNumber:a,pensionerType:o,givenName:i},purchasePriceDetails:{purchasePriceDate:e.model.purchaseDate,price:e.model.purchasePrice},receivingParty:{organization:"SNSW",branch:""}},c.processTransferRego(t,s).then(function(t){e.model.errorMessages=[],e.errorMessages=[],u.successResult(t,e,!0),0===e.errorMessages.length&&r.go("payment",{transactionToken:e.model.token})})["catch"](u.failResult(e))):(t={progressStep:parseInt(r.current.data.progressNow)+1,progressStepTotal:r.$current.parent.data.progressMax,userContext:n,products:[{amount:e.model.validateResult.purchasePrice.amount}]},l.saveContext(s,JSON.stringify(e.model)).then(function(a){e.model.errorMessages=[],e.errorMessages=[],u.successResult(a,e,e.model),e.model.selectedRegistration.payLaterRequiredFlag&&(e.model.payload.payLaterRequiredFlag=e.model.selectedRegistration.payLaterRequiredFlag),0===e.errorMessages.length&&c.getPSPPaymentPayload(t,n,s).then(function(t){e.model.errorMessages=[],e.errorMessages=[],u.successResult(a,e,e.model),0===e.errorMessages.length&&(t.statusObject.textToken&&(document.getElementById("textToken").value=t.statusObject.textToken),t.statusObject.jwtToken&&(document.getElementById("jwtToken").value=t.statusObject.jwtToken),t.statusObject.redirectUrl&&(document.getElementById("redirectUrl").value=t.statusObject.redirectUrl),document.getElementById("pspSubmitForm").submit())})["catch"](u.failResult(e))})["catch"](u.failResult(e)))},e.formHasError=function(){return"undefined"!=typeof e.model.termCondition&&e.model.termCondition?void 0:!0},e.isRightDisabled=function(){return e.formHasError()},void(e.rightTitle=function(){var t=e.model.errorMessages.some(function(e,t,a){return"ERROR"===e.severity?!0:void 0});return e.model.errorMessages&&t?"Quit":"Submit"})):r.transitionTo("transferRego.boughtVehicle")}e.$inject=["$scope","$stateParams","$filter","$state","$sce","snswModal","$rootScope","SNIPPETS","transferRegoService","transferConfirmService","commonUtil","pspURL","modelData"],angular.module("rms.transfer-rego").controller("transferConfirmController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l,c){return e.model={},e.model.token=n.statusObject||{},e.model.errorMessages=[],e.errorMessages=[],e.$on("$viewContentLoaded",function(){0===o.current.data.progressNow?e.pageHeader=void 0:e.pageHeader=o.current.data.pageHeader,e.progress={max:o.$current.parent.data.progressMax,now:o.current.data.progressNow}}),e.quit=function(){i.listen(),o.go("quit"),i.destroy()},e.leftAction=function(){e.isFirstStep()?e.quit():e.back()},e.back=function(){t.isLoading=!0,i.destroy(),o.get().map(function(e){return e.parent&&e.parent===o.current.parent&&e.data&&e.data.progressNow===parseInt(o.$current.data.progressNow,10)-1?(o.go(e.name),null):null})},e.next=function(){t.isLoading=!0,i.destroy(),o.get().map(function(e){return e.parent&&e.parent===o.current.parent&&e.data&&e.data.progressNow===parseInt(o.$current.data.progressNow,10)+1?(o.go(e.name),null):null})},e.formIsBlocked=function(){return!1},e.formHasError=function(){return!1},e.isLeftDisabled=function(){return!1},e.isRightDisabled=function(){return e.formHasError()},e.isLeftHidden=function(){return!0},e.isRightHidden=function(){return!0},e.isFirstStep=function(){return!(!o.$current.data||"1"!==o.$current.data.progressNow)},e.isLastStep=function(){return!(!o.$current.data||parseInt(o.$current.data.progressNow,10)!==parseInt(o.$current.parent.data.progressMax,10)-1)},e.getRedirectUrl=function(){return"/rms/transferRegistration"},e.options={updateOn:"default"},l||o&&o.params&&o.params.transactionToken?!c&&l?void o.go("transferRego.linkRMS"):void 0:void o.go("transferRego.tla")}e.$inject=["$scope","$rootScope","$log","commonUtil","$state","pageLeaveAlert","boughtVehicleService","token","isAuthenticated","isLinkedToRms"],angular.module("rms.transfer-rego").controller("transferRegoController",e)}(),function(){"use strict";function e(e){var t=this;t.checkEligibility=function(t){var a={remoteAction:"rmsTransferRegoCtrl.getSelectedVehicleInfo",params:t,resultMap:function(e){return console.log(e),e}};return e.call(a)},t.simplify=function(e){for(var t=[],a=0;a<e.length;a++){var r=e[a].registrationInfo,o={};o.vehicleRegistrationId=r.registrationId,o.vehiclePlateNumber=r.plate.plateNumber,o.vehiclePlateType=r.plate.plateType,o.vehicleVinChassis=r.vinNumber,o.vehicleDescription=r.modelData.manufactureYear+" "+r.colour.description+" "+r.modelData.model.description+" "+r.modelData.bodyShape.description,o.vehicleDescription=o.vehicleDescription.toUpperCase(),o.vehicleExpiry=r.registrationEndDate,t.push(o)}return t}}e.$inject=["vf"],angular.module("rms.transfer-rego").service("boughtVehicleService",e)}(),function(){"use strict";function e(e){var t=this;t.getTermsConditions=function(){var t="",a={remoteAction:"rmsTransferRegoCtrl.getTermsConditions",params:t,resultMap:function(e){return e}};return e.call(a)},t.processTransferRego=function(t,a){var r={remoteAction:"rmsTransferRegoCtrl.processTransferRego",params:[t,a]};return e.call(r)},t.getPSPPaymentPayload=function(t,a,r){var o={remoteAction:"rmsPSPServiceCtrl.getPSPPaymentPayloadV1",params:[t,a,r]};return e.call(o)}}e.$inject=["vf"],angular.module("rms.transfer-rego").service("transferConfirmService",e)}(),function(){"use strict";function e(e,t){var a=this;a.validateTransferDetails=function(t){var a={remoteAction:"rmsTransferRegoCtrl.validateTransRego",params:t,resultMap:function(e){return e}};return e.call(a)},a.disableNextBtn=function(e){var t=e.pensionerTypePNIC||e.pensionerTypePNSR,a=e.centrelinkPensionerCardNumber||e.pensionerCardNumber,r=!0,o=!1;return e.registrationUsage?(r=!e.registrationUsage.code||""===e.registrationUsage.code||!e.purchasePrice||e.purchasePrice>1999999||e.purchasePrice<=0||!e.purchaseDate,"PNIC"!==e.registrationUsage.code&&"PNSR"!==e.registrationUsage.code||(o=t&&("Centrelink"===t.description||t&&a&&e.pensionerGivenName)?!("Centrelink"!==t.description||t&&a):!0),"PPG"!==e.registrationUsage.code||e.primaryProducerGeneral?!(!r&&!o):!0):!0},a.disableDates=function(e,t){var a=(new Date).setHours(0,0,0,0);return e=e.setHours(0,0,0,0),"day"===t&&e>a},a.getParams=function(e){var a=[],r={};if(r.plateInfo={},r.plateInfo.plateNumber=e.selectedRegistration.vehiclePlateNumber,r.plateInfo.plateType=e.selectedRegistration.vehiclePlateType,r.registrationUsage={},r.registrationUsage.code=e.registrationUsage.code,r.registrationUsage.description=e.registrationUsage.description,"PNSR"===e.registrationUsage.code||"PNIC"===e.registrationUsage.code){r.pensionerDetails={};e.pensionerTypePNIC||e.pensionerTypePNSR;r.pensionerDetails.pnumber=e.pensionerCardNumber||e.centrelinkPensionerCardNumber,e.pensionerTypePNSR&&e.pensionerTypePNSR.code?r.pensionerDetails.ptype=e.pensionerTypePNSR.code:e.pensionerTypePNIC&&e.pensionerTypePNIC.code&&(r.pensionerDetails.ptype=e.pensionerTypePNIC.code),e.pensionerTypePNSR&&e.pensionerTypePNSR.description?r.pensionerDetails.pensionerTypeDesc=e.pensionerTypePNSR.description:e.pensionerTypePNIC&&e.pensionerTypePNIC.description&&(r.pensionerDetails.pensionerTypeDesc=e.pensionerTypePNIC.description),r.pensionerDetails.givenName=e.pensionerGivenName}return r.purchasePriceDetails={},r.purchasePriceDetails.pdate=t("date")(e.purchaseDate,"yyyy-MM-dd"),r.purchasePriceDetails.price=e.purchasePrice,a.push(r),a.push(e.token),a}}e.$inject=["vf","$filter"],angular.module("rms.transfer-rego").service("transferDetailsService",e)}(),function(){"use strict";function e(e,t,a){this.createTransactionToken=function(r){var o={remoteAction:"rmsTransferRegoCtrl.createTransferRegoTransaction",params:[r,a]};return e.call(o).then(function(e){return e&&e.statusObject?t.failRmsIsNotLinked(e)?null:e:null})["catch"](function(e){return t.failRmsIsNotLinked(e),null})},this.saveContext=function(t,a){var r={remoteAction:"rmsTransactionCtrl.saveContext",params:[t,a]};return e.call(r)},this.getContext=function(t){var a={remoteAction:"rmsTransactionCtrl.getContext",params:[t]};return e.call(a)},this.getRego=function(t){var a={remoteAction:"rmsTransferRegoCtrl.getVehicles",params:t};return e.call(a)}}e.$inject=["vf","commonUtil","siteId"],angular.module("rms.transfer-rego").service("transferRegoService",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"="},restrict:"AE",transclude:!0,templateUrl:"rms/vehicleHistoryReport/confirm/vehicle-history-report-confirm.html",controller:"vehicleHistoryReportConfirmController as confirm"}}angular.module("rms.vehicle-history").directive("vehicleHistoryReportConfirm",e)}(),function(){"use strict";function e(e,t,a,r,o,i){function s(){if(g.vhcEligibilityResponse&&g.vhcEligibilityResponse.priceItem){var e=g.vhcEligibilityResponse.priceItem;return e.map(function(e){return e.glItem.map(function(e){return{name:"vehicle details enquiry"===e.name.toLowerCase()?"Vehicle history report":e.name,amount:e.amount}})}).concatAll()}}function n(e){o.saveContext(e.transactionToken,e).then(o.getModel).then(l).then(o.submitForPayment).then(c)["catch"](u)}function l(e){var t=e.returnState?"2":"4",a=e.returnState?"3":"5";return{transactionToken:e.transactionToken,userContext:{},requestObj:{progressStep:t,progressStepTotal:a},customerEmailAddress:g.email,updateRMS:Boolean(g.updateContact)&&Boolean(g.email)}}function c(e){i.destroy();var t=e.pspPayload;t&&(m.transaction.textToken=t.textToken,m.transaction.jwtToken=t.jwtToken),e.pspPostURL&&(m.transaction.pspPostURL=e.pspPostURL)}function u(e){m.alert=o.alert(e)}function d(){m.alert=void 0}function p(e){return e.email?void n(e):a.open({heading:"Keep a copy for your records",body:"We recommend that you add your email address now, so we can send you a copy of your transaction receipt and any additional required documents.",primaryButton:"Continue without email",secondaryButton:"Add an email address"}).then(function(){n(e)})}var m=this,g=m.transaction.model||o.getModel();g.email=angular.copy(user.email),i.listen(),angular.extend(m,{model:g,onSubmit:p,dismissAlert:d,goToPrevState:r.goToPrevState,changeVehicle:r.changeVehicle,alreadyPurchasedReport:r.alreadyPurchased(g.vehicle),glItems:s()})}e.$inject=["$state","$scope","snswModal","vehicleHistoryReportService","rmsTransactionService","pageLeaveAlert"],angular.module("rms.vehicle-history").controller("vehicleHistoryReportConfirmController",e)}(),function(){"use strict";function e(){return{scope:{},bindToController:{transaction:"=",receiptData:"=",transactionToken:"="},restrict:"AE",transclude:!0,templateUrl:"rms/vehicleHistoryReport/receipt/vehicle-history-report-receipt.html",controller:"vehicleHistoryReportReceiptController as receipt"}}angular.module("rms.vehicle-history").directive("vehicleHistoryReportReceipt",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n){function l(){if(c.receiptData.transactionDetails&&c.receiptData.transactionDetails.vhcEligibilityResponse&&c.receiptData.transactionDetails.vhcEligibilityResponse.priceItem){var e=c.receiptData.transactionDetails.vhcEligibilityResponse.priceItem;return e.map(function(e){return e.glItem.map(function(e){return{name:"vehicle details enquiry"===e.name.toLowerCase()?"Vehicle history report":e.name,amount:e.amount}})}).concatAll()}}var c=this,u=o.getModel();c.newCardMessageOptions={severity:"info",message:"<strong>Important information</strong>"};var d=i.absUrl();r.addUnique(angular.extend({},c.receiptData.transactionDetails,{vehicle:angular.extend({},u.vehicle,{registrationExpiryDate:u.registrationExpiryDate}),receiptUrl:d})),n.listen(),angular.extend(c,{model:u,isAuthenticated:e.isAuthenticated,SNIPPETS:t,snswSiteUrl:s,scrollTo:a.scrollTo,glItems:l()})}e.$inject=["user","SNIPPETS","UIService","purchasedReportList","rmsTransactionService","$location","snswSiteUrl","pageLeaveAlert"],angular.module("rms.vehicle-history").controller("vehicleHistoryReportReceiptController",e)}(),function(){"use strict";function e(e){return{restrict:"A",link:function(t,a,r){t.$watch(function(){return t.$eval(r.snswBindHtmlCompile)},function(o){a.html(o&&o.toString());var i=t;r.snswBindHtmlScope&&(i=t.$eval(r.snswBindHtmlScope)),e(a.contents())(i)})}}}e.$inject=["$compile"],angular.module("ui-patterns").directive("snswBindHtmlCompile",e)}(),function(){"use strict";function e(e,t,a,r){return{replace:!0,scope:{items:"=",showEverything:"="},templateUrl:"ui-patterns/directives/snsw-connections/snsw-connections.html",link:function(e,t,o,i){e.bodcopyNoConnection=function(){return a.trustAsHtml(r.MYACCOUNT.DASHBOARD.NOCONNECTION)},e.hasConnectedItems=function(){return e.items.connectedItems&&e.items.connectedItems.length>0},e.hasDisconnectedItems=function(){return e.items&&e.items.disconnectedItems&&e.items.disconnectedItems.length>0},e.addConnectionsLabel=function(){return e.hasConnectedItems()?"Add connections":"Connect with"},e.getName=function(e){return e.Name},e.getLogo=function(e){return e.logoUrl}}}}e.$inject=["resourcePath","dashboardService","$sce","SNIPPETS"],angular.module("ui-patterns").directive("snswConnections",e)}(),function(){"use strict";function e(e){return{require:"ngModel",restrict:"A",link:function(t,a,r,o){o.$validators.invalidEmail=function(t,a){return e(a)}}}}e.$inject=["emailFormatValidator"],angular.module("ui-patterns").directive("snswInvalidEmail",e)}(),function(){"use strict";function e(){return{require:"ngModel",restrict:"A",link:function(e,t,a,r){r.$validators.invalidEmailLength=function(e,t){return t&&t.length<=(a.snswInvalidEmailLength||255)}}}}angular.module("ui-patterns").directive("snswInvalidEmailLength",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n){function l(e,t){var a=t?"rms"+e:e;return p[a]}function c(c,u,d){function p(){c.error="",c.sendMessage="",c.sendErrorMessage="",c.securityErrorMessage=""}function m(e,t){c.verifying=e,e?c.onCancel():c.sendErrorMessages=n.extractErrorMessages(t)}function g(e,t){e?C():(c.password="",c.passwordAttemps.isBad=!0,angular.isArray(t)?c.sendErrorMessages=t:c.error=t,c.apiError=!0)}function f(e){e.statusObject&&1===e.statusObject.linkRMSAttemptsLeft&&(c.linkRMSAttempsLockWarning="You have only one attempt left to Lock Roads and Maritime Services linking"),e.statusObject&&1===e.statusObject.verifyCodeAttemptsLeft?c.error="Invalid security code. Please enter a valid security code. 1 attempt remaining before the code expires.":"VERIFICATION_FAILED_LINK_RMS_LOCKED"===e.statusMessage?a.go("linkRMSLocked"):c.sendErrorMessages=n.extractErrorMessages(e)}function b(e,t){t&&e&&c.send()}if(c.SNIPPETS=e,c.pinRegex=r.pin,!angular.isUndefined(c.displayMobileText)&&10===c.displayMobileText.length&&"0"===c.displayMobileText.charAt(0)){var h=c.displayMobileText.replace(/ /g,"");c.displayMobileText=(h.substr(0,4)+" "+h.substr(4,3)+" "+h.substr(7,3)).trim()}c.display={password:"Password",mobile:{title:angular.isUndefined(c.displayMobileTitle)?e.MYACCOUNT.WELCOMEPERSONALDETAILS.MOBILEPHONETITLE:c.displayMobileTitle,message:angular.isUndefined(c.displayMobileText)?e.MYACCOUNT.WELCOMEPERSONALDETAILS.MOBILEPHONETEXT:c.displayMobileText,placeholder:e.GLOBAL.FORMS.MOBILEPHONE.PLACEHOLDER,verify:"Verify",regex:r.mobileCodeNumber,enterPin:e.GLOBAL.FORMS.PIN.ENTERPINMOBILE},email:{title:e.MYACCOUNT.WELCOMEPERSONALDETAILS.PRIMARYEMAILTITLE,placeholder:"",verify:"Verify",regex:r.email,enterPin:e.GLOBAL.FORMS.PIN.ENTERPINEMAIL},alternateEmail:{title:angular.isUndefined(c.displayAlternateEmailTitle)?e.MYACCOUNT.WELCOMEPERSONALDETAILS.ALTERNATEEMAILTITLE:c.displayAlternateEmailTitle,message:angular.isUndefined(c.displayAlternateEmailText)?e.MYACCOUNT.WELCOMEPERSONALDETAILS.ALTERNATEEMAILTEXT:c.displayAlternateEmailText,placeholder:e.MYACCOUNT.WELCOMEPERSONALDETAILS.ALTERNATEEMAILPLACEHOLDER,verify:"Verify",regex:r.email,enterPin:e.GLOBAL.FORMS.PIN.ENTERPINALTEMAIL}},c.codeExpiresIn=e.GLOBAL.FORMS.PIN.CODEEXPIRESMESSAGE.format("60"),c.countryCodes=i,c.password=null,c.pin=null,c.error=null,c.linkRMSAttempsLockWarning=null,c.verifying=!1,c.sendSuccess=!1,c.sendCodeAttemptsLeft=3,c.attemptsRemaining=4,c.passwordAttemps={hasEntered:!1,isBad:!1,attemptsRemaining:3,lockOut:!1},c.required=d.required||"true",c.verificationError=null,c.verify=function(){var e=!!c.rms;p();var t=l(c.type,e).verify;"email"===c.type?E(t,c.pin,function(e,t){c.verified=e,c.verifying=!e,e||f(t)}):null!==c.type&&"email"!==c.type?E(t,c.pin,function(e,t){c.verified=e,c.verifying=!e,e||f(t)}):c.verifyFunct()},c.edit=function(){c.verified=!1},c.cancel=function(){if(p(),null!==c.type){var e=l(c.type,!!c.rms).cancel;M(e,m)}else c.cancelFunct()},c.cancelExternal&&(c.cancelExternal.exec=c.cancel),c.send=function(){return!c.autoSend&&"mobile"!==c.type&&c.pin_code_form[c.type+"PinCodeEntrySendToEmail"].$invalid?void c.pin_code_form[c.type+"PinCodeEntrySendToEmail"].$setTouched(!0):(p(),void(null!==c.type?(c.sendSuccess=!1,c.passwordAttemps.isBad=!1,c.passwordProtect?v(c.password,g):C()):c.resendFunct()))};var v=function(e,a){t.verifyCurrentUserPassword({password:e}).then(a)["catch"](function(e){a(!1,n.extractErrorMessages(e))})},y=-1,S=function(){return"New code sent! You’ve reached the maximum of 3 code resends. Code resending locked for "+y+(y>1?" minutes.":" minute.")},C=function(){if(-1!==y)return void(c.sendMessage=S());var e=l(c.type,!!c.rms).send,t=angular.isObject(c.sendTo)?JSON.stringify(c.sendTo):c.sendTo;"email"===c.type&&angular.isObject(c.sendTo)&&(t=c.sendTo.email),s.send(e,t).then(function(e){if(2e3===e.statusCode){c.sendMessage="Success! New code sent",c.sendSuccess=!0,c.verifying=!0,c.sendErrorMessages=[];var t=e.statusObject;if(c.sendCodeAttemptsLeft=t.sendCodeAttemptsLeft,1===t.sendCodeAttemptsLeft)c.sendMessage="New code sent! You’ve got 1 resend remaining before the resend code option is locked.";else if(t.sendCodeAttemptsLeft<1){c.sendMessage=S();var a=function(){y>=0&&y--,y>0?(c.sendMessage=S(),o(a,6e4)):(y=-1,c.sendMessage="")};-1===y&&(y=5,c.sendMessage=S(),o(a,6e4))}}})["catch"](function(e){c.sendErrorMessages=n.extractErrorMessages(e)})},E=function(e,t,r){var o=!!c.rms;if(o)s.verify(e,t).then(function(e){r(2e3===e.statusCode,e)})["catch"](function(e){"VERIFICATION_FAILED_LINK_RMS_LOCKED"===e.response.statusMessage?a.go("linkRMSLocked"):c.securityErrorMessage=n.extractErrorMessages(e)});else{var i=c.passwordProtect?c.password:null;s.verify(e,t,i).then(function(e){r(2e3===e.statusCode,e)})["catch"](function(e){c.securityErrorMessage=n.extractErrorMessages(e)})}},M=function(e,t){s.cancel(e).then(function(e){t(2e3===e.statusCode,e)})["catch"](function(e){t(!1,n.extractErrorMessages(e))})};b(c.sendTo,c.autoSend),c.$watch("sendTo",function(e){b(e,c.autoSend)}),c.$watch("autoSend",function(e){b(c.sendTo,e)}),angular.isUndefined(c.editMode)&&(c.editMode=!0)}var u="ui-patterns/directives/snsw-pin-code-entry/snsw-pin-code-entry.html",d={restrict:"E",transclude:!1,replace:!0,scope:{sendTo:"=",type:"@",onCancel:"&",cancelExternal:"=?",passwordProtect:"=?",username:"=?",verified:"=?",verifying:"=?",autoSend:"=?",rms:"=?",displayMobileTitle:"@",displayMobileText:"@",displayAlternateEmailTitle:"@",displayAlternateEmailText:"@",editMode:"=?",showEdit:"="},link:c,templateUrl:u},p={rmsmobile:{send:"maLinkToRMSCtrl.sendMobileCode",verify:"maLinkToRMSCtrl.verifyMobileCode",cancel:"maLinkToRMSCtrl.cancelMobileCode"},rmsemail:{send:"maLinkToRMSCtrl.sendEmailCode",verify:"maLinkToRMSCtrl.verifyEmailCode",cancel:"maLinkToRMSCtrl.cancelEmailCode"},mobile:{send:"maPersonalProfileService.sendMobileCode",verify:"maPersonalProfileService.verifyMobileCodeAndUpdateProfile",cancel:"maPersonalProfileService.cancelMobileCode"},email:{send:"maPersonalProfileService.sendPrimaryEmailCode",verify:"maPersonalProfileService.verifyPrimaryEmailCodeAndUpdateProfile",cancel:"maPersonalProfileService.cancelPrimaryEmailCode"},alternateEmail:{send:"maPersonalProfileService.sendAlternateEmailCode",verify:"maPersonalProfileService.verifyAlternateEmailCodeAndUpdateProfile",cancel:"maPersonalProfileService.cancelAlternateEmailCode"}};return d}e.$inject=["SNIPPETS","myAccountAPI","$state","regex","$timeout","countryCodes","pinCodeAPI","commonUtil"],angular.module("ui-patterns").directive("snswPinCodeEntry",e)}(),function(){"use strict";function e(){function e(){function e(e){for(var t=[],a=1;e>=a;a++)t.push(a);return t}var t=this;t.getStepsArray=e,t.stepTextFormat=t.stepTextFormat||"Step {0}/{1}",t.generateStepText=function(){return t.stepTextFormat.format(t.now,t.max)}}return{restrict:"E",transclude:!1,replace:!0,controller:e,controllerAs:"snswProgressbar",bindToController:{max:"=",now:"=",processName:"=",stepTextFormat:"@"},templateUrl:"ui-patterns/directives/snsw-progress-bar/snsw-progress-bar.html"}}angular.module("ui-patterns").directive("snswProgressbar",e)}(),function(){"use strict";angular.module("ui-patterns").directive("snswPurchasedReport",function(){return{restrict:"AE",transclude:!1,scope:{},bindToController:{reportDetails:"="},templateUrl:"ui-patterns/directives/snsw-purchased-report/snsw-purchased-report.html",controller:function(){},controllerAs:"snswPurchasedReport"}})}(),function(){"use strict";function e(){return{scope:{},restrict:"AE",transclude:!0,controller:["snswModal",function(e){this.quit=function(){return e.quitTransaction(this.modalOptions||{}).then(this.primaryAction||angular.noop)["catch"](this.secondaryAction||angular.noop)}}],controllerAs:"vm",bindToController:{buttonClass:"=?",primaryAction:"=?",secondaryAction:"=?",modalOptions:"=?"},template:'<button type="button" ng-click="vm.quit()" class="btn btn-lg btn-default" ng-class="vm.buttonClass"><ng-transclude></ng-transclude></button>'}}angular.module("ui-patterns").directive("snswQuitButton",e)}(),function(){"use strict";function e(){return{require:"ngModel",restrict:"A",link:function(e,t,a,r){"false"!==a.snswRequiredField&&a.snswRequiredField!==!1&&(r.$validators.snswRequiredField=function(e,t){return!!(t&&t.length>0)})}}}angular.module("ui-patterns").directive("snswRequiredField",e)}(),function(){"use strict";function e(){return{scope:{},restrict:"AE",controller:["$scope","UIService",function(e,t){t.scrollTop()}],controllerAs:"snswScrollTo"}}angular.module("ui-patterns").directive("snswScrollTo",e)}(),function(){"use strict";function e(){return{scope:{},restrict:"AE",transclude:!0,bindToController:{sendDocumentDesc:"=",transactionToken:"=",emailRequired:"=?",defaultEmail:"=?",onSubmit:"=?",model:"=?",api:"=",catchFn:"="},controller:"snswSendEmailController",controllerAs:"snswSendEmail",templateUrl:"ui-patterns/directives/snsw-send-email/snsw-send-email.html",link:function(e,t,a,r){t.find("ng-transclude").children().length||(r.defaultTemplate=!0,t.find("ng-transclude").remove())}}}angular.module("ui-patterns").directive("snswSendEmail",e)}(),function(){"use strict";function e(e,t){function a(e){return e?r.form.$invalid||r.model.email===e||!t.isAuthenticated:!0}var r=this;angular.isUndefined(r.emailRequired)&&(r.emailRequired=!0),r.fields=[{key:"email",type:"input",wrapper:["label","validation","bootstrap-row-col"],templateOptions:{label:r.sendDocumentDesc,type:"email",required:r.emailRequired,bootstrapColClassNames:"col-xs-12"}},{key:"updateContact",type:"checkbox",wrapper:["bootstrap-row-col"],templateOptions:{label:e.RMS.RECEIPT.MAKETHISMYEMAILLABEL,bootstrapColClassNames:"col-xs-12"},hideExpression:function(e,t,a){return r.checkBoxHidden(a.fields[0].initialValue)}}];var o=function(e){var t=r.api,a=r.catchFn;if(r.alerts=[],e.email){var o=e.updateContact&&r.form.$dirty||!1;t(e.email,e.transactionToken,o).then(function(){o?r.message="Email sent and email address successfully updated":r.message="Email sent"})["catch"](a)}},i=function(e){r.alerts.splice(e,1)},s={email:angular.copy(r.defaultEmail||t.email),transactionToken:r.transactionToken};angular.extend(r,{message:"",SNIPPETS:e,model:r.model||s,dismissAlert:i,checkBoxHidden:a,onSubmit:r.onSubmit||o})}e.$inject=["SNIPPETS","user"],angular.module("ui-patterns").controller("snswSendEmailController",e)}(),function(){"use strict";angular.module("ui-patterns").directive("snswVehicleInfo",function(){return{restrict:"E",transclude:!1,scope:{},bindToController:{vehicle:"="},templateUrl:"ui-patterns/directives/snsw-vehicle-info/snsw-vehicle-info.html",controller:function(){var e=this.vehicle||{};this.vehiclePlateNumber=e.NSWPlateNumber,this.vehicleDescription=(e.manufactureYear||"")+" "+(e.vehicleColour||"")+" "+(e.manufacturer||"")+" "+(e.model||"")+" "+(e.bodyShape||""),this.vehicleVinChassis=e.vin||e.vinNumber||e.chassisNumber||"",this.vehicleExpiry=e.registrationExpiryDate},controllerAs:"snswVehicleInfo"}})}(),function(){"use strict";function e(e){return e.trustAsHtml}e.$inject=["$sce"],angular.module("ui-patterns-filters").filter("sanitize",e)}(),function(){"use strict";angular.module("ui-patterns-filters").filter("snswMobileNumber",function(){return function(e){if(!e)return"";var t;return 10===e.length&&"0"===e.charAt(0)?t=(e.substr(0,4)+" "+e.substr(4,3)+" "+e.substr(7,3)).trim():"+"!==e.charAt(0)?(t=e.replace(/ /g,""),t=(t.substr(0,3)+" "+t.substr(3,3)+" "+t.substr(6,99)).trim()):(t=e.replace(/ /g,""),t=(t.substr(0,3)+" "+t.substr(3,3)+" "+t.substr(6,3)+" "+t.substr(9,99)).trim()),t||e}})}(),function(){"use strict";angular.module("ui-patterns-filters").filter("snswRemoveLeadingZero",function(){return function(e){if(!e)return"";var t;return"+"!==e.charAt(0)&&(t=e.replace(/^0/g,"")),t||e}})}(),function(){"use strict";function e(){return function(e){e=e||"";var t=e.replace(/([A-Z])/g," $1");return angular.uppercase(t.charAt(0))+angular.lowercase(t.substr(1))}}angular.module("ui-patterns-filters").filter("titleCase",e)}(),function(){"use strict";function e(e){e.setType({name:"address","extends":"input",wrapper:["label","hint","info-alert"],controller:"addressInputController as input",templateUrl:"ui-patterns/formly-fields/address/address.html",defaultOptions:{className:"form-group"}})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"anchor",templateUrl:"ui-patterns/formly-fields/anchor/anchor.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"body-copy",defaultOptions:{templateOptions:{label:"<p>Body copy body copy</p>"}},templateUrl:"ui-patterns/formly-fields/body-copy/body-copy.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType([{name:"bodycopy",template:'<div class="row"><div class="col-xs-12"><p ng-bind-html="::to.bodycopyContent"></p></div></div>'}])}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setWrapper([{name:"bootstrap-row",template:'<div class="row"><formly-transclude></formly-transclude></div>'}])}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setWrapper([{name:"bootstrap-row-col",template:'<div class="row"><div class="form-group" ng-class="::to.bootstrapColClassNames"><formly-transclude></formly-transclude></div></div>'
}])}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setWrapper([{name:"br",template:"<br/><formly-transclude></formly-transclude>"}])}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({"extends":"input",name:"btn-radio",templateUrl:"ui-patterns/formly-fields/btn-radio/btn-radio.html",defaultOptions:{modelOptions:{debounce:{"default":0}}}})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"button",templateUrl:"ui-patterns/formly-fields/button/button.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"captcha",template:'<div class="wrap-captcha"><div class="row"><div class="col-md-12"><div ng-model="captchaValue" snsw-re-captcha key="reCaptchaPublicKey" on-expire="cbExpiration()"></div></div></div></div>',controller:["$scope","reCaptchaPublicKey",function(e,t){function a(t){var a=e.options.validation.messages[t];return a?a(e.fc.$viewValue,e.fc.$modelValue,e):void 0}e.reCaptchaPublicKey=t,e.options.data.getValidationMessage=a,e.cbExpiration=function(){e.captchaValue=""}}]})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({"extends":"input",name:"checkbox",templateUrl:"ui-patterns/formly-fields/checkbox/checkbox.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType([{"extends":"input",name:"checkbox-label-with-action",templateUrl:"ui-patterns/formly-fields/checkbox-label-with-action/checkbox-label-with-action.html",defaultOptions:{wrapper:["validation","bootstrap-row-col"],modelOptions:{debounce:{"default":0}},templateOptions:{bootstrapColClassNames:"col-xs-12"}},controller:"generateLabelFromLabelsController"}])}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"checkbox-usage-ctp",templateUrl:"ui-patterns/formly-fields/checkbox-usage-ctp/checkbox-usage-ctp.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"click-more",templateUrl:"ui-patterns/formly-fields/click-more/click-more.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"data-list",templateUrl:"ui-patterns/formly-fields/data-list/data-list.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){function t(e){return(e||"This")+" has an invalid format. Please re-enter."}e.setType({name:"datepicker",templateUrl:"ui-patterns/formly-fields/datepicker/datepicker.html",defaultOptions:{validation:{messages:{validIsAfterManufactureDateIfExist:t,validIsNotFutureDate:function(e){return"The date "+e+" is a future date. Please re-enter."}}},validators:{validIsAfterManufactureDateIfExist:function(e,t,a){var r,o,i=!0,s=t||e;return"string"==typeof a.to.manufactureDate?(r=a.to.manufactureDate.split("/"),o=new Date(parseInt(r[r.length-1],10),parseInt(r[r.length-2],10)-1)):o=a.to.manufactureDate,o&&new Date(s)<o&&(i=!1),a.invalidDateElseWhere=!i,console.log("validIsAfterManufactureDateIfExist called",i),i},validIsNotFutureDate:function(e,t,a){var r=!0,o=t||e;return o?((!o||new Date(o)>=new Date)&&(r=!1),a.invalidDateElseWhere=!r,console.log("validIsNotFutureDate called",r),r):!0}}}})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"declaration-buttons",templateUrl:"ui-patterns/formly-fields/declaration-buttons/declaration-buttons.html",defaultOptions:{validation:{messages:{required:function(e,t,a){return"You must give details about your answer for this declaration question."}}}},controller:"declarationButtonsController"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setWrapper([{name:"declaration-item",templateUrl:"ui-patterns/formly-fields/declaration-item/declaration-item.html"}])}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setWrapper([{name:"fieldset",template:"<fieldset><legend><strong>{{to.legend}}</strong></legend><formly-transclude></formly-transclude></fieldset>"}])}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setWrapper([{name:"hint",templateUrl:"ui-patterns/formly-fields/hint/hint.html"}])}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setWrapper([{name:"hint-with-modal",templateUrl:"ui-patterns/formly-fields/hint-with-modal/hint-with-modal.html"}])}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"hr",templateUrl:"ui-patterns/formly-fields/hr/hr.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setWrapper([{name:"info-alert",templateUrl:"ui-patterns/formly-fields/info-alert/info-alert.html"}])}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"input-billing-number","extends":"input",defaultOptions:{wrapper:["validation","label"],templateOptions:{type:"text",maxlength:8,minlength:1,pattern:"[0-9]{1,8}",patternValidationMessage:"The billing number must be a number up to 8 digits."}}})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType([{name:"input-name","extends":"input",defaultOptions:{wrapper:["label","validation"],templateOptions:{pattern:"([A-Za-z ,.'-]{1,60})"}},apiCheck:function(e){return{templateOptions:{pattern:e.string.optional,type:e.string.optional}}},apiCheckInstance:apiCheck()}])}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e,t){e.setType([{name:"input-plate-number","extends":"input",defaultOptions:{wrapper:["label-with-modal","validation"],templateOptions:{type:"text",pattern:"[a-zA-Z0-9]{1,6}",patternValidationMessage:"NSW plate number has an invalid format. Please re-enter. ",modalLink:t.RMS.TRANSFERREGO.BOUGHTVEHICLE.PLATENUMBERLABEL}},controller:["$scope","snswModal",function(e,a){e.to.openModal=function(){a.open({heading:t.RMS.TRANSFERREGO.BOUGHTVEHICLE.PLATENUMBERLABEL,body:'<img class="img-responsive" src="'+resourcePath+'/images/rego-notice.png">',secondaryButton:t.GLOBAL.ACTIONS.CLOSE})}}]}])}e.$inject=["formlyConfigProvider","SNIPPETS"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"input-price",templateUrl:"ui-patterns/formly-fields/input-price/input-price.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"input-with-button",templateUrl:"ui-patterns/formly-fields/input-with-button/input-with-button.html",link:function(e){e.removeModel=function(){e.options.resetModel()}}})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"input-with-success-alert",controller:"validationSummaryController",templateUrl:"ui-patterns/formly-fields/input-with-success-alert/input-with-success-alert.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setWrapper([{name:"label",templateUrl:"ui-patterns/formly-fields/label/label.html"}])}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setWrapper([{name:"label-with-modal",templateUrl:"ui-patterns/formly-fields/label-with-modal/label-with-modal.html"}])}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"label-with-repeat",templateUrl:"ui-patterns/formly-fields/label-with-repeat/label-with-repeat.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setWrapper([{name:"labels-with-modal",templateUrl:"ui-patterns/formly-fields/labels-with-modal/labels-with-modal.html"}])}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setWrapper([{name:"list-ordered",templateUrl:"ui-patterns/formly-fields/list-ordered/list-ordered.html"}])}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"lists",templateUrl:"ui-patterns/formly-fields/lists/lists.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setWrapper([{name:"message-panel",templateUrl:"ui-patterns/formly-fields/message-panel/message-panel.html"}]),e.setType({name:"message-panel",templateUrl:"ui-patterns/formly-fields/message-panel/message-panel.html",controller:["$scope","rmsPdfService",function(e,t){e.openPDF=function(){return e.to.pdfFile?t.openPdf({fileData:e.to.pdfFile,fileName:e.to.fileName}):void t.getPdfAttachment(e.to.transactionToken,e.to.fileName,e.to.fileId).then(function(a){var r={fileData:a.statusObject.base64Body,fileName:e.to.fileName};return t.openPdf(r)})}}]})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"modal",templateUrl:"ui-patterns/formly-fields/modal/modal.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"nested",template:'<formly-form model="model[options.key]" fields="options.data.fields"></formly-form>'})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setWrapper([{name:"ngshow",template:'<div ng-show="to.show()"><formly-transclude></formly-transclude></div>'}])}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"output-label",templateUrl:"ui-patterns/formly-fields/output-label/output-label.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"panel-group-radio",wrapper:["validation"],"extends":"input",templateUrl:"ui-patterns/formly-fields/panel-group-radio/panel-group-radio.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"radio",templateUrl:"ui-patterns/formly-fields/radio/radio.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"radio-panel",templateUrl:"ui-patterns/formly-fields/radio-panel/radio-panel.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"registration-detail",templateUrl:"ui-patterns/formly-fields/registration-detail/registration-detail.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"regoPlate-detail",templateUrl:"ui-patterns/formly-fields/rego-plate-detail/rego-plate-detail.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"sale-radio-button",templateUrl:"ui-patterns/formly-fields/sale-radio-button/sale-radio-button.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"select","extends":"input",templateUrl:"ui-patterns/formly-fields/select/select.html",defaultOptions:{modelOptions:{debounce:{"default":0}}}})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"select-bs",templateUrl:"ui-patterns/formly-fields/select-bs/select-bs.html",wrapper:["label","labels-with-modal","validation","hint"],defaultOptions:{templateOptions:{pattern:"([^s])"}}})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"snsw-pin-code-entry",templateUrl:"ui-patterns/formly-fields/snsw-pin-code-entry/snsw-pin-code-entry.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"snswRenewRegoTerms",templateUrl:"ui-patterns/formly-fields/snsw-renew-rego-terms/snsw-renew-rego-terms.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"sub-header-copy",defaultOptions:{templateOptions:{label:"<p>Body copy body copy</p>"}},template:'<div><b><span ng-bind-html="::to.label"></span></b></div>'})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"submit",controller:"validationSummaryController",templateUrl:"ui-patterns/formly-fields/submit/submit.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"survey-radio-button",templateUrl:"ui-patterns/formly-fields/survey-radio-button/survey-radio-button.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"term-button-group",templateUrl:"ui-patterns/formly-fields/term-button-group/term-button-group.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"text",templateUrl:"ui-patterns/formly-fields/text/text.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"text-with-links",template:'<snsw-dynamic-content html="{{to.html}}"></snsw-dynamic-content>'})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"textarea","extends":"input",templateUrl:"ui-patterns/formly-fields/textarea/textarea.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"timepicker",templateUrl:"ui-patterns/formly-fields/timepicker/timepicker.html"})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setWrapper([{name:"validation",templateUrl:"ui-patterns/formly-fields/validation/validation.html"}])}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";function e(e){e.setType({name:"vehicle-radio-button",wrapper:["label"],"extends":"input",templateUrl:"ui-patterns/formly-fields/vehicle-radio-button/vehicle-radio-button.html",defaultOptions:{modelOptions:{debounce:{"default":0}},templateOptions:{bootstrapColClassNames:"col-xs-12"}}})}e.$inject=["formlyConfigProvider"],angular.module("ui-patterns").config(e)}(),function(){"use strict";var e=[{key:"helpLink",noFormControl:!0,className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details on my Australian Birth Certificate?</a>'},{key:"firstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:60,label:"First name",hint:"Your first name as it appears on the certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"middleName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"middleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:60,label:"Middle name(s)",hint:"Your middle name as it appears on the certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"firstName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{maxlength:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}}},{key:"lastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:50,label:"Last name (surname)",hint:"Your last name (surname) as it appears on the certificate"},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"dateOfBirth",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'},minimumDate:{expression:"formState.partialDate.minimumDate($viewValue, 1753)",message:"formState.errorMessages.minimumDateErrorMessage(options)"},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"DD/MM/YYYY",true)'}},templateOptions:{required:!0,label:"Date of birth",hint:"Enter date of birth as DD/MM/YYYY"}},{key:"registrationNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:10,label:"Registration number",hint:"Enter up to 10 characters"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"dateCertificateIssued",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"DD/MM/YYYY")'}},templateOptions:{required:!0,label:"Date certificate issued",hint:"Enter date certificate issued as DD/MM/YYYY"}},{key:"certificateNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:11,label:"Certificate number",hint:"Enter up to 11 characters"},validation:{messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"registrationYear",type:"input",className:"form-group",wrapper:["label","hint","validation"],templateOptions:{required:!0,label:"Registration year",hint:"Enter registration year as YYYY"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"YYYY",true)'}}},{key:"dateOfRegistration",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"DD/MM/YYYY")'}},templateOptions:{required:!0,label:"Registration date",hint:"Enter registration date as DD/MM/YYYY"}},{key:"helpText"}];angular.module("link.dvs").constant("birthCertificateCommon",e)}(),function(){"use strict";function e(e){var t={NSW:[{key:"firstName"},{key:"lastName"},{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1914")'}}}],QLD:[{key:"registrationNumber",templateOptions:{hint:"Enter up to 10 characters. If your certificate was issued on or after 02/07/1996, you need to complete this field and enter numbers only."},expressionProperties:{"templateOptions.pattern":function(t,a,r){var o=e.generate(r.model.dateOfRegistration);return o.isBefore(moment("2/7/1996","L"))?"":"[0-9]*"},"templateOptions.required":e.fieldRequiredAfter("dateOfRegistration","2/7/1996")},validation:{messages:{required:function(e,t,a){var r=angular.lowercase(a.options.templateOptions.label);return"If your certificate was issued on or after 02/07/1996, please enter your "+r+" using numbers only."}}}},{key:"dateOfRegistration",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1953")'}}}],SA:[{key:"certificateNumber",expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateCertificateIssued","1/11/1999")},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"dateCertificateIssued",templateOptions:{required:!1}},{key:"helpText",template:'<p class="field-group">If your certificate was issued on or after 01/11/1999, you need to complete the following fields.</p>'}],ACT:[{key:"certificateNumber",expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateCertificateIssued","1/5/2002")},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"dateCertificateIssued",templateOptions:{hint:"Enter date certificate issued as DD/MM/YYYY. If your certificate was issued on or after 01/05/2002, you need to complete the following fields."},validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1930")'}}}],NT:[{key:"certificateNumber",expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateCertificateIssued","12/7/1999")},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"dateCertificateIssued",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1870")'}}}],VIC:[{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1929")'}}}],WA:[{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1930")'}}},{key:"registrationNumber",templateOptions:{hint:"Enter 7 characters"}}],TAS:[{key:"registrationYear",expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateOfRegistration","1/11/1999")},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"registrationNumber",templateOptions:{hint:"Enter up to 10 characters. If your certificate was issued on or after 01/11/1999, you need to complete this field and enter numbers only."},expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateOfRegistration","1/11/1999")},validation:{messages:{required:function(e,t,a){var r=angular.lowercase(a.options.templateOptions.label);return"If your certificate was issued on or after 01/11/1999, please enter your "+r+" using numbers only."}}}},{key:"dateOfRegistration",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1970")'}}}]};return t}e.$inject=["partialDate"],angular.module("link.dvs").factory("birthCertificateExtensions",e)}(),function(){"use strict";function e(e,t,a,r){function o(t){var a=angular.copy(t);return a.dateOfBirth=e.filter(a.dateOfBirth),a.dateOfRegistration=e.filter(a.dateOfRegistration),a.dateCertificateIssued=e.filter(a.dateCertificateIssued),a}var i=[{key:"registrationState",type:"select",className:"form-group",wrapper:["label","validation"],templateOptions:{required:!0,label:"State or territory",placeholder:"Select state or territory",options:t,onChange:"formState.australianStateChange(options.key, fc.$modelValue)"},validation:{messages:{required:"formState.errorMessages.requiredSelectErrorMessage(options)"}}}],s={NSW:["helpLink","firstName","middleName","lastName","dateOfBirth","registrationNumber","registrationYear"],QLD:["helpLink","firstName","middleName","lastName","dateOfBirth","dateOfRegistration","registrationNumber"],SA:["helpLink","firstName","middleName","lastName","dateOfBirth","registrationNumber","helpText","dateCertificateIssued","certificateNumber"],ACT:["helpLink","firstName","middleName","lastName","dateOfBirth","registrationNumber","dateCertificateIssued","certificateNumber"],NT:["helpLink","firstName","middleName","lastName","dateOfBirth","registrationNumber","dateCertificateIssued","certificateNumber"],VIC:["helpLink","firstName","middleName","lastName","dateOfBirth","registrationNumber","registrationYear"],WA:["helpLink","firstName","middleName","lastName","dateOfBirth","registrationNumber","registrationYear"],TAS:["helpLink","firstName","middleName","lastName","dateOfBirth","dateOfRegistration","registrationNumber","registrationYear"]};return{fields:i,mapModel:o,fieldMap:s,allFields:a,extensions:r}}e.$inject=["partialDate","stateOptions","birthCertificateCommon","birthCertificateExtensions"],angular.module("link.dvs").factory("birthCertificateFields",e)}(),function(){"use strict";var e=[{key:"helpLink",noFormControl:!0,className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details on my Australian Change of Name Certificate?</a>'},{key:"dateOfBirth",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'},minimumDate:{expression:"formState.partialDate.minimumDate($viewValue, 1753)",message:"formState.errorMessages.minimumDateErrorMessage(options)"},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"DD/MM/YYYY",true)'}},templateOptions:{required:!0,label:"Date of birth",hint:"Enter date of birth as DD/MM/YYYY"}},{key:"registrationNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:10,label:"Registration number",hint:"Enter up to 10 characters"},validation:{messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)",required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"registrationYear",type:"input",className:"form-group",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"YYYY")'}},templateOptions:{required:!0,label:"Registration year",hint:"Enter registration year as YYYY"}},{key:"certificateNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:11,label:"Certificate number",hint:"Enter up to 11 characters"},validation:{messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"dateCertificateIssued",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"DD/MM/YYYY")'}},templateOptions:{required:!0,label:"Date certificate issued",hint:"Enter date certificate issued as DD/MM/YYYY"}},{key:"firstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:60,label:"New first name",hint:"Your new first name as it appears on your certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"middleName")',message:'formState.errorMessages.combinedMaxLengthErrorMessage(options,"new")'}},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"middleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:60,label:"New middle name(s)",hint:"Your new middle name(s) as it appears on your certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"firstName")',message:'formState.errorMessages.combinedMaxLengthErrorMessage(options,"new")'}},validation:{messages:{maxlength:'formState.errorMessages.combinedMaxLengthErrorMessage(options,"new")'}}},{key:"lastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:50,label:"New last name (surname)",hint:"Your new last name (surname) as it appears on your certificate"},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"oldFirstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:60,label:"Old first name",hint:"Your old first name as it appears on your certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"oldMiddleName")',message:'formState.errorMessages.combinedMaxLengthErrorMessage(options,"old")'}},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"oldMiddleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:60,label:"Old middle name(s)",hint:"Your old middle name(s) as it appears on your certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"oldFirstName")',message:'formState.errorMessages.combinedMaxLengthErrorMessage(options,"old")'}},validation:{messages:{maxlength:'formState.errorMessages.combinedMaxLengthErrorMessage(options,"old")'}}},{key:"oldLastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:50,label:"Old last name (surname)",hint:"Your old last name (surname) as it appears on your certificate"},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"
}}},{key:"dateOfRegistration",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"DD/MM/YYYY")'}},templateOptions:{required:!0,label:"Registration Date",hint:"Enter registration date as DD/MM/YYYY"}},{key:"helpText"}];angular.module("link.dvs").constant("changeOfNameCertificateCommon",e)}(),function(){"use strict";function e(e){var t={NSW:[{key:"firstName",validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)"}}},{key:"lastName",validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)"}}},{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1996")'}}},{key:"certificateNumber",templateOptions:{hint:"Enter up to 11 characters. If your certificate was issued on or after 13/10/2014, you need to complete this field."},expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateCertificateIssued","13/10/2014")},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"dateCertificateIssued",templateOptions:{required:!1,hint:"Enter date certificate issued as DD/MM/YYYY. If your certificate was issued on or after 13/10/2014, you need to complete this field."}}],QLD:[{key:"dateOfRegistration",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "02/02/2004")'}}}],SA:[{key:"dateCertificateIssued",templateOptions:{required:!1}},{key:"certificateNumber",expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateCertificateIssued","01/11/1999")},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"dateOfBirth",templateOptions:{required:!1}},{key:"helpText",template:'<p class="field-group">If your certificate was issued on or after 01/11/1999, you need to complete the following fields.</p>'}],ACT:[{key:"certificateNumber",templateOptions:{hint:"Enter up to 11 characters. If your certificate was issued on or after 01/05/2002, you need to complete this field."},expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateCertificateIssued","01/05/2002")},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"dateCertificateIssued",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1930")'}}},{key:"dateOfBirth",templateOptions:{required:!1}}],NT:[{key:"certificateNumber",templateOptions:{required:!0},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"dateCertificateIssued",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1987")'}}},{key:"dateOfBirth",templateOptions:{required:!1}}],VIC:[{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1986")'}}}],WA:[{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "2001")'}}}],TAS:[{key:"registrationNumber",expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateOfRegistration","01/11/2000")},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"registrationYear",templateOptions:{hint:"Enter registration year as YYYY. If your certificate was issued on or after 01/11/2000, you need to complete this field."},validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "2000")'}}}]};return t}e.$inject=["partialDate"],angular.module("link.dvs").factory("changeOfNameCertificateExtensions",e)}(),function(){"use strict";function e(e,t,a,r){function o(t){var a=angular.copy(t);return a.dateOfBirth=e.filter(a.dateOfBirth),a.dateOfRegistration=e.filter(a.dateOfRegistration),a.dateCertificateIssued=e.filter(a.dateCertificateIssued),a}var i=[{key:"registrationState",type:"select",className:"form-group",wrapper:["label","validation"],templateOptions:{required:!0,label:"State or territory",placeholder:"Select state or territory",options:t,onChange:"formState.australianStateChange(options.key, fc.$modelValue)"},validation:{messages:{required:"formState.errorMessages.requiredSelectErrorMessage(options)"}}}],s={NSW:["helpLink","dateOfBirth","registrationNumber","registrationYear","dateCertificateIssued","certificateNumber","firstName","middleName","lastName"],VIC:["helpLink","dateOfBirth","registrationNumber","registrationYear","firstName","middleName","lastName"],WA:["helpLink","dateOfBirth","registrationNumber","registrationYear","firstName","middleName","lastName"],QLD:["helpLink","dateOfBirth","registrationNumber","dateOfRegistration","firstName","middleName","lastName"],SA:["helpLink","dateOfBirth","registrationNumber","firstName","middleName","lastName","oldFirstName","oldMiddleName","oldLastName","helpText","dateCertificateIssued","certificateNumber"],ACT:["helpLink","dateOfBirth","registrationNumber","dateCertificateIssued","certificateNumber","firstName","middleName","lastName","oldFirstName","oldMiddleName","oldLastName"],NT:["helpLink","dateOfBirth","registrationNumber","dateCertificateIssued","certificateNumber","firstName","middleName","lastName","oldFirstName","oldMiddleName","oldLastName"],TAS:["helpLink","dateOfBirth","registrationNumber","dateOfRegistration","registrationYear","firstName","middleName","lastName","oldFirstName","oldMiddleName","oldLastName"]};return{fields:i,mapModel:o,fieldMap:s,allFields:a,extensions:r}}e.$inject=["partialDate","stateOptions","changeOfNameCertificateCommon","changeOfNameCertificateExtensions"],angular.module("link.dvs").factory("changeOfNameCertificateFields",e)}(),function(){"use strict";var e=[{key:"helpLink",noFormControl:!0,className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details on my Australian Marriage Certificate?</a>'},{key:"iAmThe",type:"radio",wrapper:["validation"],templateOptions:{required:!0,label:"I am the",options:[{value:"bride",label:"Bride"},{value:"groom",label:"Groom"}],onChange:function(e,t,a){"bride"===e?(a.model.brideFirstName=a.model.firstName,a.model.brideMiddleName=a.model.middleName,a.model.brideLastName=a.model.lastName,a.model.groomFirstName="",a.model.groomMiddleName="",a.model.groomLastName=""):(a.model.brideFirstName="",a.model.brideMiddleName="",a.model.brideLastName="",a.model.groomFirstName=a.model.firstName,a.model.groomMiddleName=a.model.middleName,a.model.groomLastName=a.model.lastName)}},validation:{messages:{required:'"Please select if you are the bride or groom."'}}},{key:"brideFirstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:60,label:"Bride's first name",hint:"Bride's first name as it appears on the certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"brideMiddleName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,false)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"brideMiddleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:60,label:"Bride's middle name(s)",hint:"Bride's middle name(s) as it appears on the certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"brideFirstName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"brideLastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:50,label:"Bride's last name (surname)",hint:"Bride's last name (surname) as it appears on the certificate"},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,false)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"groomFirstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:60,label:"Groom's first name",hint:"Groom's first name as it appears on the certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"groomMiddleName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,false)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"groomMiddleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:60,label:"Groom's middle name(s)",hint:"Groom's middle name(s) as it appears on the certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"groomFirstName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"groomLastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:50,label:"Groom's last name (surname)",hint:"Groom's last name (surname) as it appears on the certificate"},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,false)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"registrationNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:10,label:"Registration number",hint:"Enter up to 10 characters"},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"dateOfMarriage",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY, MM/YYYY or YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["M/YYYY","MM/YYYY","D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY","YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"DD/MM/YYYY, MM/YYYY or YYYY")'}},templateOptions:{required:!0,label:"Date of marriage (event)",hint:"Enter date of marriage as DD/MM/YYYY, MM/YYYY or YYYY"}},{key:"registrationYear",type:"input",className:"form-group",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},templateOptions:{required:!0,label:"Registration year",hint:"Enter registration year as YYYY"},data:{dateFilters:["YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"YYYY")'}}},{key:"dateOfRegistration",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},templateOptions:{required:!0,label:"Date of registration",hint:"Enter date of registration as DD/MM/YYYY"},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"dateCertificateIssued",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},templateOptions:{required:!0,label:"Date certificate issued"},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"certificateNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:11,label:"Certificate number",hint:"Enter up to 11 characters"},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"helpText"}];angular.module("link.dvs").constant("marriageCertificateCommon",e)}(),function(){"use strict";function e(e){var t={NSW:[{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue,"1914")'}}}],QLD:[{key:"registrationNumber",expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateOfRegistration","01/07/1996")},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"dateOfRegistration",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "3/9/1963")'}}}],SA:[{key:"certificateNumber",expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateCertificateIssued","01/11/1999")},templateOptions:{hint:"Enter up to 11 characters. If your certificate was issued on or after 01/11/1999, you need to complete this field."},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"dateCertificateIssued",templateOptions:{hint:"Enter date certificate issued as DD/MM/YYYY. If your certificate was issued on or after 01/11/1999, you need to complete this field."}}],ACT:[{key:"certificateNumber",expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateCertificateIssued","01/05/2002")},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}},templateOptions:{hint:"Enter up to 11 characters. If your certificate was issued on or after 01/05/2002, you need to complete this field."}},{key:"dateCertificateIssued",templateOptions:{hint:"Enter date certificate issued as DD/MM/YYYY"},validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1930")'}}}],NT:[{key:"certificateNumber",templateOptions:{required:!0},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"dateCertificateIssued",templateOptions:{hint:"Enter date certificate issued as DD/MM/YYYY"},validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1960")'}}}],VIC:[{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1990")'}}}],WA:[{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1940")'}}}],TAS:[{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1970")'}}}]};return t}e.$inject=["partialDate"],angular.module("link.dvs").factory("marriageCertificateExtensions",e)}(),function(){"use strict";function e(e,t,a,r){function o(t){var a=angular.copy(t);return a.dateOfMarriage=e.filter(a.dateOfMarriage),a.dateOfRegistration=e.filter(a.dateOfRegistration),a.dateCertificateIssued=e.filter(a.dateCertificateIssued),a}var i=[{key:"registrationState",type:"select",className:"form-group",wrapper:["label","validation"],templateOptions:{required:!0,label:"State or territory",placeholder:"Select state or territory",options:t,onChange:"formState.australianStateChange(options.key, fc.$modelValue)"},validation:{messages:{required:"formState.errorMessages.requiredSelectErrorMessage(options)"}}}],s={NSW:["helpLink","iAmThe","dateOfMarriage","registrationNumber","registrationYear","brideFirstName","brideMiddleName","brideLastName","groomFirstName","groomMiddleName","groomLastName"],VIC:["helpLink","iAmThe","dateOfMarriage","registrationNumber","registrationYear","brideFirstName","brideMiddleName","brideLastName","groomFirstName","groomMiddleName","groomLastName"],WA:["helpLink","iAmThe","dateOfMarriage","registrationNumber","registrationYear","brideFirstName","brideMiddleName","brideLastName","groomFirstName","groomMiddleName","groomLastName"],TAS:["helpLink","iAmThe","dateOfMarriage","registrationNumber","registrationYear","brideFirstName","brideMiddleName","brideLastName","groomFirstName","groomMiddleName","groomLastName"],SA:["helpLink","iAmThe","dateOfMarriage","registrationNumber","brideFirstName","brideMiddleName","brideLastName","groomFirstName","groomMiddleName","groomLastName","helpText","dateCertificateIssued","certificateNumber"],ACT:["helpLink","iAmThe","dateOfMarriage","registrationNumber","brideFirstName","brideMiddleName","brideLastName","groomFirstName","groomMiddleName","groomLastName","dateCertificateIssued","certificateNumber"],NT:["helpLink","iAmThe","dateOfMarriage","registrationNumber","brideFirstName","brideMiddleName","brideLastName","groomFirstName","groomMiddleName","groomLastName","dateCertificateIssued","certificateNumber"],QLD:["helpLink","iAmThe","dateOfMarriage","dateOfRegistration","registrationNumber","brideFirstName","brideMiddleName","brideLastName","groomFirstName","groomMiddleName","groomLastName"]};return{fields:i,mapModel:o,fieldMap:s,allFields:a,extensions:r}}e.$inject=["partialDate","stateOptions","marriageCertificateCommon","marriageCertificateExtensions"],angular.module("link.dvs").factory("marriageCertificateFields",e)}(),function(){"use strict";var e=[{key:"helpLink",noFormControl:!0,className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details on my Australian Birth Certificate?</a>'},{key:"firstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:60,label:"First name",hint:"Your first name as it appears on the certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"middleName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"middleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:60,label:"Middle name(s)",hint:"Your middle name as it appears on the certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"firstName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{maxlength:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}}},{key:"lastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:50,label:"Last name (surname)",hint:"Your last name (surname) as it appears on the certificate"},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"dateOfBirth",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'},minimumDate:{expression:"formState.partialDate.minimumDate($viewValue, 1753)",message:"formState.errorMessages.minimumDateErrorMessage(options)"},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"DD/MM/YYYY",true)'}},templateOptions:{required:!0,label:"Date of birth",hint:"Enter date of birth as DD/MM/YYYY"}},{key:"registrationNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:10,label:"Registration number",hint:"Enter up to 10 characters"},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"dateCertificateIssued",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"DD/MM/YYYY")'}},templateOptions:{required:!0,label:"Date certificate issued",hint:"Enter date certificate issued as DD/MM/YYYY"}},{key:"certificateNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:11,label:"Certificate number",hint:"Enter up to 11 characters"},validation:{messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"registrationYear",type:"input",className:"form-group",wrapper:["label","hint","validation"],templateOptions:{required:!0,label:"Registration year",hint:"Enter registration year as YYYY"},validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"YYYY",true)'}}},{key:"dateOfRegistration",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"DD/MM/YYYY")'}},templateOptions:{required:!0,label:"Registration date",hint:"Enter registration date as DD/MM/YYYY"}},{key:"helpText"}];angular.module("link.police").constant("birthCertificateCommon",e)}(),function(){"use strict";function e(e){var t={NSW:[{key:"firstName"},{key:"lastName"},{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1914")'}}}],QLD:[{key:"registrationNumber",templateOptions:{hint:"Enter up to 10 characters. If your certificate was issued on or after 02/07/1996, you need to complete this field and enter numbers only."},expressionProperties:{"templateOptions.pattern":function(t,a,r){var o=e.generate(r.model.dateOfRegistration);return o.isBefore(moment("2/7/1996","L"))?"":"[0-9]*"},"templateOptions.required":e.fieldRequiredAfter("dateOfRegistration","2/7/1996")},validation:{messages:{required:function(e,t,a){var r=angular.lowercase(a.options.templateOptions.label);return"If your certificate was issued on or after 02/07/1996, please enter your "+r+" using numbers only."}}}},{key:"dateOfRegistration",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1953")'}}}],SA:[{key:"certificateNumber",expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateCertificateIssued","1/11/1999")},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"dateCertificateIssued",templateOptions:{required:!1}},{key:"helpText",template:'<p class="field-group">If your certificate was issued on or after 01/11/1999, you need to complete the following fields.</p>'}],ACT:[{key:"certificateNumber",expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateCertificateIssued","1/5/2002")},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"dateCertificateIssued",templateOptions:{hint:"Enter date certificate issued as DD/MM/YYYY. If your certificate was issued on or after 01/05/2002, you need to complete the following fields."},validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1930")'}}}],NT:[{key:"certificateNumber",expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateCertificateIssued","12/7/1999")},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"dateCertificateIssued",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1870")'}}}],VIC:[{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1929")'}}}],WA:[{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1930")'}}},{key:"registrationNumber",templateOptions:{hint:"Enter 7 characters"}}],TAS:[{key:"registrationYear",expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateOfRegistration","1/11/1999")},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"registrationNumber",templateOptions:{hint:"Enter up to 10 characters. If your certificate was issued on or after 01/11/1999, you need to complete this field and enter numbers only."},expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateOfRegistration","1/11/1999")},validation:{messages:{required:function(e,t,a){var r=angular.lowercase(a.options.templateOptions.label);return"If your certificate was issued on or after 01/11/1999, please enter your "+r+" using numbers only."}}}},{key:"dateOfRegistration",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1970")'}}}]};return t}e.$inject=["partialDate"],angular.module("link.police").factory("birthCertificateExtensions",e)}(),function(){"use strict";function e(e,t,a,r){function o(t){var a=angular.copy(t);return a.dateOfBirth=e.filter(a.dateOfBirth),a.dateOfRegistration=e.filter(a.dateOfRegistration),a.dateCertificateIssued=e.filter(a.dateCertificateIssued),a}var i=[{key:"registrationState",type:"select",className:"form-group",wrapper:["label","validation"],templateOptions:{required:!0,label:"State or territory",placeholder:"Select state or territory",options:t,onChange:"formState.australianStateChange(options.key, fc.$modelValue)"},validation:{messages:{required:"formState.errorMessages.requiredSelectErrorMessage(options)"}}}],s={NSW:["helpLink","firstName","middleName","lastName","dateOfBirth","registrationNumber","registrationYear"],QLD:["helpLink","firstName","middleName","lastName","dateOfBirth","dateOfRegistration","registrationNumber"],SA:["helpLink","firstName","middleName","lastName","dateOfBirth","registrationNumber","helpText","dateCertificateIssued","certificateNumber"],ACT:["helpLink","firstName","middleName","lastName","dateOfBirth","registrationNumber","dateCertificateIssued","certificateNumber"],NT:["helpLink","firstName","middleName","lastName","dateOfBirth","registrationNumber","dateCertificateIssued","certificateNumber"],VIC:["helpLink","firstName","middleName","lastName","dateOfBirth","registrationNumber","registrationYear"],WA:["helpLink","firstName","middleName","lastName","dateOfBirth","registrationNumber","registrationYear"],TAS:["helpLink","firstName","middleName","lastName","dateOfBirth","dateOfRegistration","registrationNumber","registrationYear"]};return{fields:i,mapModel:o,fieldMap:s,allFields:a,extensions:r}}e.$inject=["partialDate","stateOptions","birthCertificateCommon","birthCertificateExtensions"],angular.module("link.police").factory("birthCertificateFields",e)}(),function(){"use strict";var e=[{key:"helpLink",noFormControl:!0,className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details on my Australian Change of Name Certificate?</a>'},{key:"dateOfBirth",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'},minimumDate:{expression:"formState.partialDate.minimumDate($viewValue, 1753)",message:"formState.errorMessages.minimumDateErrorMessage(options)"},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"DD/MM/YYYY",true)'}},templateOptions:{required:!0,label:"Date of birth",hint:"Enter date of birth as DD/MM/YYYY"}},{key:"registrationNumber",type:"input",wrapper:["label","validation","hint"],templateOptions:{required:!0,maxlength:10,label:"Registration number",hint:"Enter up to 10 characters"},validation:{messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)",required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"registrationYear",type:"input",className:"form-group",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"YYYY")'}},templateOptions:{required:!0,label:"Registration year",hint:"Enter registration year as YYYY"}},{key:"certificateNumber",type:"input",wrapper:["label","validation","hint"],templateOptions:{maxlength:11,label:"Certificate number",hint:"Enter up to 11 characters"},validation:{messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"dateCertificateIssued",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"DD/MM/YYYY")'}},templateOptions:{required:!0,label:"Date certificate issued",hint:"Enter date certificate issued as DD/MM/YYYY"}},{key:"firstName",type:"input",
wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:60,label:"New first name",hint:"Your new first name as it appears on your certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"middleName")',message:'formState.errorMessages.combinedMaxLengthErrorMessage(options,"new")'}},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"middleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:60,label:"New middle name(s)",hint:"Your new middle name(s) as it appears on your certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"firstName")',message:'formState.errorMessages.combinedMaxLengthErrorMessage(options,"new")'}},validation:{messages:{maxlength:'formState.errorMessages.combinedMaxLengthErrorMessage(options,"new")'}}},{key:"lastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:50,label:"New last name (surname)",hint:"Your new last name (surname) as it appears on your certificate"},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"oldFirstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:60,label:"Old first name",hint:"Your old first name as it appears on your certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"oldMiddleName")',message:'formState.errorMessages.combinedMaxLengthErrorMessage(options,"old")'}},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"oldMiddleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:60,label:"Old middle name(s)",hint:"Your old middle name(s) as it appears on your certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"oldFirstName")',message:'formState.errorMessages.combinedMaxLengthErrorMessage(options,"old")'}},validation:{messages:{maxlength:'formState.errorMessages.combinedMaxLengthErrorMessage(options,"old")'}}},{key:"oldLastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:50,label:"Old last name (surname)",hint:"Your old last name (surname) as it appears on your certificate"},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options,true)"}}},{key:"dateOfRegistration",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"DD/MM/YYYY")'}},templateOptions:{required:!0,label:"Registration Date",hint:"Enter registration date as DD/MM/YYYY"}},{key:"helpText"}];angular.module("link.police").constant("changeOfNameCertificateCommon",e)}(),function(){"use strict";function e(e){var t={NSW:[{key:"firstName",validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)"}}},{key:"lastName",validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,true)"}}},{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1996")'}}},{key:"certificateNumber",templateOptions:{hint:"Enter up to 11 characters. If your certificate was issued on or after 13/10/2014, you need to complete this field."},expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateCertificateIssued","13/10/2014")},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"dateCertificateIssued",templateOptions:{required:!1,hint:"Enter date certificate issued as DD/MM/YYYY. If your certificate was issued on or after 13/10/2014, you need to complete this field."}}],QLD:[{key:"dateOfRegistration",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "02/02/2004")'}}}],SA:[{key:"dateCertificateIssued",templateOptions:{required:!1}},{key:"certificateNumber",expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateCertificateIssued","01/11/1999")},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"dateOfBirth",templateOptions:{required:!1}},{key:"helpText",template:'<p class="field-group">If your certificate was issued on or after 01/11/1999, you need to complete the following fields.</p>'}],ACT:[{key:"certificateNumber",templateOptions:{hint:"Enter up to 11 characters. If your certificate was issued on or after 01/05/2002, you need to complete this field."},expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateCertificateIssued","01/05/2002")},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"dateCertificateIssued",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1930")'}}},{key:"dateOfBirth",templateOptions:{required:!1}}],NT:[{key:"certificateNumber",templateOptions:{required:!0},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"dateCertificateIssued",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1987")'}}},{key:"dateOfBirth",templateOptions:{required:!1}}],VIC:[{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1986")'}}}],WA:[{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "2001")'}}}],TAS:[{key:"registrationNumber",expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateOfRegistration","01/11/2000")},validation:{messages:{required:"formState.errorMessages.requiredUserErrorMessage(options)"}}},{key:"registrationYear",templateOptions:{hint:"Enter registration year as YYYY. If your certificate was issued on or after 01/11/2000, you need to complete this field."},validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "2000")'}}}]};return t}e.$inject=["partialDate"],angular.module("link.police").factory("changeOfNameCertificateExtensions",e)}(),function(){"use strict";function e(e,t,a,r){function o(t){var a=angular.copy(t);return a.dateOfBirth=e.filter(a.dateOfBirth),a.dateOfRegistration=e.filter(a.dateOfRegistration),a.dateCertificateIssued=e.filter(a.dateCertificateIssued),a}var i=[{key:"registrationState",type:"select",className:"form-group",wrapper:["label","validation"],templateOptions:{required:!0,label:"State or territory",placeholder:"Select state or territory",options:t,onChange:"formState.australianStateChange(options.key, fc.$modelValue)"},validation:{messages:{required:"formState.errorMessages.requiredSelectErrorMessage(options)"}}}],s={NSW:["helpLink","dateOfBirth","registrationNumber","registrationYear","dateCertificateIssued","certificateNumber","firstName","middleName","lastName"],VIC:["helpLink","dateOfBirth","registrationNumber","registrationYear","firstName","middleName","lastName"],WA:["helpLink","dateOfBirth","registrationNumber","registrationYear","firstName","middleName","lastName"],QLD:["helpLink","dateOfBirth","registrationNumber","dateOfRegistration","firstName","middleName","lastName"],SA:["helpLink","dateOfBirth","registrationNumber","firstName","middleName","lastName","oldFirstName","oldMiddleName","oldLastName","helpText","dateCertificateIssued","certificateNumber"],ACT:["helpLink","dateOfBirth","registrationNumber","dateCertificateIssued","certificateNumber","firstName","middleName","lastName","oldFirstName","oldMiddleName","oldLastName"],NT:["helpLink","dateOfBirth","registrationNumber","dateCertificateIssued","certificateNumber","firstName","middleName","lastName","oldFirstName","oldMiddleName","oldLastName"],TAS:["helpLink","dateOfBirth","registrationNumber","dateOfRegistration","registrationYear","firstName","middleName","lastName","oldFirstName","oldMiddleName","oldLastName"]};return{fields:i,mapModel:o,fieldMap:s,allFields:a,extensions:r}}e.$inject=["partialDate","stateOptions","changeOfNameCertificateCommon","changeOfNameCertificateExtensions"],angular.module("link.police").factory("changeOfNameCertificateFields",e)}(),function(){"use strict";var e=[{key:"helpLink",noFormControl:!0,className:"form-group",template:'<a href="javascript:" tabindex="-1" ng-href="{{formState.helpLink(model)}}" target="_blank">Where do I find these details on my Australian Marriage Certificate?</a>'},{key:"iAmThe",type:"radio",wrapper:["validation"],templateOptions:{required:!0,label:"I am the",options:[{value:"bride",label:"Bride"},{value:"groom",label:"Groom"}],onChange:function(e,t,a){"bride"===e?(a.model.brideFirstName=a.model.firstName,a.model.brideMiddleName=a.model.middleName,a.model.brideLastName=a.model.lastName,a.model.groomFirstName="",a.model.groomMiddleName="",a.model.groomLastName=""):(a.model.brideFirstName="",a.model.brideMiddleName="",a.model.brideLastName="",a.model.groomFirstName=a.model.firstName,a.model.groomMiddleName=a.model.middleName,a.model.groomLastName=a.model.lastName)}},validation:{messages:{required:'"Please select if you are the bride or groom."'}}},{key:"brideFirstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:60,label:"Bride's first name",hint:"Bride's first name as it appears on the certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"brideMiddleName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,false)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"brideMiddleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:60,label:"Bride's middle name(s)",hint:"Bride's middle name(s) as it appears on the certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"brideFirstName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"brideLastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:50,label:"Bride's last name (surname)",hint:"Bride's last name (surname) as it appears on the certificate"},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,false)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"groomFirstName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:60,label:"Groom's first name",hint:"Groom's first name as it appears on the certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"groomMiddleName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,false)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"groomMiddleName",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:60,label:"Groom's middle name(s)",hint:"Groom's middle name(s) as it appears on the certificate"},validators:{combinedMaxLength:{expression:'formState.combinedMaxLength(options,model,$viewValue,"groomFirstName")',message:"formState.errorMessages.combinedMaxLengthErrorMessage(options)"}},validation:{messages:{maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"groomLastName",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:50,label:"Groom's last name (surname)",hint:"Groom's last name (surname) as it appears on the certificate"},validation:{messages:{required:"formState.errorMessages.requiredFieldsErrorMessage(options,false)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"registrationNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{required:!0,maxlength:10,label:"Registration number",hint:"Enter up to 10 characters"},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"dateOfMarriage",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY, MM/YYYY or YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},data:{dateFilters:["M/YYYY","MM/YYYY","D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY","YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"DD/MM/YYYY, MM/YYYY or YYYY")'}},templateOptions:{required:!0,label:"Date of marriage (event)",hint:"Enter date of marriage as DD/MM/YYYY, MM/YYYY or YYYY"}},{key:"registrationYear",type:"input",className:"form-group",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},templateOptions:{required:!0,label:"Registration year",hint:"Enter registration year as YYYY"},data:{dateFilters:["YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"YYYY")'}}},{key:"dateOfRegistration",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},templateOptions:{required:!0,label:"Date of registration",hint:"Enter date of registration as DD/MM/YYYY"},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"dateCertificateIssued",type:"input",wrapper:["label","hint","validation"],validators:{validDate:{expression:"formState.partialDate.valid($viewValue,options)",message:'formState.errorMessages.validDateErrorMessage(options,"DD/MM/YYYY")'},maximumDate:{expression:"formState.partialDate.maximumDate($viewValue)",message:"formState.errorMessages.maximumDateErrorMessage(options)"}},templateOptions:{required:!0,label:"Date certificate issued"},data:{dateFilters:["D/M/YYYY","DD/M/YYYY","D/MM/YYYY","DD/MM/YYYY"]},validation:{messages:{required:'formState.errorMessages.requiredDateErrorMessage(options,"DD/MM/YYYY")'}}},{key:"certificateNumber",type:"input",wrapper:["label","hint","validation"],templateOptions:{maxlength:11,label:"Certificate number",hint:"Enter up to 11 characters"},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"helpText"}];angular.module("link.police").constant("marriageCertificateCommon",e)}(),function(){"use strict";function e(e){var t={NSW:[{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue,"1914")'}}}],QLD:[{key:"registrationNumber",expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateOfRegistration","01/07/1996")},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"dateOfRegistration",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "3/9/1963")'}}}],SA:[{key:"certificateNumber",expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateCertificateIssued","01/11/1999")},templateOptions:{hint:"Enter up to 11 characters. If your certificate was issued on or after 01/11/1999, you need to complete this field."},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"dateCertificateIssued",templateOptions:{hint:"Enter date certificate issued as DD/MM/YYYY. If your certificate was issued on or after 01/11/1999, you need to complete this field."}}],ACT:[{key:"certificateNumber",expressionProperties:{"templateOptions.required":e.fieldRequiredAfter("dateCertificateIssued","01/05/2002")},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}},templateOptions:{hint:"Enter up to 11 characters. If your certificate was issued on or after 01/05/2002, you need to complete this field."}},{key:"dateCertificateIssued",templateOptions:{hint:"Enter date certificate issued as DD/MM/YYYY"},validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1930")'}}}],NT:[{key:"certificateNumber",templateOptions:{required:!0},validation:{messages:{required:"formState.errorMessages.requiredErrorMessage(options)",maxlength:"formState.errorMessages.maxlengthErrorMessage(options)"}}},{key:"dateCertificateIssued",templateOptions:{hint:"Enter date certificate issued as DD/MM/YYYY"},validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1960")'}}}],VIC:[{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1990")'}}}],WA:[{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1940")'}}}],TAS:[{key:"registrationYear",validators:{electronic:{expression:'formState.partialDate.minimumDate($modelValue, "1970")'}}}]};return t}e.$inject=["partialDate"],angular.module("link.police").factory("marriageCertificateExtensions",e)}(),function(){"use strict";function e(e,t,a,r){function o(t){var a=angular.copy(t);return a.dateOfMarriage=e.filter(a.dateOfMarriage),a.dateOfRegistration=e.filter(a.dateOfRegistration),a.dateCertificateIssued=e.filter(a.dateCertificateIssued),a}var i=[{key:"registrationState",type:"select",className:"form-group",wrapper:["label","validation"],templateOptions:{required:!0,label:"State or territory",placeholder:"Select state or territory",options:t,onChange:"formState.australianStateChange(options.key, fc.$modelValue)"},validation:{messages:{required:"formState.errorMessages.requiredSelectErrorMessage(options)"}}}],s={NSW:["helpLink","iAmThe","dateOfMarriage","registrationNumber","registrationYear","brideFirstName","brideMiddleName","brideLastName","groomFirstName","groomMiddleName","groomLastName"],VIC:["helpLink","iAmThe","dateOfMarriage","registrationNumber","registrationYear","brideFirstName","brideMiddleName","brideLastName","groomFirstName","groomMiddleName","groomLastName"],WA:["helpLink","iAmThe","dateOfMarriage","registrationNumber","registrationYear","brideFirstName","brideMiddleName","brideLastName","groomFirstName","groomMiddleName","groomLastName"],TAS:["helpLink","iAmThe","dateOfMarriage","registrationNumber","registrationYear","brideFirstName","brideMiddleName","brideLastName","groomFirstName","groomMiddleName","groomLastName"],SA:["helpLink","iAmThe","dateOfMarriage","registrationNumber","brideFirstName","brideMiddleName","brideLastName","groomFirstName","groomMiddleName","groomLastName","helpText","dateCertificateIssued","certificateNumber"],ACT:["helpLink","iAmThe","dateOfMarriage","registrationNumber","brideFirstName","brideMiddleName","brideLastName","groomFirstName","groomMiddleName","groomLastName","dateCertificateIssued","certificateNumber"],NT:["helpLink","iAmThe","dateOfMarriage","registrationNumber","brideFirstName","brideMiddleName","brideLastName","groomFirstName","groomMiddleName","groomLastName","dateCertificateIssued","certificateNumber"],QLD:["helpLink","iAmThe","dateOfMarriage","dateOfRegistration","registrationNumber","brideFirstName","brideMiddleName","brideLastName","groomFirstName","groomMiddleName","groomLastName"]};return{fields:i,mapModel:o,fieldMap:s,allFields:a,extensions:r}}e.$inject=["partialDate","stateOptions","marriageCertificateCommon","marriageCertificateExtensions"],angular.module("link.police").factory("marriageCertificateFields",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s){function n(){e.go("dashboard")}function l(){a.go("linkRMSOptions",t.returnState)}var c=this,u=r.RMS.LINKING;angular.extend(c,{continueWithoutLinking:n,linkToRMS:l},u)}e.$inject=["$state","$stateParams","redirectService","SNIPPETS","$scope","myAccountAPI","cookie"],angular.module("ma").controller("welcomeLinkRMSController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l){function c(){return[].concat(r,o.getAddressFields(b.model),h)}function u(t){e.details={licenseOrCardNumber:t.licenseDetails.licenseOrCardNumber||null,cardId:t.licenseDetails.cardId||null,email:t.licenseDetails.email||null,emailAddress:t.licenseDetails.emailAddress||null,mobileNumber:t.licenseDetails.mobileNumber||null,lastName:t.licenseDetails.lastName||null}}function d(){s.get("guestTransactionToken")?e.details.emailAddress&&e.details.mobileNumber&&e.details.licenseOrCardNumber&&e.details.cardId&&e.details.lastName?t.go("linkRMSPreviousTransactionDetails"):e.details.licenseOrCardNumber&&e.details.cardId&&e.details.lastName?t.go("linkRMSOptions"):t.go("welcomeLinkRMS"):t.go("linkGovService",{showWelcomeAlert:!0})}function p(e){e.message&&m({type:"danger",heading:"Error!",text:e.message})}function m(e){b.alert=angular.extend({},{type:"info"},e)}function g(){b.alert=void 0}function f(e){if(b.validationSummaryFields=angular.copy(b.fields),b.form.$valid){if(e.residential||!e.mailing)return a.saveCustomerProfile(e).then(d)["catch"](p);m({type:"danger",heading:"Error!",text:"Please provide a Residential Address."})}else b.form.$dirty?g():d()}var b=this;s.remove("activation"),l.isFirstTimeLogin=!0,b.model={firstName:"",middleName:"",lastName:"",emailNotification:i.emailNotification||!1,news:i.news||!1,newGov:i.newGov||!1,verifiedmobile:!1,verifiedemail:!1};var h=[{key:"mobile",type:"snsw-pin-code-entry",defaultValue:{code:"+61"},templateOptions:{type:"mobile",areaCode:!0,showEdit:!0,required:!1}},{key:"email",type:"snsw-pin-code-entry",defaultValue:{email:""},templateOptions:{type:"alternateEmail",showEdit:!0,required:!1}}];if(e.errorMessages=[],e.details={},s.get("guestTransactionToken")){var v=s.get("guestTransactionToken");a.retrieveLicenseDetails(v).then(u)}var y={formState:{sameAddressChange:function(e){e?b.model.mailingCountry="":b.model.mailingCountry=b.model.residentialCountry,this.switchEntry("mailing")},switchEntry:function(e){b.model[e]="",b.fields=c()}}},S=[];angular.extend(b,{options:y,onSubmit:f,fields:c(),dismissAlert:g,validationSummaryFields:S,redirect:d})}e.$inject=["$scope","$state","myAccountAPI","nameFields","addressFieldsSvc","contactDetails","cookie","commonUtil","$rootScope"],angular.module("ma").controller("welcomePersonalDetailsController",e)}(),function(){"use strict";function e(e,t,a,r,o,i,s,n,l){function c(t){o.isLoading=!1,"TEST"===t.statusObject.Question1?e.selectedQuestions.first=null:e.selectedQuestions.first=t.statusObject.Question1,"TEST"===t.statusObject.Question2?e.selectedQuestions.second=null:e.selectedQuestions.second=t.statusObject.Question2,"TEST"===t.statusObject.Question3?e.selectedQuestions.third=null:e.selectedQuestions.third=t.statusObject.Question3,typeof t.statusObject===t.statusObject.Answer1||t.statusObject.Answer2||t.statusObject.Answer3?(e.answers.first=t.statusObject.Answer1,e.answers.second=t.statusObject.Answer2,e.answers.third=t.statusObject.Answer3,e.password.showOnSubmit=!0):e.password.showOnSubmit=!1}function u(){t.go("welcomePersonalDetails")}o.isLoading=!0,s.remove("activation"),o.isFirstTimeLogin=!0,e.error="",e.email=r.email,e.selectedQuestions={first:null,second:null,third:null},e.answers={first:null,second:null,third:null},e.password={show:!1,showOnSubmit:!1,isBad:!1,value:null,error:null},e.submitPassword=function(){o.isLoading=!0,n.verifyCurrentUserPassword({password:e.password.value}).then(function(){o.isLoading=!1,e.password.isBad=!1,e["continue"]()})["catch"](function(t){o.isLoading=!1,e.password.value="",e.password.isBad=!0,e.password.error=t.message})},l.getSecurityQuestions().then(c),e["continue"]=function(){return e.password.showOnSubmit&&!e.password.show?void(e.password.show=!0):void l.updateSecurityQuestions(e.password.value,e.selectedQuestions.first,e.answers.first,e.selectedQuestions.second,e.answers.second,e.selectedQuestions.third,e.answers.third).then(u)}}e.$inject=["$scope","$state","vf","user","$rootScope","$window","cookie","myAccountAPI","maSecQuestion"],angular.module("ma").controller("welcomeSecQuestionController",e)}();
//# sourceMappingURL=app.min.js.map
